<html lang="he" dir="rtl"><head><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6ImExZWJmY2U1ZjYwZWY5Y2NkMGViNTc3ZmI3ZjkxZGRjODg1MDA0YzAiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIxMzUxMTcwODU5MDcxODA0NTk5OCIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjXzc2NDYxMmFkZjIyMDYzOWZfUHJheGlzX0FJX0Rhc2hib2FyZF92OC4zX0hFLmh0bWwtNzU0In0sImV4cCI6MTc1NjgxMDgwMywiaWF0IjoxNzU2ODA3MjAzLCJhbGciOiJSUzI1NiJ9.l8ruVNUrfObkbg4NvgBieSEQqBzPLYyWEg2dBrxgldlDXrx1NDl9jGa425mJpTr4MPjN-04qATES6pul80Sb0A4WtCj0xvr8DXHVdf6Db3Yxy6nBbab69Gm7a8aIw-0KfTsgCoQjRLydgW16mfjgtqI3SSjmgHbLuFYTb_i0rKV--xUpRlQLZKJ7W7sYFgeD1nCKPLo7UtMYjYxoZXBvhY2sYD0hWWHLwZUF4EMDe7oj1EGZqM13vTnIGYXRdvEHjeiJrP60w9Egi8RA7kkAzt9obRfLWw1qy7Ah1AcU4XxXBhTHBPHeja4tQ3L9EDs8YihMeggNb37H88-gNl3mTQ","c_764612adf220639f_Praxis_AI_Dashboard_v8.3_HE.html-754")</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash-preview-05-20","imageModelName":"imagen-3.0-generate-002","imageEditModelName":"gemini-2.5-flash-image-preview","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17"]})</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Praxis AI - לוח מחוונים לניתוח שוק v8.3</title>
    
    <!-- Firebase Initialization -->
    <script>
        (function(firebaseConfig, initialAuthToken, appId) {
            window.__firebase_config = firebaseConfig;
            window.__initial_auth_token = initialAuthToken;
            window.__app_id = appId;
        })("{\n  \"apiKey\": \"AIzaSyACmEsyA6qSLhTHMioe9JlkctHjCTT4JBc\",\n  \"authDomain\": \"praxis-ai-dashboard.firebaseapp.com\",\n  \"projectId\": \"praxis-ai-dashboard\",\n  \"storageBucket\": \"praxis-ai-dashboard.firebasestorage.app\",\n  \"messagingSenderId\": \"829478193461\",\n  \"appId\": \"1:829478193461:web:c9a61a3084a97d0ac6247c\",\n  \"measurementId\": \"G-G6WX3D131S\"\n}","");
    </script>

    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Google Fonts: Inter and Assistant -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;700&amp;family=Inter:wght@300;400;700&amp;display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js for charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js" crossorigin="anonymous"></script>
    
    <!-- Libraries for PDF and PNG export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" crossorigin="anonymous"></script>
    
    <!-- React and ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin="anonymous"></script>
    
    <!-- Babel Standalone for in-browser JSX transpilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, onSnapshot, collection, query, addDoc, getDocs, updateDoc, orderBy, limit, deleteDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Expose Firebase modules globally for use in the Babel script
        window.firebase = { initializeApp, getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, getFirestore, doc, getDoc, setDoc, onSnapshot, collection, query, addDoc, getDocs, updateDoc, orderBy, limit, deleteDoc };
    </script>
    
    <!-- Embedded Data -->
    <script id="gics-data" type="application/json">
    [
        {"Sector":"Industrials","Industry":"Aerospace & Defense","Ticker":"SPR","Name":"Spirit AeroSystems"},
        {"Sector":"Industrials","Industry":"Aerospace & Defense","Ticker":"TDG","Name":"TransDigm Group"},
        {"Sector":"Industrials","Industry":"Aerospace & Defense","Ticker":"TXT","Name":"Textron"},
        {"Sector":"Industrials","Industry":"Airlines","Ticker":"AAL","Name":"American Airlines Group"},
        {"Sector":"Industrials","Industry":"Airlines","Ticker":"ALK","Name":"Alaska Air Group"},
        {"Sector":"Industrials","Industry":"Airlines","Ticker":"DAL","Name":"Delta Air Lines"},
        {"Sector":"Industrials","Industry":"Airlines","Ticker":"LUV","Name":"Southwest Airlines"},
        {"Sector":"Industrials","Industry":"Airlines","Ticker":"UAL","Name":"United Airlines Holdings"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"AOS","Name":"A. O. Smith"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"BLD","Name":"TopBuild"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"CARR","Name":"Carrier Global"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"DOOR","Name":"Masonite International"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"FBHS","Name":"Fortune Brands Home & Security"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"JCI","Name":"Johnson Controls"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"LII","Name":"Lennox International"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"MAS","Name":"Masco"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"OC","Name":"Owens Corning"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"POOL","Name":"Pool Corporation"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"TT","Name":"Trane Technologies"},
        {"Sector":"Industrials","Industry":"Building Products","Ticker":"VMC","Name":"Vulcan Materials"},
        {"Sector":"Industrials","Industry":"Construction & Engineering","Ticker":"J","Name":"Jacobs Engineering Group"},
        {"Sector":"Industrials","Industry":"Construction & Engineering","Ticker":"PWR","Name":"Quanta Services"},
        {"Sector":"Industrials","Industry":"Electrical Equipment","Ticker":"AME","Name":"Ametek"},
        {"Sector":"Industrials","Industry":"Electrical Equipment","Ticker":"EMR","Name":"Emerson Electric"},
        {"Sector":"Industrials","Industry":"Electrical Equipment","Ticker":"ETN","Name":"Eaton Corporation"},
        {"Sector":"Industrials","Industry":"Electrical Equipment","Ticker":"FSLR","Name":"First Solar"},
        {"Sector":"Industrials","Industry":"Electrical Equipment","Ticker":"GNRC","Name":"Generac Holdings"},
        {"Sector":"Industrials","Industry":"Electrical Equipment","Ticker":"HUBB","Name":"Hubbell Inc."},
        {"Sector":"Industrials","Industry":"Electrical Equipment","Ticker":"ROP","Name":"Roper Technologies"},
        {"Sector":"Industrials","Industry":"Industrial Conglomerates","Ticker":"GE","Name":"General Electric"},
        {"Sector":"Industrials","Industry":"Industrial Conglomerates","Ticker":"HON","Name":"Honeywell"},
        {"Sector":"Industrials","Industry":"Industrial Conglomerates","Ticker":"MMM","Name":"3M"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"CAT","Name":"Caterpillar Inc."},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"CMI","Name":"Cummins"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"DE","Name":"Deere & Company"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"DOV","Name":"Dover Corporation"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"GWW","Name":"W. W. Grainger"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"IR","Name":"Ingersoll Rand"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"ITW","Name":"Illinois Tool Works"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"PCAR","Name":"Paccar"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"PH","Name":"Parker-Hannifin"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"PNR","Name":"Pentair"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"SNA","Name":"Snap-on"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"SWK","Name":"Stanley Black & Decker"},
        {"Sector":"Industrials","Industry":"Industrial Machinery","Ticker":"XYL","Name":"Xylem Inc."},
        {"Sector":"Industrials","Industry":"Professional Services","Ticker":"ACN","Name":"Accenture"},
        {"Sector":"Industrials","Industry":"Professional Services","Ticker":"ADS","Name":"Alliance Data Systems"},
        {"Sector":"Industrials","Industry":"Professional Services","Ticker":"CTLT","Name":"Catalent"},
        {"Sector":"Industrials","Industry":"Professional Services","Ticker":"PAYX","Name":"Paychex"},
        {"Sector":"Industrials","Industry":"Professional Services","Ticker":"V","Name":"Visa Inc."},
        {"Sector":"Industrials","Industry":"Road & Rail","Ticker":"CHRW","Name":"C.H. Robinson"},
        {"Sector":"Industrials","Industry":"Road & Rail","Ticker":"CSX","Name":"CSX Corporation"},
        {"Sector":"Industrials","Industry":"Road & Rail","Ticker":"JBHT","Name":"J.B. Hunt"},
        {"Sector":"Industrials","Industry":"Road & Rail","Ticker":"NSC","Name":"Norfolk Southern"},
        {"Sector":"Industrials","Industry":"Road & Rail","Ticker":"ODFL","Name":"Old Dominion Freight Line"},
        {"Sector":"Industrials","Industry":"Road & Rail","Ticker":"UNP","Name":"Union Pacific"},
        {"Sector":"Industrials","Industry":"Trading Companies & Distributors","Ticker":"FAST","Name":"Fastenal"},
        {"Sector":"Industrials","Industry":"Trading Companies & Distributors","Ticker":"URI","Name":"United Rentals"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"ACIW","Name":"ACI Worldwide"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"ADP","Name":"ADP"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"AKAM","Name":"Akamai"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"ANSS","Name":"Ansys"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"AVGO","Name":"Broadcom Inc."},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"BR","Name":"Broadridge Financial Solutions"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"CDNS","Name":"Cadence Design Systems"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"CTSH","Name":"Cognizant"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"DXC","Name":"DXC Technology"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"EPAM","Name":"EPAM Systems"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"FFIV","Name":"F5 Networks"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"FIS","Name":"FIS"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"FISV","Name":"Fiserv"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"GPN","Name":"Global Payments"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"IBM","Name":"IBM"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"JKHY","Name":"Jack Henry & Associates"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"MA","Name":"Mastercard"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"MSI","Name":"Motorola Solutions"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"NOW","Name":"ServiceNow"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"PAYC","Name":"Paycom"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"SNPS","Name":"Synopsys"},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"TRMB","Name":"Trimble Inc."},
        {"Sector":"Information Technology","Industry":"IT Services","Ticker":"VRSN","Name":"Verisign"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"ADI","Name":"Analog Devices"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"AMAT","Name":"Applied Materials"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"AMD","Name":"AMD"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"INTC","Name":"Intel"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"KLAC","Name":"KLA Corporation"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"LRCX","Name":"Lam Research"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"MCHP","Name":"Microchip Technology"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"MU","Name":"Micron Technology"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"QCOM","Name":"Qualcomm"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"SWKS","Name":"Skyworks Solutions"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"TER","Name":"Teradyne"},
        {"Sector":"Information Technology","Industry":"Semiconductors & Semiconductor Equipment","Ticker":"TXN","Name":"Texas Instruments"},
        {"Sector":"Information Technology","Industry":"Software","Ticker":"ADBE","Name":"Adobe Inc."},
        {"Sector":"Information Technology","Industry":"Software","Ticker":"ADSK","Name":"Autodesk"},
        {"Sector":"Information Technology","Industry":"Software","Ticker":"CDW","Name":"CDW"},
        {"Sector":"Information Technology","Industry":"Software","Ticker":"CRM","Name":"Salesforce"},
        {"Sector":"Information Technology","Industry":"Software","Ticker":"INTU","Name":"Intuit"},
        {"Sector":"Information Technology","Industry":"Software","Ticker":"MSFT","Name":"Microsoft"},
        {"Sector":"Information Technology","Industry":"Software","Ticker":"ORCL","Name":"Oracle"},
        {"Sector":"Information Technology","Industry":"Software","Ticker":"PTC","Name":"PTC"},
        {"Sector":"Information Technology","Industry":"Software","Ticker":"RHT","Name":"Red Hat"},
        {"Sector":"Information Technology","Industry":"Software","Ticker":"SAP","Name":"SAP"},
        {"Sector":"Information Technology","Industry":"Software","Ticker":"VMW","Name":"VMware"},
        {"Sector":"Health Care","Industry":"Biotechnology","Ticker":"AMGN","Name":"Amgen"},
        {"Sector":"Health Care","Industry":"Biotechnology","Ticker":"BIIB","Name":"Biogen"},
        {"Sector":"Health Care","Industry":"Biotechnology","Ticker":"GILD","Name":"Gilead Sciences"},
        {"Sector":"Health Care","Industry":"Biotechnology","Ticker":"REGN","Name":"Regeneron Pharmaceuticals"},
        {"Sector":"Health Care","Industry":"Biotechnology","Ticker":"VRTX","Name":"Vertex Pharmaceuticals"},
        {"Sector":"Health Care","Industry":"Health Care Equipment & Supplies","Ticker":"A","Name":"Agilent Technologies"},
        {"Sector":"Health Care","Industry":"Health Care Equipment & Supplies","Ticker":"ABT","Name":"Abbott Laboratories"},
        {"Sector":"Health Care","Industry":"Health Care Equipment & Supplies","Ticker":"BAX","Name":"Baxter International"},
        {"Sector":"Health Care","Industry":"Health Care Equipment & Supplies","Ticker":"BDX","Name":"Becton Dickinson"},
        {"Sector":"Health Care","Industry":"Health Care Equipment & Supplies","Ticker":"BSX","Name":"Boston Scientific"},
        {"Sector":"Health Care","Industry":"Health Care Equipment & Supplies","Ticker":"COO","Name":"CooperCompanies"},
        {"Sector":"Health Care","Industry":"Health Care Equipment & Supplies","Ticker":"DHR","Name":"Danaher Corporation"},
        {"Sector":"Health Care","Industry":"Health Care Equipment & Supplies","Ticker":"EW","Name":"Edwards Lifesciences"},
        {"Sector":"Health Care","Industry":"Health Care Equipment & Supplies","Ticker":"HOLX","Name":"Hologic"},
        {"Sector":"Health Care","Industry":"Health Care Equipment & Supplies","Ticker":"IDXX","Name":"Idexx Laboratories"},
        {"Sector":"Information Technology","Industry":"Semiconductors","Ticker":"NVDA","Name":"NVIDIA Corp"}
    ]
    </script>
    <script id="param-data" type="text/csv">
"Full Parameter Name","Short Parameter Name","Definition","What to Write","Unit of Measure","Why Check This Parameter","How to Find the Data","Possible Cases and Scenarios","Technical Meaning/Signal","Recommended Action/Response","Essential Examples and Notes"
Stock Name,Stock Name,"The full name of the security/fund/stock.","The full name of the security/fund/stock.","Text","Certain identification, tracking, and balance sheet in your stock trading map.","On stock exchange websites, Google, company website.","Ensure trading the correct security.","Certain identification of the asset/company.","Full or abbreviated name in English.","iShares Bitcoin Trust"
Ticker,Ticker,"The trading symbol of the stock in the capital market.","A short identification code (usually 3-5 letters) that identifies the security on the stock exchange.","Text","Certain identification, tracking, and balance sheet in your stock trading map.","In any trading system, stock exchange websites.","Ensure trading the correct security.","Quick and accurate identification for trading and analysis.","International symbol.","IBIT"
InitialPortfolioValue,InitialPortfolioValue,"The starting value of your investment portfolio.","Enter the total value of your portfolio at the beginning of the tracking period.","Numeric","To establish a baseline for performance measurement.","Your brokerage account statement.","N/A","Baseline for ROI calculation.","Ensure accuracy for meaningful analysis.","e.g., 10000"
CurrentPortfolioValue,CurrentPortfolioValue,"The current market value of your investment portfolio.","Update this value regularly to reflect market changes.","Numeric","To track real-time performance and growth.","Your brokerage account dashboard.","Value can fluctuate.","Indicates profit or loss against the initial value.","Monitor for significant changes.","e.g., 12500"
Sector,Sector,"The economic sector the company belongs to.","Select from the dropdown list.","Text","To understand the broader economic context of the stock.","Based on GICS classification.","N/A","Helps in diversification and sector-based analysis.","Ensure correct classification.","e.g., Information Technology"
Industry,Industry,"The specific industry group within the sector.","Select from the dropdown, filtered by Sector.","Text","For more granular analysis of the company's peers and specific market.","Based on GICS classification.","N/A","Compares the stock to its direct competitors.","Ensure correct classification.","e.g., Application Software"
CurrentPrice,CurrentPrice,"The latest trading price of the stock.","Enter the current market price.","Numeric","The most fundamental piece of data for all technical calculations.","Live from your trading platform or financial websites.","Constantly changing during market hours.","The basis for all price-based indicators.","Update frequently for active trades.","e.g., 150.75"
RSI,RSI,"Relative Strength Index (14).","Enter the 14-day RSI value.","Numeric (0-100)","To measure momentum and identify overbought/oversold conditions.","On any charting platform under 'Indicators'.","Above 70 is overbought, below 30 is oversold.","High RSI suggests potential reversal down; Low RSI suggests potential reversal up.","Combine with other signals; don't use in isolation.","e.g., 65.4"
RiskRewardRatio,RiskRewardRatio,"The ratio between the potential profit of a trade and its potential loss.","Calculated automatically based on Entry, Stop Loss, and TP1.","Ratio","To ensure that the potential reward justifies the risk.","Auto-calculated.","A ratio > 2 is generally considered favorable.","A high ratio indicates a good potential return for the risk taken.","Aim for trades with a high Risk/Reward ratio.","e.g., 1:3"
    </script>
    
    <!-- Custom CSS for theme and layout -->
    <style>
        :root {
            --bg-color: #1a202c;
            --text-color: #e2e8f0;
            --secondary-text-color: #a0aec0;
            --card-bg: #2d3748;
            --accent-color-1: #667eea;
            --accent-color-2: #00bcd4;
            --accent-color-3: #f6ad55;
            --border-color: rgba(255, 255, 255, 0.1);
            --box-shadow-color: rgba(0, 0, 0, 0.4);
            --green-indicator: #4ade80;
            --red-indicator: #f87171;
            --yellow-indicator: #facc15;
        }

        body {
            font-family: 'Assistant', 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .dashboard-container {
            background-color: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 8px 24px var(--box-shadow-color);
        }
        
        .section-group-title {
            font-size: 1.6em;
            color: var(--accent-color-2);
            font-weight: 700;
            border-bottom: 2px solid var(--accent-color-1);
            text-align: right;
        }

        .section-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .info-section {
            background-color: rgba(45, 55, 72, 0.7);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--border-color);
        }
        
        .icon-container {
            font-size: 1.8em;
            color: var(--accent-color-1);
        }

        .text-content h3 {
            font-size: 1.2em;
            color: var(--accent-color-3);
            font-weight: 700;
            text-align: right;
        }
        
        .info-row {
            border-bottom: 1px dashed rgba(255, 255, 255, 0.05);
        }
        .info-row:last-child {
            border-bottom: none;
        }
        .info-row .label {
            color: var(--secondary-text-color);
            font-size: 0.9em;
        }
        
        .info-row input, .info-row select, .info-row textarea {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text-color);
            direction: rtl;
            text-align: right;
        }
        
        .info-row input[readonly] {
            background-color: rgba(0, 0, 0, 0.2);
            color: var(--accent-color-2);
            font-weight: bold;
            cursor: not-allowed;
        }

        .info-row input:focus, .info-row select:focus, .info-row textarea:focus {
            outline: none;
            border-color: var(--accent-color-1);
            box-shadow: 0 0 5px var(--accent-color-1);
        }
        
        .autocomplete-dropdown {
            position: absolute;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            z-index: 1000;
            text-align: right;
        }

        .autocomplete-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .ai-analysis-section {
            background: linear-gradient(145deg, rgba(45, 55, 72, 0.5), rgba(26, 32, 44, 0.5));
            border: 1px solid var(--accent-color-1);
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.2);
        }
        .ai-analysis-output {
            background-color: rgba(0,0,0,0.2);
        }
        .ai-analysis-output.loading::after {
            content: 'מנתח נתונים...';
            color: var(--accent-color-2);
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }
        
        /* Modal Styles */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            width: 90%;
            max-width: 800px; /* Increased width for training center */
            max-height: 90vh;
            overflow-y: auto;
        }

        .indicator-green { color: var(--green-indicator); }
        .indicator-red { color: var(--red-indicator); }
        .indicator-yellow { color: var(--yellow-indicator); }

        /* Tab Styles */
        .tabs-container {
            display: flex;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 1.5rem;
        }
        .tab-button {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            border: none;
            background-color: transparent;
            color: var(--secondary-text-color);
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            border-bottom: 3px solid transparent;
        }
        .tab-button.active {
            color: var(--accent-color-2);
            border-bottom: 3px solid var(--accent-color-2);
        }
        .tab-button:hover {
            color: var(--text-color);
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }

    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.absolute{position:absolute}.relative{position:relative}.left-4{left:1rem}.right-2{right:0.5rem}.top-1\/2{top:50%}.top-4{top:1rem}.col-span-full{grid-column:1 / -1}.mx-2{margin-left:0.5rem;margin-right:0.5rem}.my-4{margin-top:1rem;margin-bottom:1rem}.-mt-2{margin-top:-0.5rem}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:0.25rem}.ml-2{margin-left:0.5rem}.ml-3{margin-left:0.75rem}.mr-2{margin-right:0.5rem}.mr-4{margin-right:1rem}.mt-0{margin-top:0px}.mt-1{margin-top:0.25rem}.mt-10{margin-top:2.5rem}.mt-2{margin-top:0.5rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.min-h-screen{min-height:100vh}.min-h-\[100px\]{min-height:100px}.min-h-\[44px\]{min-height:44px}.w-8{width:2rem}.w-full{width:100%}.max-w-7xl{max-width:80rem}.flex-grow{flex-grow:1}.-translate-y-1\/2{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.list-none{list-style-type:none}.list-disc{list-style-type:disc}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-4{gap:1rem}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.overflow-x-auto{overflow-x:auto}.whitespace-pre-wrap{white-space:pre-wrap}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-gray-600{--tw-border-opacity:1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity:1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-cyan-600{--tw-bg-opacity:1;background-color:rgb(8 145 178 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-indigo-600{--tw-bg-opacity:1;background-color:rgb(79 70 229 / var(--tw-bg-opacity, 1))}.bg-orange-500{--tw-bg-opacity:1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1))}.bg-orange-600{--tw-bg-opacity:1;background-color:rgb(234 88 12 / var(--tw-bg-opacity, 1))}.bg-purple-600{--tw-bg-opacity:1;background-color:rgb(147 51 234 / var(--tw-bg-opacity, 1))}.bg-teal-600{--tw-bg-opacity:1;background-color:rgb(13 148 136 / var(--tw-bg-opacity, 1))}.p-4{padding:1rem}.p-0{padding:0px}.p-1{padding:0.25rem}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.p-6{padding:1.5rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.pb-2{padding-bottom:0.5rem}.pr-8{padding-right:2rem}.pt-4{padding-top:1rem}.pr-5{padding-right:1.25rem}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-light{font-weight:300}.font-medium{font-weight:500}.font-semibold{font-weight:600}.leading-tight{line-height:1.25}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity:1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-orange-400{--tw-text-opacity:1;color:rgb(251 146 60 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-teal-400{--tw-text-opacity:1;color:rgb(45 212 191 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-200{transition-duration:200ms}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-cyan-700:hover{--tw-bg-opacity:1;background-color:rgb(14 116 144 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity:1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\:bg-indigo-700:hover{--tw-bg-opacity:1;background-color:rgb(67 56 202 / var(--tw-bg-opacity, 1))}.hover\:bg-orange-600:hover{--tw-bg-opacity:1;background-color:rgb(234 88 12 / var(--tw-bg-opacity, 1))}.hover\:bg-orange-700:hover{--tw-bg-opacity:1;background-color:rgb(194 65 12 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-700:hover{--tw-bg-opacity:1;background-color:rgb(126 34 206 / var(--tw-bg-opacity, 1))}.hover\:bg-teal-700:hover{--tw-bg-opacity:1;background-color:rgb(15 118 110 / var(--tw-bg-opacity, 1))}.hover\:text-teal-400:hover{--tw-text-opacity:1;color:rgb(45 212 191 / var(--tw-text-opacity, 1))}.disabled\:opacity-50:disabled{opacity:0.5}@media (min-width: 640px){.sm\:mb-0{margin-bottom:0px}.sm\:w-1\/3{width:33.333333%}.sm\:w-2\/3{width:66.666667%}.sm\:w-auto{width:auto}.sm\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.sm\:flex-nowrap{flex-wrap:nowrap}.sm\:p-6{padding:1.5rem}.sm\:p-8{padding:2rem}.sm\:text-4xl{font-size:2.25rem;line-height:2.5rem}.sm\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 768px){.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.md\:p-8{padding:2rem}.md\:p-10{padding:2.5rem}}@media (min-width: 1024px){.lg\:text-5xl{font-size:3rem;line-height:1}}</style><script>(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define([], factory);
  } else if (typeof exports !== "undefined") {
    factory();
  } else {
    var mod = {
      exports: {}
    };
    factory();
    global.InlineBabelScript = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function () {
  "use strict";

  // Access React, ReactDOM and other globals
  const {
    React,
    ReactDOM,
    firebase,
    Chart,
    html2canvas,
    jspdf
  } = window;
  const {
    useState,
    useEffect,
    createContext,
    useContext,
    useCallback,
    useRef,
    useMemo
  } = React;
  const {
    createRoot
  } = ReactDOM;

  //======================================================================
  //  1. DATABASE & MOCK DATA
  //======================================================================
  const APP_VERSION = "8.3";
  const initialGicsData = JSON.parse(document.getElementById('gics-data').textContent || '[]');
  const paramDataElement = document.getElementById('param-data');
  const paramCSV = paramDataElement.textContent;
  const paramData = paramCSV.split('\n').slice(1).filter(line => line && line.trim() !== '').reduce((acc, line) => {
    const values = line.match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g).map(v => v.replace(/"/g, ''));
    const key = values[1];
    if (key) {
      acc[key.trim()] = {
        fullName: values[0],
        definition: values[2],
        usage: values[5],
        howTo: values[6]
      };
    }
    return acc;
  }, {});
  const generateMockPortfolioData = () => {
    const data = [];
    let value = 13732;
    for (let i = 90; i >= 0; i--) {
      const date = new Date();
      date.setDate(date.getDate() - i);
      value += (Math.random() - 0.48) * 250;
      data.push({
        time: date.toISOString().split('T')[0],
        value: value
      });
    }
    return data;
  };

  //======================================================================
  //  2. CONTEXTS (State Management)
  //======================================================================
  const DataContext = createContext();
  const FirebaseContext = createContext();
  const useData = () => useContext(DataContext);
  const useFirebase = () => useContext(FirebaseContext);

  //======================================================================
  //  3. DATA PROVIDER COMPONENT
  //======================================================================
  const DataProvider = ({
    children
  }) => {
    const [currentDateTime, setCurrentDateTime] = useState('');
    const [changeDescription, setChangeDescription] = useState('');
    const [isDataDirty, setIsDataDirty] = useState(false);
    const [apiStatus, setApiStatus] = useState({
      loading: false,
      error: null
    });
    const [tradeLog, setTradeLog] = useState([]);
    const [currentTradeId, setCurrentTradeId] = useState(null);
    const [globalFilter, setGlobalFilter] = useState('הכל');
    const [globalSearchQuery, setGlobalSearchQuery] = useState('');
    const [gicsDatabase, setGicsDatabase] = useState(initialGicsData);
    const [isLiveDataSet, setIsLiveDataSet] = useState(false);
    const [dataEntryMode, setDataEntryMode] = useState('manual');
    const initialData = {
      section1: {
        initialPortfolioValueILS: 10000,
        initialUSDRate: 3.70,
        initialPortfolioValueUSD: '0.00',
        currentPortfolioValueILS: 13732,
        currentUSDRate: 3.75,
        currentPortfolioValueUSD: '0.00',
        balanceUSD: 86.09,
        balanceILS: -108.07,
        creditLimit: 0,
        buyingPowerUSD: 49.92,
        dailyPLUSD: -245,
        totalPLUSD: '0.00',
        totalPLPercentage: '0.00'
      },
      section2: {
        stockName: '',
        tickerSymbol: '',
        sector: '',
        industry: '',
        exchange: '',
        securityType: 'Stock',
        marketCap: ''
      },
      section3: {
        currentPrice: 0,
        dailyRange: '',
        prevDayRange: '',
        currentVolume: '',
        avgVolume: '',
        unusualVolume: ''
      },
      section4: {
        supportLevels: '',
        resistanceLevels: '',
        ma20: 0,
        ma50: 0,
        ma100: 0,
        ma150: 0,
        ma200: 0,
        maMeaning: '',
        maAction: '',
        macd: 0,
        macdSignal: 0,
        macdHistogram: 0,
        macdMeaning: '',
        macdAction: '',
        rsi: 0,
        dailyRange: 0,
        atr: 0,
        atrPercent: 0,
        volatilityIndicator: '',
        vwap: 0
      },
      section5: {
        dailyPivot: 0,
        priceVsPivot: '',
        pivotAction: '',
        fib236: 0,
        fib382: 0,
        fibGoldenPocket: '',
        fib786: 0,
        priceAction: ''
      },
      section6: {
        revenue: '',
        eps: 0,
        peRatio: 0,
        pbRatio: 0,
        growth: '',
        debt: '',
        dividend: '',
        analystForecasts: ''
      },
      section7: {
        institutionalSentiment: '',
        shortInterest: '',
        materialNews: '',
        marketRisk: '',
        externalRisks: '',
        successChance: '',
        riskLevel: ''
      },
      section8: {
        step1: {
          details: '',
          status: 'פתוח',
          purchaseDate: '',
          targetDate: '',
          entryPrice: 0,
          currentPrice: 0,
          stopLoss: 0,
          trailingStop: '',
          units: 0
        },
        step2: {
          potentialRiskUnit: '0.00',
          financialRisk: '0.00',
          sharesToPurchase: 0,
          totalCost: '0.00',
          remainingBalance: '0.00'
        },
        step3: {
          tp1: 0,
          tp2: 0,
          tp3: 0,
          tp4: 0,
          profitPotential1: '0.00',
          riskRewardRatio: '',
          forecast: ''
        },
        step4: {
          closeDate: '',
          closePrice: '',
          fees: '',
          financialResult: '',
          roi: ''
        },
        step5: {
          news: '',
          sentiment: '',
          volatility: '',
          marketRisk: '',
          notes: '',
          alerts: '',
          chartSnapshots: '',
          followedPlan: '',
          lessonsLearned: ''
        }
      },
      portfolioHistory: generateMockPortfolioData()
    };
    const [data, setData] = useState(initialData);
    useEffect(() => {
      const updateDateTime = () => {
        const now = new Date();
        const options = {
          year: 'numeric',
          month: '2-digit',
          day: '2-digit',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit',
          hour12: false
        };
        setCurrentDateTime(now.toLocaleString('he-IL', options));
      };
      updateDateTime();
      const intervalId = setInterval(updateDateTime, 1000);
      return () => clearInterval(intervalId);
    }, []);
    const handleNestedChange = (path, value) => {
      setIsDataDirty(true);
      setData(prevData => {
        const newData = JSON.parse(JSON.stringify(prevData));
        let current = newData;
        const keys = path.split('.');
        for (let i = 0; i < keys.length - 1; i++) {
          current = current[keys[i]];
        }
        current[keys[keys.length - 1]] = value;
        return newData;
      });
    };
    const populateDashboardData = useCallback((importedData, markAsDirty = false) => {
      if (importedData) {
        setData(prevData => ({
          ...prevData,
          ...importedData
        }));
        if (markAsDirty) {
          setIsDataDirty(true);
        }
      }
    }, []);
    const loadTrade = tradeData => {
      setData(tradeData.data);
      setCurrentTradeId(tradeData.id);
      setIsDataDirty(false);
      setIsLiveDataSet(!!tradeData.data.section3.currentPrice);
    };
    const newTrade = () => {
      setData(initialData);
      setCurrentTradeId(null);
      setIsDataDirty(false);
      setIsLiveDataSet(false);
      setDataEntryMode('manual');
    };
    const value = {
      currentDateTime,
      changeDescription,
      setChangeDescription,
      isDataDirty,
      setIsDataDirty,
      data,
      setData,
      handleNestedChange,
      populateDashboardData,
      apiStatus,
      setApiStatus,
      tradeLog,
      setTradeLog,
      currentTradeId,
      setCurrentTradeId,
      loadTrade,
      newTrade,
      initialData,
      globalFilter,
      setGlobalFilter,
      globalSearchQuery,
      setGlobalSearchQuery,
      gicsDatabase,
      setGicsDatabase,
      isLiveDataSet,
      setIsLiveDataSet,
      dataEntryMode,
      setDataEntryMode
    };
    return /*#__PURE__*/React.createElement(DataContext.Provider, {
      value: value
    }, children);
  };

  //======================================================================
  //  4. FIREBASE & UTILS PROVIDER COMPONENT
  //======================================================================
  const FirebaseProvider = ({
    children
  }) => {
    const {
      data,
      isDataDirty,
      setIsDataDirty,
      setTradeLog,
      currentTradeId,
      setCurrentTradeId,
      changeDescription,
      setChangeDescription,
      populateDashboardData,
      loadTrade
    } = useData();
    const [db, setDb] = useState(null);
    const [userId, setUserId] = useState('טוען...');
    const [isAuthReady, setIsAuthReady] = useState(false);
    useEffect(() => {
      const initFirebase = async () => {
        try {
          const firebaseConfig = JSON.parse(typeof window.__firebase_config !== 'undefined' ? window.__firebase_config : '{}');
          const app = firebase.initializeApp(firebaseConfig);
          const authInstance = firebase.getAuth(app);
          const dbInstance = firebase.getFirestore(app);
          setDb(dbInstance);
          firebase.onAuthStateChanged(authInstance, async user => {
            if (user) {
              setUserId(user.uid);
              setIsAuthReady(true);
            } else {
              try {
                if (typeof window.__initial_auth_token !== 'undefined' && window.__initial_auth_token) {
                  await firebase.signInWithCustomToken(authInstance, window.__initial_auth_token);
                } else {
                  await firebase.signInAnonymously(authInstance);
                }
              } catch (error) {
                console.error("שגיאת התחברות ל-Firebase:", error);
              }
            }
          });
        } catch (error) {
          console.error("שגיאת אתחול Firebase:", error);
        }
      };
      initFirebase();
    }, []);
    useEffect(() => {
      if (!isAuthReady || !db || !userId || userId === 'טוען...') return;
      const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
      const tradesCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/trades`);
      const unsubscribeTrades = firebase.onSnapshot(tradesCollectionRef, querySnapshot => {
        const trades = querySnapshot.docs.map(doc => ({
          id: doc.id,
          ...doc.data()
        }));
        setTradeLog(trades);
      });
      return () => {
        unsubscribeTrades();
      };
    }, [isAuthReady, db, userId]);
    const saveOrUpdateTrade = async () => {
      if (!db || !userId) {
        alert('שגיאה: Firebase לא אותחל.');
        return;
      }
      if (!data.section2.tickerSymbol) {
        alert('יש להזין סימול מניה לפני השמירה.');
        return;
      }
      const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
      const tradeData = {
        data,
        ticker: data.section2.tickerSymbol,
        status: data.section8.step1.status,
        lastUpdated: new Date().toISOString(),
        changeDescription: changeDescription || "עדכון נתונים"
      };
      try {
        if (currentTradeId) {
          const tradeDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/trades`, currentTradeId);
          const currentDoc = await firebase.getDoc(tradeDocRef);
          if (currentDoc.exists()) {
            const versionsCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/trades/${currentTradeId}/versions`);
            await firebase.addDoc(versionsCollectionRef, currentDoc.data());
          }
          await firebase.updateDoc(tradeDocRef, tradeData);
          alert('העסקה עודכנה בהצלחה. הגרסה הקודמת נשמרה בארכיון.');
        } else {
          const tradesCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/trades`);
          const docRef = await firebase.addDoc(tradesCollectionRef, tradeData);
          setCurrentTradeId(docRef.id);
          alert('עסקה חדשה נשמרה בהצלחה!');
        }
        setIsDataDirty(false);
        setChangeDescription('');
      } catch (e) {
        console.error("שגיאה בשמירת מסמך: ", e);
        alert('שגיאה בשמירת נתונים: ' + e.message);
      }
    };
    const restoreVersion = trade => {
      if (confirm(`האם אתה בטוח שברצונך לטעון את העסקה עבור ${trade.ticker} מתאריך ${new Date(trade.lastUpdated).toLocaleString()}? פעולה זו תחליף את השינויים הנוכחיים שלא נשמרו.`)) {
        loadTrade(trade);
      }
    };
    const emergencyRestore = () => {
      if (tradeLog.length > 0) {
        const sortedTrades = [...tradeLog].sort((a, b) => new Date(b.lastUpdated) - new Date(a.lastUpdated));
        const latestTrade = sortedTrades[0];
        if (confirm(`פעולה זו תשחזר את העסקה האחרונה שנשמרה: ${latestTrade.ticker} מתאריך ${new Date(latestTrade.lastUpdated).toLocaleString()}. האם אתה בטוח?`)) {
          loadTrade(latestTrade);
        }
      } else {
        alert("לא נמצאו עסקאות לשחזור.");
      }
    };
    const generateStandardFileName = (description, extension) => {
      const now = new Date();
      const year = now.getFullYear();
      const month = String(now.getMonth() + 1).padStart(2, '0');
      const day = String(now.getDate()).padStart(2, '0');
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');
      const dateStamp = `${year}${month}${day}_${hours}${minutes}${seconds}`;
      const finalDescription = (changeDescription || description).replace(/[^a-zA-Z0-9]/g, '-');
      return `PraxisAI_v${APP_VERSION}_${finalDescription}_${dateStamp}.${extension}`;
    };
    const exportDataAsJson = () => {
      const dataToExport = {
        mainData: data
      };
      const jsonString = JSON.stringify(dataToExport, null, 2);
      const fileName = generateStandardFileName('DataBackup', 'json');
      const blob = new Blob([jsonString], {
        type: 'application/json;charset=utf-8'
      });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = fileName;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    };
    const importDataFromJson = event => {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = e => {
        try {
          const importedData = JSON.parse(e.target.result);
          populateDashboardData(importedData.mainData, true);
          alert('הנתונים נטענו בהצלחה! לחץ על "שמור עסקה חדשה" או "עדכן עסקה" כדי לסנכרן עם הענן.');
        } catch (error) {
          alert('שגיאה בטעינת קובץ JSON: ' + error.message);
        }
      };
      reader.readAsText(file);
    };
    const exportSourceCode = () => {
      const htmlContent = document.documentElement.outerHTML;
      const fileName = generateStandardFileName('SourceCode', 'html');
      const blob = new Blob([htmlContent], {
        type: 'text/html;charset=utf-8'
      });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = fileName;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    };
    const exportAsPng = async (sectionsToExport, modalRef) => {
      const dashboardEl = document.querySelector('.dashboard-container');
      if (!dashboardEl) return;
      if (modalRef.current) modalRef.current.style.display = 'none';
      try {
        const canvas = await html2canvas(dashboardEl, {
          scale: 2,
          useCORS: true
        });
        const fileName = generateStandardFileName('Snapshot', 'png');
        const link = document.createElement('a');
        link.href = canvas.toDataURL('image/png');
        link.download = fileName;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      } catch (error) {
        console.error("שגיאה בייצוא ל-PNG:", error);
      } finally {
        if (modalRef.current) modalRef.current.style.display = 'flex';
      }
    };
    const exportAsPdf = async (sectionsToExport, modalRef) => {
      const dashboardEl = document.querySelector('.dashboard-container');
      if (!dashboardEl) return;
      if (modalRef.current) modalRef.current.style.display = 'none';
      const allSections = dashboardEl.querySelectorAll('.section-container');
      allSections.forEach(section => {
        const title = section.getAttribute('data-section-title');
        if (sectionsToExport.length > 0 && !sectionsToExport.includes(title)) {
          section.style.display = 'none';
        }
      });
      try {
        const canvas = await html2canvas(dashboardEl, {
          scale: 2,
          useCORS: true
        });
        const imgData = canvas.toDataURL('image/png');
        const {
          jsPDF
        } = jspdf;
        const pdf = new jsPDF('p', 'mm', 'a4');
        const imgProps = pdf.getImageProperties(imgData);
        const pdfWidth = pdf.internal.pageSize.getWidth();
        const pdfHeight = imgProps.height * pdfWidth / imgProps.width;
        pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
        pdf.save(generateStandardFileName('Report', 'pdf'));
      } catch (error) {
        console.error("שגיאה בייצוא ל-PDF:", error);
      } finally {
        allSections.forEach(section => {
          section.style.display = '';
        });
        if (modalRef.current) modalRef.current.style.display = 'flex';
      }
    };
    const value = {
      userId,
      isAuthReady,
      db,
      saveOrUpdateTrade,
      exportDataAsJson,
      importDataFromJson,
      exportSourceCode,
      exportAsPng,
      exportAsPdf,
      restoreVersion,
      emergencyRestore
    };
    return /*#__PURE__*/React.createElement(FirebaseContext.Provider, {
      value: value
    }, children);
  };

  //======================================================================
  //  5. UI COMPONENTS (NEW & UPDATED)
  //======================================================================

  const Tabs = ({
    children
  }) => {
    const [activeTab, setActiveTab] = useState(children[0].props.label);
    const handleClick = (e, newActiveTab) => {
      e.preventDefault();
      setActiveTab(newActiveTab);
    };
    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
      className: "tabs-container"
    }, children.map(child => /*#__PURE__*/React.createElement("button", {
      key: child.props.label,
      className: `${activeTab === child.props.label ? 'active' : ''} tab-button`,
      onClick: e => handleClick(e, child.props.label)
    }, /*#__PURE__*/React.createElement("i", {
      className: `fas ${child.props.icon} ml-2`
    }), child.props.label))), /*#__PURE__*/React.createElement("div", {
      className: "tab-content-container"
    }, children.map(child => {
      if (child.props.label === activeTab) {
        return /*#__PURE__*/React.createElement("div", {
          key: child.props.label,
          className: "tab-content active"
        }, child.props.children);
      }
      return /*#__PURE__*/React.createElement("div", {
        key: child.props.label,
        className: "tab-content"
      }, child.props.children);
    })));
  };
  const Tab = ({
    label,
    children
  }) => {
    return /*#__PURE__*/React.createElement("div", {
      label: label,
      className: "hidden"
    }, children);
  };
  const Indicator = ({
    text,
    colorClass,
    iconClass
  }) => /*#__PURE__*/React.createElement("span", {
    className: `flex items-center font-semibold ${colorClass}`
  }, iconClass && /*#__PURE__*/React.createElement("i", {
    className: `fas ${iconClass} ml-2`
  }), text);
  const InfoRow = ({
    label,
    children,
    paramKey,
    onInfoClick,
    indicator
  }) => /*#__PURE__*/React.createElement("div", {
    className: "info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"
  }, /*#__PURE__*/React.createElement("span", {
    className: "label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center"
  }, label, paramKey && /*#__PURE__*/React.createElement("i", {
    className: "fas fa-info-circle text-gray-400 mr-2 cursor-pointer",
    onClick: () => onInfoClick(paramKey),
    title: `למידע נוסף על ${label}`
  })), /*#__PURE__*/React.createElement("div", {
    className: "w-full sm:w-2/3 flex items-center justify-end"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex-grow"
  }, children), indicator && /*#__PURE__*/React.createElement("div", {
    className: "mr-4"
  }, indicator)));
  const Section = ({
    title,
    children
  }) => /*#__PURE__*/React.createElement("div", {
    className: "section-container",
    "data-section-title": title
  }, /*#__PURE__*/React.createElement("h2", {
    className: "section-group-title text-right mt-10 mb-5 pb-2"
  }, title), /*#__PURE__*/React.createElement("div", {
    className: "section-grid"
  }, children));
  const InfoSectionCard = ({
    icon,
    title,
    children
  }) => /*#__PURE__*/React.createElement("div", {
    className: "info-section flex flex-col"
  }, /*#__PURE__*/React.createElement("div", {
    className: "info-section-header flex items-center w-full mb-2"
  }, /*#__PURE__*/React.createElement("div", {
    className: "icon-container ml-3 w-8 text-center"
  }, /*#__PURE__*/React.createElement("i", {
    className: `fas ${icon}`,
    title: title
  })), /*#__PURE__*/React.createElement("div", {
    className: "text-content flex-grow"
  }, title && /*#__PURE__*/React.createElement("h3", {
    className: "text-right mt-0 mb-2"
  }, title))), children);
  const Header = () => {
    const {
      currentDateTime
    } = useData();
    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("div", {
      className: "absolute top-4 left-4 text-sm text-gray-400 font-light"
    }, currentDateTime), /*#__PURE__*/React.createElement("div", {
      className: "text-center mb-4"
    }, /*#__PURE__*/React.createElement("h1", {
      className: "text-3xl sm:text-4xl lg:text-5xl font-extrabold text-teal-400 mb-2 leading-tight"
    }, "Praxis AI"), /*#__PURE__*/React.createElement("p", {
      className: "text-lg sm:text-xl text-gray-300 font-light"
    }, "\u05DE\u05EA\u05E8\u05D2\u05DE\u05D9\u05DD \u05DB\u05D0\u05D5\u05E1 \u05D1\u05E9\u05D5\u05E7 \u05DC\u05D1\u05D4\u05D9\u05E8\u05D5\u05EA \u05D0\u05D5\u05E4\u05E8\u05D8\u05D9\u05D1\u05D9\u05EA")));
  };
  const Breadcrumb = () => {
    return /*#__PURE__*/React.createElement("nav", {
      className: "text-sm text-gray-400 mb-6",
      "aria-label": "Breadcrumb"
    }, /*#__PURE__*/React.createElement("ol", {
      className: "list-none p-0 inline-flex"
    }, /*#__PURE__*/React.createElement("li", {
      className: "flex items-center"
    }, /*#__PURE__*/React.createElement("a", {
      href: "#",
      className: "hover:text-teal-400"
    }, "\u05D1\u05D9\u05EA"), /*#__PURE__*/React.createElement("i", {
      className: "fas fa-chevron-left mx-2"
    })), /*#__PURE__*/React.createElement("li", {
      className: "flex items-center"
    }, /*#__PURE__*/React.createElement("span", {
      className: "text-white"
    }, "\u05DC\u05D5\u05D7 \u05DE\u05D7\u05D5\u05D5\u05E0\u05D9\u05DD"))));
  };
  const GlobalFilter = () => {
    const {
      globalFilter,
      setGlobalFilter,
      globalSearchQuery,
      setGlobalSearchQuery
    } = useData();
    return /*#__PURE__*/React.createElement("div", {
      className: "bg-gray-800 p-4 rounded-lg mb-8 flex flex-wrap items-center justify-between gap-4"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center gap-2"
    }, /*#__PURE__*/React.createElement("span", {
      className: "font-semibold"
    }, "\u05E1\u05E0\u05DF \u05E2\u05E1\u05E7\u05D0\u05D5\u05EA:"), ['הכל', 'פתוח', 'סגור'].map(status => /*#__PURE__*/React.createElement("button", {
      key: status,
      onClick: () => setGlobalFilter(status),
      className: `px-3 py-1 text-xs rounded-md ${globalFilter === status ? 'bg-indigo-600 text-white' : 'bg-gray-600'}`
    }, status))), /*#__PURE__*/React.createElement("div", {
      className: "relative"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      placeholder: "\u05D7\u05E4\u05E9 \u05DC\u05E4\u05D9 \u05E1\u05D9\u05DE\u05D5\u05DC...",
      value: globalSearchQuery,
      onChange: e => setGlobalSearchQuery(e.target.value),
      className: "w-full sm:w-auto pr-8"
    }), /*#__PURE__*/React.createElement("i", {
      className: "fas fa-search absolute right-2 top-1/2 -translate-y-1/2 text-gray-400"
    })));
  };
  const KpiCard = ({
    title,
    value,
    change,
    isPositive
  }) => {
    const colorClass = isPositive === null ? 'text-gray-300' : isPositive ? 'text-green-400' : 'text-red-400';
    const icon = isPositive ? 'fa-arrow-up' : 'fa-arrow-down';
    return /*#__PURE__*/React.createElement("div", {
      className: "bg-gray-700 p-4 rounded-lg shadow-md flex flex-col justify-between"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-gray-400 text-sm font-medium"
    }, title), /*#__PURE__*/React.createElement("p", {
      className: "text-2xl font-bold text-white"
    }, value), /*#__PURE__*/React.createElement("div", {
      className: `flex items-center text-sm ${colorClass}`
    }, change && isPositive !== null && /*#__PURE__*/React.createElement("i", {
      className: `fas ${icon} ml-1`
    }), /*#__PURE__*/React.createElement("span", null, change)));
  };
  const KpiSection = ({
    calculatedData
  }) => {
    const {
      data
    } = useData();
    const {
      dailyPLUSD,
      buyingPowerUSD
    } = data.section1;
    const {
      currentPortfolioValueUSD,
      totalPLUSD,
      totalPLPercentage
    } = calculatedData;
    return /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"
    }, /*#__PURE__*/React.createElement(KpiCard, {
      title: "\u05E2\u05E8\u05DA \u05EA\u05D9\u05E7 \u05E0\u05D5\u05DB\u05D7\u05D9 ($)",
      value: `$${(parseFloat(currentPortfolioValueUSD) || 0).toLocaleString(undefined, {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      })}`,
      change: "",
      isPositive: null
    }), /*#__PURE__*/React.createElement(KpiCard, {
      title: "\u05E8\u05D5\u05D5\u05D7/\u05D4\u05E4\u05E1\u05D3 \u05DB\u05D5\u05DC\u05DC ($)",
      value: `$${(parseFloat(totalPLUSD) || 0).toLocaleString(undefined, {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      })}`,
      change: `${(parseFloat(totalPLPercentage) || 0).toFixed(2)}%`,
      isPositive: totalPLUSD >= 0
    }), /*#__PURE__*/React.createElement(KpiCard, {
      title: "\u05E8\u05D5\u05D5\u05D7/\u05D4\u05E4\u05E1\u05D3 \u05D9\u05D5\u05DE\u05D9 ($)",
      value: `$${(dailyPLUSD || 0).toLocaleString()}`,
      change: "",
      isPositive: dailyPLUSD >= 0
    }), /*#__PURE__*/React.createElement(KpiCard, {
      title: "\u05DB\u05D5\u05D7 \u05E7\u05E0\u05D9\u05D9\u05D4 ($)",
      value: `$${(buyingPowerUSD || 0).toLocaleString()}`,
      change: "",
      isPositive: null
    }));
  };
  const ControlPanel = () => {
    const {
      data,
      setData,
      setApiStatus,
      isDataDirty,
      currentTradeId,
      changeDescription,
      setChangeDescription,
      populateDashboardData,
      setIsLiveDataSet
    } = useData();
    const {
      saveOrUpdateTrade,
      importDataFromJson,
      userId,
      db,
      isAuthReady
    } = useFirebase();
    const [isBackupKitOpen, setIsBackupKitOpen] = useState(false);
    const [isExportModalOpen, setIsExportModalOpen] = useState(false);
    const [isTrainingCenterOpen, setIsTrainingCenterOpen] = useState(false);
    const [isKnowledgeBaseOpen, setIsKnowledgeBaseOpen] = useState(false);
    const [restoreCode, setRestoreCode] = useState('');
    const [importCode, setImportCode] = useState('');
    const [githubToken, setGithubToken] = useState('');
    const [alphaVantageKey, setAlphaVantageKey] = useState('U4464522W6V69P5G');
    const [gistUrl, setGistUrl] = useState('');
    const [isGistLoading, setIsGistLoading] = useState(false);
    const importFileRef = useRef(null);
    useEffect(() => {
      const fetchSettings = async () => {
        if (isAuthReady && db && userId) {
          const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
          const githubDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/settings/github`);
          const avDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/settings/alphaVantage`);
          const [githubSnap, avSnap] = await Promise.all([firebase.getDoc(githubDocRef), firebase.getDoc(avDocRef)]);
          if (githubSnap.exists()) setGithubToken(githubSnap.data().token || '');
          if (avSnap.exists()) setAlphaVantageKey(avSnap.data().key || 'U4464522W6V69P5G');
        }
      };
      fetchSettings();
    }, [isAuthReady, db, userId]);
    const handleTokenChange = async e => {
      const newToken = e.target.value;
      setGithubToken(newToken);
      if (isAuthReady && db && userId) {
        try {
          const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
          const settingsDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/settings/github`);
          await firebase.setDoc(settingsDocRef, {
            token: newToken
          }, {
            merge: true
          });
        } catch (error) {
          console.error("שגיאה בשמירת טוקן GitHub:", error);
          alert("לא ניתן לשמור את טוקן GitHub.");
        }
      }
    };
    const handleApiKeyChange = async e => {
      const newKey = e.target.value;
      setAlphaVantageKey(newKey);
      if (isAuthReady && db && userId) {
        try {
          const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
          const settingsDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/settings/alphaVantage`);
          await firebase.setDoc(settingsDocRef, {
            key: newKey
          }, {
            merge: true
          });
        } catch (error) {
          console.error("שגיאה בשמירת מפתח API:", error);
          alert("לא ניתן לשמור את מפתח ה-API.");
        }
      }
    };
    const handleRefreshData = () => {
      const ticker = data.section2.tickerSymbol;
      if (!alphaVantageKey) {
        alert("יש להזין מפתח API של Alpha Vantage תחילה.");
        return;
      }
      if (ticker) {
        fetchApiData(ticker, alphaVantageKey, setData, setApiStatus, setIsLiveDataSet);
      } else {
        alert("יש להזין סימול מניה תחילה.");
      }
    };
    const generateRestoreCode = () => {
      try {
        const dataToExport = {
          mainData: data
        };
        const jsonString = JSON.stringify(dataToExport);
        const base64Code = btoa(jsonString);
        setRestoreCode(base64Code);
        alert('קוד השחזור נוצר בהצלחה.');
      } catch (error) {
        alert('שגיאה ביצירת קוד שחזור: ' + error.message);
      }
    };
    const importFromCode = () => {
      if (!importCode) {
        alert('יש להדביק קוד שחזור תחילה.');
        return;
      }
      try {
        const jsonString = atob(importCode);
        const importedData = JSON.parse(jsonString);
        populateDashboardData(importedData.mainData, true);
        alert('הנתונים נטענו בהצלחה מהקוד! לחץ על "שמור" או "עדכן" כדי לסנכרן עם הענן.');
        setImportCode('');
      } catch (error) {
        alert('שגיאה בייבוא מהקוד. ייתכן שהקוד אינו תקין: ' + error.message);
      }
    };
    const copyToClipboard = text => {
      if (!text) return;
      const textarea = document.createElement('textarea');
      textarea.value = text;
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
      alert('הועתק ללוח!');
    };
    const backupToGist = async () => {
      if (!githubToken) {
        alert('יש להזין טוקן גישה אישי של GitHub תחילה.');
        return;
      }
      setIsGistLoading(true);
      setGistUrl('');
      try {
        const dataToExport = {
          mainData: data
        };
        const files = {
          'PraxisAI_Dashboard.html': {
            content: document.documentElement.outerHTML
          },
          'PraxisAI_Data.json': {
            content: JSON.stringify(dataToExport, null, 2)
          }
        };
        const response = await fetch('https://api.github.com/gists', {
          method: 'POST',
          headers: {
            'Authorization': `token ${githubToken}`,
            'Accept': 'application/vnd.github.v3+json'
          },
          body: JSON.stringify({
            description: `Praxis AI Dashboard Backup - ${new Date().toLocaleString()}`,
            public: false,
            files: files
          })
        });
        if (!response.ok) {
          const errorData = await response.json();
          throw new Error(`שגיאת GitHub API: ${errorData.message}`);
        }
        const gistData = await response.json();
        setGistUrl(gistData.html_url);
        alert('הגיבוי ל-Gist הושלם בהצלחה!');
      } catch (error) {
        alert('שגיאה בגיבוי ל-Gist: ' + error.message);
      } finally {
        setIsGistLoading(false);
      }
    };
    return /*#__PURE__*/React.createElement(React.Fragment, null, isBackupKitOpen && /*#__PURE__*/React.createElement(BackupKitModal, {
      onClose: () => setIsBackupKitOpen(false),
      restoreCode: restoreCode,
      importCode: importCode,
      setImportCode: setImportCode,
      generateRestoreCode: generateRestoreCode,
      importFromCode: importFromCode,
      copyToClipboard: copyToClipboard
    }), isExportModalOpen && /*#__PURE__*/React.createElement(ExportModal, {
      onClose: () => setIsExportModalOpen(false)
    }), isTrainingCenterOpen && /*#__PURE__*/React.createElement(AiTrainingCenterModal, {
      onClose: () => setIsTrainingCenterOpen(false)
    }), isKnowledgeBaseOpen && /*#__PURE__*/React.createElement(KnowledgeBaseModal, {
      onClose: () => setIsKnowledgeBaseOpen(false)
    }), /*#__PURE__*/React.createElement(Section, {
      title: "\u05D1\u05E7\u05E8\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA \u05D5\u05E7\u05DC\u05D8/\u05E4\u05DC\u05D8"
    }, /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-cogs",
      title: "\u05E4\u05E2\u05D5\u05DC\u05D5\u05EA \u05D5\u05E0\u05D9\u05D4\u05D5\u05DC \u05E0\u05EA\u05D5\u05E0\u05D9\u05DD"
    }, /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-2 gap-2 mb-4"
    }, /*#__PURE__*/React.createElement("button", {
      className: "w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 min-h-[44px]",
      onClick: saveOrUpdateTrade,
      disabled: !isDataDirty
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-save ml-2"
    }), " ", currentTradeId ? 'עדכן עסקה' : 'שמור עסקה חדשה'), /*#__PURE__*/React.createElement("button", {
      className: "w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center min-h-[44px]",
      onClick: handleRefreshData,
      title: "\u05E8\u05E2\u05E0\u05DF \u05E0\u05EA\u05D5\u05E0\u05D9 \u05E9\u05D5\u05E7 \u05D7\u05D9\u05D9\u05DD"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-sync-alt ml-2"
    }), " \u05E8\u05E2\u05E0\u05DF \u05E0\u05EA\u05D5\u05E0\u05D9\u05DD")), /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-2 gap-2"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: () => setIsBackupKitOpen(true),
      className: "bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]",
      title: "\u05E4\u05EA\u05D7 \u05D0\u05EA \u05E2\u05E8\u05DB\u05EA \u05D4\u05D2\u05D9\u05D1\u05D5\u05D9 \u05D4\u05DE\u05DC\u05D0\u05D4"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-archive ml-1"
    }), " \u05E2\u05E8\u05DB\u05EA \u05D2\u05D9\u05D1\u05D5\u05D9 \u05DE\u05DC\u05D0\u05D4"), /*#__PURE__*/React.createElement("button", {
      onClick: () => importFileRef.current.click(),
      className: "bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]",
      title: "\u05D9\u05D9\u05D1\u05D0 \u05E0\u05EA\u05D5\u05E0\u05D9\u05DD \u05DE\u05E7\u05D5\u05D1\u05E5 \u05D2\u05D9\u05D1\u05D5\u05D9 JSON"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-file-upload ml-1"
    }), " \u05D9\u05D9\u05D1\u05D5\u05D0 \u05E0\u05EA\u05D5\u05E0\u05D9\u05DD (JSON)"), /*#__PURE__*/React.createElement("input", {
      type: "file",
      ref: importFileRef,
      onChange: importDataFromJson,
      className: "hidden",
      accept: ".json"
    })), /*#__PURE__*/React.createElement("div", {
      className: "mt-2 grid grid-cols-2 gap-2"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: () => setIsExportModalOpen(true),
      className: "w-full bg-purple-600 hover:bg-purple-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]",
      title: "\u05D9\u05D9\u05E6\u05D0 \u05D3\u05D5\u05D7 PDF \u05DE\u05D5\u05EA\u05D0\u05DD \u05D0\u05D9\u05E9\u05D9\u05EA"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-file-pdf ml-1"
    }), " \u05D9\u05D9\u05E6\u05D5\u05D0 PDF \u05DE\u05D5\u05EA\u05D0\u05DD"), /*#__PURE__*/React.createElement("button", {
      onClick: () => setIsTrainingCenterOpen(true),
      className: "w-full bg-orange-500 hover:bg-orange-600 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]",
      title: "\u05E4\u05EA\u05D7 \u05D0\u05EA \u05DE\u05E8\u05DB\u05D6 \u05D4\u05D0\u05D9\u05DE\u05D5\u05DF \u05E9\u05DC \u05D4-AI"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-brain ml-1"
    }), " \u05DE\u05E8\u05DB\u05D6 \u05D0\u05D9\u05DE\u05D5\u05DF AI")), /*#__PURE__*/React.createElement("div", {
      className: "mt-2"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: () => setIsKnowledgeBaseOpen(true),
      className: "w-full bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]",
      title: "\u05E4\u05EA\u05D7 \u05D0\u05EA \u05DE\u05D0\u05D2\u05E8 \u05D4\u05D9\u05D3\u05E2"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-book-open ml-1"
    }), " \u05DE\u05D0\u05D2\u05E8 \u05D9\u05D3\u05E2")), /*#__PURE__*/React.createElement("div", {
      className: "flex flex-col text-sm mt-4"
    }, /*#__PURE__*/React.createElement("label", {
      htmlFor: "changeDescriptionInput",
      className: "text-gray-400 mb-1"
    }, "\u05EA\u05D9\u05D0\u05D5\u05E8 \u05D4\u05E9\u05D9\u05E0\u05D5\u05D9 (\u05DC\u05DE\u05E2\u05E7\u05D1 \u05D2\u05E8\u05E1\u05D0\u05D5\u05EA):"), /*#__PURE__*/React.createElement("textarea", {
      id: "changeDescriptionInput",
      placeholder: "\u05DC\u05D3\u05D5\u05D2\u05DE\u05D4, \u05E2\u05D3\u05DB\u05D5\u05DF \u05E2\u05E1\u05E7\u05D4 \u05E2\u05DC AAPL...",
      className: "w-full bg-gray-800 border border-gray-600 rounded-md p-2 text-white",
      value: changeDescription,
      onChange: e => setChangeDescription(e.target.value)
    }))), /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-key",
      title: "\u05E0\u05D9\u05D4\u05D5\u05DC \u05DE\u05E4\u05EA\u05D7\u05D5\u05EA API"
    }, /*#__PURE__*/React.createElement("div", {
      className: "space-y-3"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-xs text-gray-400"
    }, "\u05D4\u05D6\u05DF \u05DB\u05D0\u05DF \u05D0\u05EA \u05DE\u05E4\u05EA\u05D7\u05D5\u05EA \u05D4-API \u05E9\u05DC\u05DA. \u05D4\u05DD \u05D9\u05D9\u05E9\u05DE\u05E8\u05D5 \u05D1\u05E6\u05D5\u05E8\u05D4 \u05DE\u05D0\u05D5\u05D1\u05D8\u05D7\u05EA."), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
      className: "text-sm text-gray-300"
    }, "\u05DE\u05E4\u05EA\u05D7 API \u05E9\u05DC Alpha Vantage"), /*#__PURE__*/React.createElement("input", {
      type: "password",
      value: alphaVantageKey,
      onChange: handleApiKeyChange,
      placeholder: "\u05D4\u05D6\u05DF \u05D0\u05EA \u05D4\u05DE\u05E4\u05EA\u05D7 \u05E9\u05DC\u05DA \u05DC\u05E0\u05EA\u05D5\u05E0\u05D9\u05DD \u05D7\u05D9\u05D9\u05DD",
      className: "w-full mt-1"
    })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
      className: "text-sm text-gray-300"
    }, "\u05D8\u05D5\u05E7\u05DF \u05D2\u05D9\u05E9\u05D4 \u05D0\u05D9\u05E9\u05D9 \u05E9\u05DC GitHub"), /*#__PURE__*/React.createElement("input", {
      type: "password",
      value: githubToken,
      onChange: handleTokenChange,
      placeholder: "\u05D4\u05D6\u05DF \u05D0\u05EA \u05D4\u05D8\u05D5\u05E7\u05DF \u05E9\u05DC\u05DA \u05DC\u05D2\u05D9\u05D1\u05D5\u05D9\u05D9\u05DD \u05D1-Gist",
      className: "w-full mt-1"
    })))), /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-cloud-upload-alt",
      title: "\u05D2\u05D9\u05D1\u05D5\u05D9 \u05E2\u05E0\u05DF (GitHub Gist)"
    }, /*#__PURE__*/React.createElement("div", {
      className: "space-y-3"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-xs text-gray-400"
    }, "\u05D2\u05D1\u05D4 \u05D0\u05EA \u05DB\u05DC \u05E0\u05DB\u05E1\u05D9 \u05D4\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05DC-Gist \u05E4\u05E8\u05D8\u05D9 \u05D5\u05DE\u05D0\u05D5\u05D1\u05D8\u05D7 \u05D1\u05D7\u05E9\u05D1\u05D5\u05DF \u05D4-GitHub \u05E9\u05DC\u05DA."), /*#__PURE__*/React.createElement("button", {
      onClick: backupToGist,
      disabled: isGistLoading,
      className: "w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md disabled:opacity-50"
    }, isGistLoading ? 'מגבה...' : 'גבה ל-Gist'), gistUrl && /*#__PURE__*/React.createElement("div", {
      className: "text-center text-xs"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-green-400"
    }, "\u05D4\u05D2\u05D9\u05D1\u05D5\u05D9 \u05D4\u05D5\u05E9\u05DC\u05DD \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4!"), /*#__PURE__*/React.createElement("a", {
      href: gistUrl,
      target: "_blank",
      rel: "noopener noreferrer",
      className: "text-teal-400 hover:underline"
    }, "\u05E6\u05E4\u05D4 \u05D1-Gist"))))));
  };
  const BITDashboard = () => {
    const {
      currentDateTime
    } = useData();
    const appChangeLog = [{
      version: "8.3",
      date: "2025-09-02",
      description: "לוקליזציה מלאה לעברית ותיקוני RTL."
    }, {
      version: "8.2",
      date: "2025-08-22",
      description: "עדכון גרסה."
    }, {
      version: "8.1",
      date: "2025-08-22",
      description: "Refactored calculation logic to resolve infinite loop and instability. Restored full stock list."
    }, {
      version: "8.0",
      date: "2025-08-22",
      description: "Fixed infinite loop bug, reverted to English UI, and restored full stock database."
    }, {
      version: "7.9",
      date: "2025-08-21",
      description: "Fixed infinite loop bug caused by useEffect dependencies."
    }, {
      version: "7.8",
      date: "2025-08-21",
      description: "Updated portfolio section to match investment account statements."
    }];
    const latestVersion = appChangeLog[0];
    return /*#__PURE__*/React.createElement("div", {
      className: "bg-gray-900 rounded-lg p-4 shadow-md border border-gray-700 mb-6"
    }, /*#__PURE__*/React.createElement("h3", {
      className: "text-xl font-semibold text-orange-400 flex items-center mb-4"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-tachometer-alt ml-3"
    }), "\u05EA\u05E7\u05D9\u05E0\u05D5\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA (BIT)"), /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-2 sm:grid-cols-4 gap-4 text-center"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-cloud text-2xl mb-2",
      style: {
        color: 'var(--green-indicator)'
      }
    }), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-400"
    }, "\u05E1\u05E0\u05DB\u05E8\u05D5\u05DF \u05E2\u05E0\u05DF"), /*#__PURE__*/React.createElement("p", {
      className: "font-semibold",
      style: {
        color: 'var(--green-indicator)'
      }
    }, "\u05DE\u05D7\u05D5\u05D1\u05E8")), /*#__PURE__*/React.createElement("div", {
      className: "flex flex-col"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-shield-alt text-2xl mb-2",
      style: {
        color: 'var(--text-color)'
      }
    }), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-400"
    }, "\u05D2\u05D9\u05D1\u05D5\u05D9 \u05DE\u05DC\u05D0 \u05D0\u05D7\u05E8\u05D5\u05DF"), /*#__PURE__*/React.createElement("p", {
      className: "font-semibold text-xs",
      style: {
        color: 'var(--text-color)'
      }
    }, "v", latestVersion.version, " (", latestVersion.description, "): ", currentDateTime)), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-check-circle text-2xl mb-2",
      style: {
        color: 'var(--green-indicator)'
      }
    }), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-400"
    }, "\u05E9\u05DC\u05DE\u05D5\u05EA \u05E0\u05EA\u05D5\u05E0\u05D9\u05DD"), /*#__PURE__*/React.createElement("p", {
      className: "font-semibold",
      style: {
        color: 'var(--green-indicator)'
      }
    }, "\u05EA\u05E7\u05D9\u05DF")), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-brain text-2xl mb-2",
      style: {
        color: 'var(--green-indicator)'
      }
    }), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-400"
    }, "\u05E9\u05D9\u05E8\u05D5\u05EA\u05D9 AI"), /*#__PURE__*/React.createElement("p", {
      className: "font-semibold",
      style: {
        color: 'var(--green-indicator)'
      }
    }, "\u05E4\u05E2\u05D9\u05DC\u05D9\u05DD"))));
  };
  const VersionManagementCenter = () => {
    const appChangeLog = [{
      version: "8.3",
      date: "2025-09-02",
      description: "לוקליזציה מלאה לעברית ותיקוני RTL."
    }, {
      version: "8.2",
      date: "2025-08-22",
      description: "עדכון גרסה."
    }, {
      version: "8.1",
      date: "2025-08-22",
      description: "Refactored calculation logic to resolve infinite loop and instability. Restored full stock list."
    }, {
      version: "8.0",
      date: "2025-08-22",
      description: "Fixed infinite loop bug, reverted to English UI, and restored full stock database."
    }, {
      version: "7.9",
      date: "2025-08-21",
      description: "Fixed infinite loop bug caused by useEffect dependencies."
    }];
    return /*#__PURE__*/React.createElement(Section, {
      title: "\uD83D\uDEA8 \u05D1\u05E7\u05E8\u05EA \u05D2\u05E8\u05E1\u05D0\u05D5\u05EA \u05D5\u05E9\u05D7\u05D6\u05D5\u05E8"
    }, /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-history",
      title: "\u05D9\u05D5\u05DE\u05DF \u05E9\u05D9\u05E0\u05D5\u05D9\u05D9\u05DD \u05D1\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4"
    }, /*#__PURE__*/React.createElement("div", {
      className: "w-full overflow-x-auto",
      style: {
        maxHeight: '250px'
      }
    }, /*#__PURE__*/React.createElement("table", {
      className: "w-full text-right text-sm"
    }, /*#__PURE__*/React.createElement("thead", null, /*#__PURE__*/React.createElement("tr", {
      className: "border-b border-gray-600"
    }, /*#__PURE__*/React.createElement("th", {
      className: "p-2"
    }, "\u05D2\u05E8\u05E1\u05D4"), /*#__PURE__*/React.createElement("th", {
      className: "p-2"
    }, "\u05EA\u05D0\u05E8\u05D9\u05DA"), /*#__PURE__*/React.createElement("th", {
      className: "p-2"
    }, "\u05EA\u05D9\u05D0\u05D5\u05E8"))), /*#__PURE__*/React.createElement("tbody", null, appChangeLog.map(log => /*#__PURE__*/React.createElement("tr", {
      key: log.version,
      className: "border-b border-gray-700 hover:bg-gray-700"
    }, /*#__PURE__*/React.createElement("td", {
      className: "p-2 font-semibold text-teal-400"
    }, log.version), /*#__PURE__*/React.createElement("td", {
      className: "p-2"
    }, log.date), /*#__PURE__*/React.createElement("td", {
      className: "p-2"
    }, log.description))))))));
  };
  const TradeLogManager = () => {
    const {
      tradeLog,
      loadTrade,
      newTrade,
      globalFilter,
      globalSearchQuery
    } = useData();
    const [sortConfig, setSortConfig] = useState({
      key: 'lastUpdated',
      direction: 'descending'
    });
    const [dateRange, setDateRange] = useState({
      start: '',
      end: ''
    });
    const sortedAndFilteredTrades = useMemo(() => {
      let filtered = [...tradeLog];

      // Global Status & Search Filter
      filtered = filtered.filter(trade => {
        const statusInHebrew = trade.status === 'Open' ? 'פתוח' : trade.status === 'Closed' ? 'סגור' : trade.status;
        const statusMatch = globalFilter === 'הכל' || statusInHebrew === globalFilter;
        const searchMatch = trade.ticker.toLowerCase().includes(globalSearchQuery.toLowerCase());
        return statusMatch && searchMatch;
      });

      // Date Range Filter
      if (dateRange.start) {
        filtered = filtered.filter(trade => new Date(trade.lastUpdated) >= new Date(dateRange.start));
      }
      if (dateRange.end) {
        const endDate = new Date(dateRange.end);
        endDate.setHours(23, 59, 59, 999); // Include the whole end day
        filtered = filtered.filter(trade => new Date(trade.lastUpdated) <= endDate);
      }

      // Sorting
      filtered.sort((a, b) => {
        let aValue, bValue;
        switch (sortConfig.key) {
          case 'pnl':
            aValue = parseFloat(a.data.section8.step4.financialResult) || 0;
            bValue = parseFloat(b.data.section8.step4.financialResult) || 0;
            break;
          case 'roi':
            aValue = parseFloat(a.data.section8.step4.roi) || 0;
            bValue = parseFloat(b.data.section8.step4.roi) || 0;
            break;
          default:
            aValue = a[sortConfig.key];
            bValue = b[sortConfig.key];
        }
        if (aValue < bValue) {
          return sortConfig.direction === 'ascending' ? -1 : 1;
        }
        if (aValue > bValue) {
          return sortConfig.direction === 'ascending' ? 1 : -1;
        }
        return 0;
      });
      return filtered;
    }, [tradeLog, globalFilter, globalSearchQuery, sortConfig, dateRange]);
    const requestSort = key => {
      let direction = 'ascending';
      if (sortConfig.key === key && sortConfig.direction === 'ascending') {
        direction = 'descending';
      }
      setSortConfig({
        key,
        direction
      });
    };
    const summary = useMemo(() => {
      const closedTrades = sortedAndFilteredTrades.filter(t => t.status !== 'Open' && t.data.section8.step4.financialResult);
      const totalPnl = closedTrades.reduce((acc, t) => acc + parseFloat(t.data.section8.step4.financialResult), 0);
      const winningTrades = closedTrades.filter(t => parseFloat(t.data.section8.step4.financialResult) > 0);
      const winRate = closedTrades.length > 0 ? winningTrades.length / closedTrades.length * 100 : 0;
      return {
        totalTrades: sortedAndFilteredTrades.length,
        totalPnl: totalPnl.toFixed(2),
        winRate: winRate.toFixed(2),
        winningTrades: winningTrades.length,
        losingTrades: closedTrades.length - winningTrades.length
      };
    }, [sortedAndFilteredTrades]);
    return /*#__PURE__*/React.createElement(Section, {
      title: "\u05D9\u05D5\u05DE\u05DF \u05E2\u05E1\u05E7\u05D0\u05D5\u05EA \u05DE\u05EA\u05E7\u05D3\u05DD"
    }, /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-book",
      title: "\u05E0\u05D4\u05DC \u05D5\u05E0\u05EA\u05D7 \u05D0\u05EA \u05D4\u05E2\u05E1\u05E7\u05D0\u05D5\u05EA \u05E9\u05DC\u05DA"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex flex-wrap gap-4 justify-between items-center mb-4"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex gap-2 items-center"
    }, /*#__PURE__*/React.createElement("label", {
      className: "text-sm"
    }, "\u05DE\u05EA\u05D0\u05E8\u05D9\u05DA:"), /*#__PURE__*/React.createElement("input", {
      type: "date",
      value: dateRange.start,
      onChange: e => setDateRange({
        ...dateRange,
        start: e.target.value
      }),
      className: "bg-gray-800 border border-gray-600 rounded-md p-1 text-sm"
    }), /*#__PURE__*/React.createElement("label", {
      className: "text-sm"
    }, "\u05E2\u05D3:"), /*#__PURE__*/React.createElement("input", {
      type: "date",
      value: dateRange.end,
      onChange: e => setDateRange({
        ...dateRange,
        end: e.target.value
      }),
      className: "bg-gray-800 border border-gray-600 rounded-md p-1 text-sm"
    })), /*#__PURE__*/React.createElement("button", {
      onClick: newTrade,
      className: "bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-plus ml-2"
    }), "\u05E2\u05E1\u05E7\u05D4 \u05D7\u05D3\u05E9\u05D4")), /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 text-center"
    }, /*#__PURE__*/React.createElement(KpiCard, {
      title: "\u05E8\u05D5\u05D5\u05D7/\u05D4\u05E4\u05E1\u05D3 \u05DB\u05D5\u05DC\u05DC",
      value: `$${summary.totalPnl}`,
      change: "",
      isPositive: summary.totalPnl >= 0
    }), /*#__PURE__*/React.createElement(KpiCard, {
      title: "\u05E9\u05D9\u05E2\u05D5\u05E8 \u05D4\u05E6\u05DC\u05D7\u05D4",
      value: `${summary.winRate}%`,
      change: "",
      isPositive: summary.winRate >= 50
    }), /*#__PURE__*/React.createElement(KpiCard, {
      title: "\u05E2\u05E1\u05E7\u05D0\u05D5\u05EA \u05E8\u05D5\u05D5\u05D7\u05D9\u05D5\u05EA",
      value: summary.winningTrades,
      change: "",
      isPositive: true
    }), /*#__PURE__*/React.createElement(KpiCard, {
      title: "\u05E2\u05E1\u05E7\u05D0\u05D5\u05EA \u05D4\u05E4\u05E1\u05D3\u05D9\u05D5\u05EA",
      value: summary.losingTrades,
      change: "",
      isPositive: false
    })), /*#__PURE__*/React.createElement("div", {
      className: "w-full overflow-x-auto",
      style: {
        maxHeight: '400px'
      }
    }, /*#__PURE__*/React.createElement("table", {
      className: "w-full text-right text-sm"
    }, /*#__PURE__*/React.createElement("thead", null, /*#__PURE__*/React.createElement("tr", {
      className: "border-b border-gray-600"
    }, /*#__PURE__*/React.createElement("th", {
      className: "p-2 cursor-pointer",
      onClick: () => requestSort('ticker')
    }, "\u05E1\u05D9\u05DE\u05D5\u05DC ", /*#__PURE__*/React.createElement("i", {
      className: "fas fa-sort"
    })), /*#__PURE__*/React.createElement("th", {
      className: "p-2 cursor-pointer",
      onClick: () => requestSort('status')
    }, "\u05E1\u05D8\u05D8\u05D5\u05E1 ", /*#__PURE__*/React.createElement("i", {
      className: "fas fa-sort"
    })), /*#__PURE__*/React.createElement("th", {
      className: "p-2 cursor-pointer",
      onClick: () => requestSort('lastUpdated')
    }, "\u05E2\u05D3\u05DB\u05D5\u05DF \u05D0\u05D7\u05E8\u05D5\u05DF ", /*#__PURE__*/React.createElement("i", {
      className: "fas fa-sort"
    })), /*#__PURE__*/React.createElement("th", {
      className: "p-2 cursor-pointer",
      onClick: () => requestSort('pnl')
    }, "\u05E8\u05D5\u05D5\u05D7/\u05D4\u05E4\u05E1\u05D3 ($) ", /*#__PURE__*/React.createElement("i", {
      className: "fas fa-sort"
    })), /*#__PURE__*/React.createElement("th", {
      className: "p-2 cursor-pointer",
      onClick: () => requestSort('roi')
    }, "\u05EA\u05E9\u05D5\u05D0\u05D4 (%) ", /*#__PURE__*/React.createElement("i", {
      className: "fas fa-sort"
    })), /*#__PURE__*/React.createElement("th", {
      className: "p-2 text-center"
    }, "\u05E4\u05E2\u05D5\u05DC\u05D5\u05EA"))), /*#__PURE__*/React.createElement("tbody", null, sortedAndFilteredTrades.map(trade => {
      const pnl = parseFloat(trade.data.section8.step4.financialResult) || 0;
      const roi = parseFloat(trade.data.section8.step4.roi) || 0;
      return /*#__PURE__*/React.createElement("tr", {
        key: trade.id,
        className: "border-b border-gray-700 hover:bg-gray-700"
      }, /*#__PURE__*/React.createElement("td", {
        className: "p-2 font-bold"
      }, trade.ticker), /*#__PURE__*/React.createElement("td", {
        className: "p-2"
      }, trade.status === 'Open' ? 'פתוח' : 'סגור'), /*#__PURE__*/React.createElement("td", {
        className: "p-2"
      }, new Date(trade.lastUpdated).toLocaleString()), /*#__PURE__*/React.createElement("td", {
        className: `p-2 font-semibold ${pnl >= 0 ? 'text-green-400' : 'text-red-400'}`
      }, pnl.toFixed(2)), /*#__PURE__*/React.createElement("td", {
        className: `p-2 font-semibold ${roi >= 0 ? 'text-green-400' : 'text-red-400'}`
      }, roi.toFixed(2), "%"), /*#__PURE__*/React.createElement("td", {
        className: "p-2 text-center"
      }, /*#__PURE__*/React.createElement("button", {
        onClick: () => loadTrade(trade),
        className: "bg-blue-600 hover:bg-blue-700 text-white text-xs py-1 px-2 rounded-md"
      }, "\u05D8\u05E2\u05DF")));
    }))))));
  };
  const AdvancedRiskModule = ({
    riskData
  }) => {
    return /*#__PURE__*/React.createElement(Section, {
      title: "\uD83D\uDEE1\uFE0F \u05E0\u05D9\u05D4\u05D5\u05DC \u05E1\u05D9\u05DB\u05D5\u05E0\u05D9\u05DD \u05DE\u05EA\u05E7\u05D3\u05DD"
    }, /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-shield-alt",
      title: "\u05D7\u05E9\u05D9\u05E4\u05EA \u05E1\u05D9\u05DB\u05D5\u05DF \u05D1\u05EA\u05D9\u05E7 \u05D4\u05D4\u05E9\u05E7\u05E2\u05D5\u05EA"
    }, /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-1 md:grid-cols-2 gap-4"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement(KpiCard, {
      title: "\u05E1\u05D9\u05DB\u05D5\u05DF \u05DB\u05D5\u05DC\u05DC \u05D1\u05E2\u05E1\u05E7\u05D0\u05D5\u05EA \u05E4\u05EA\u05D5\u05D7\u05D5\u05EA",
      value: `$${riskData.totalRiskExposure.toLocaleString(undefined, {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      })}`,
      change: `${riskData.openTradesCount} עסקאות`,
      isPositive: false
    })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h4", {
      className: "font-bold text-lg text-teal-400 mb-2"
    }, "\u05E8\u05D9\u05DB\u05D5\u05D6 \u05E1\u05D9\u05DB\u05D5\u05E0\u05D9\u05DD \u05DC\u05E4\u05D9 \u05E1\u05E7\u05D8\u05D5\u05E8"), /*#__PURE__*/React.createElement("div", {
      className: "bg-gray-800 p-3 rounded-lg"
    }, Object.keys(riskData.sectorConcentration).length > 0 ? Object.entries(riskData.sectorConcentration).map(([sector, risk]) => /*#__PURE__*/React.createElement("div", {
      key: sector,
      className: "flex justify-between items-center text-sm mb-2"
    }, /*#__PURE__*/React.createElement("span", {
      className: "font-semibold"
    }, sector), /*#__PURE__*/React.createElement("span", {
      className: "text-red-400"
    }, "$", risk.toLocaleString(undefined, {
      minimumFractionDigits: 2,
      maximumFractionDigits: 2
    })))) : /*#__PURE__*/React.createElement("p", {
      className: "text-gray-400 text-sm"
    }, "\u05D0\u05D9\u05DF \u05E2\u05E1\u05E7\u05D0\u05D5\u05EA \u05E4\u05EA\u05D5\u05D7\u05D5\u05EA \u05DC\u05E0\u05D9\u05EA\u05D5\u05D7."))))));
  };
  const TradeDistributionChart = () => {
    const chartRef = useRef(null);
    const {
      tradeLog
    } = useData();
    useEffect(() => {
      if (!tradeLog || !chartRef.current) return;
      const ctx = chartRef.current.getContext('2d');
      const closedTrades = tradeLog.filter(t => t.status !== 'Open');
      const profitTrades = closedTrades.filter(t => parseFloat(t.data.section8.step4.financialResult) > 0).length;
      const lossTrades = closedTrades.length - profitTrades;
      const openTrades = tradeLog.filter(t => t.status === 'Open').length;
      if (chartRef.current && chartRef.current.chart) {
        chartRef.current.chart.destroy();
      }
      chartRef.current.chart = new Chart(ctx, {
        type: 'pie',
        data: {
          labels: ['רווח', 'הפסד', 'פתוח'],
          datasets: [{
            data: [profitTrades, lossTrades, openTrades],
            backgroundColor: ['rgba(72, 187, 120, 0.7)', 'rgba(239, 83, 80, 0.7)', 'rgba(66, 153, 225, 0.7)'],
            borderColor: ['rgba(72, 187, 120, 1)', 'rgba(239, 83, 80, 1)', 'rgba(66, 153, 225, 1)'],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'top',
              labels: {
                color: 'white',
                font: {
                  family: 'Assistant'
                }
              }
            }
          }
        }
      });
      return () => {
        if (chartRef.current && chartRef.current.chart) chartRef.current.chart.destroy();
      };
    }, [tradeLog]);
    return /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-chart-pie",
      title: "\u05D4\u05EA\u05E4\u05DC\u05D2\u05D5\u05EA \u05EA\u05D5\u05E6\u05D0\u05D5\u05EA \u05E2\u05E1\u05E7\u05D0\u05D5\u05EA"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-xs text-gray-400 mb-2 -mt-2"
    }, "\u05E1\u05D9\u05DB\u05D5\u05DD \u05E9\u05DC \u05DB\u05DC \u05EA\u05D5\u05E6\u05D0\u05D5\u05EA \u05D4\u05E2\u05E1\u05E7\u05D0\u05D5\u05EA \u05E9\u05E0\u05E8\u05E9\u05DE\u05D5."), /*#__PURE__*/React.createElement("canvas", {
      ref: chartRef
    }));
  };
  const PortfolioHistoryChart = () => {
    const chartRef = useRef(null);
    const {
      data
    } = useData();
    const [timeRange, setTimeRange] = useState(90);
    useEffect(() => {
      if (!chartRef.current || !data.portfolioHistory) return;
      const ctx = chartRef.current.getContext('2d');
      if (chartRef.current && chartRef.current.chart) {
        chartRef.current.chart.destroy();
      }
      const filteredData = data.portfolioHistory.slice(-timeRange);
      chartRef.current.chart = new Chart(ctx, {
        type: 'line',
        data: {
          datasets: [{
            label: 'ערך התיק',
            data: filteredData,
            parsing: {
              xAxisKey: 'time',
              yAxisKey: 'value'
            },
            borderColor: 'var(--accent-color-2)',
            backgroundColor: 'rgba(0, 188, 212, 0.2)',
            fill: true,
            tension: 0.3,
            pointRadius: 0
          }]
        },
        options: {
          responsive: true,
          scales: {
            x: {
              type: 'time',
              time: {
                unit: 'day'
              },
              ticks: {
                color: 'white'
              },
              grid: {
                color: 'rgba(255,255,255,0.1)'
              }
            },
            y: {
              ticks: {
                color: 'white',
                callback: value => `$${value / 1000}k`
              },
              grid: {
                color: 'rgba(255,255,255,0.1)'
              }
            }
          },
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              mode: 'index',
              intersect: false,
              callbacks: {
                label: context => `ערך: $${context.parsed.y.toFixed(2)}`
              }
            }
          }
        }
      });
      return () => {
        if (chartRef.current && chartRef.current.chart) chartRef.current.chart.destroy();
      };
    }, [data.portfolioHistory, timeRange]);
    return /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-chart-line",
      title: "\u05E2\u05E8\u05DA \u05D4\u05EA\u05D9\u05E7 \u05DC\u05D0\u05D5\u05E8\u05DA \u05D6\u05DE\u05DF"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-xs text-gray-400 mb-2 -mt-2"
    }, "\u05D4\u05D9\u05E1\u05D8\u05D5\u05E8\u05D9\u05D9\u05EA \u05D1\u05D9\u05E6\u05D5\u05E2\u05D9 \u05D4\u05EA\u05D9\u05E7."), /*#__PURE__*/React.createElement("div", {
      className: "flex justify-center gap-2 mb-4"
    }, [7, 30, 90].map(days => /*#__PURE__*/React.createElement("button", {
      key: days,
      onClick: () => setTimeRange(days),
      className: `px-3 py-1 text-xs rounded-md ${timeRange === days ? 'bg-indigo-600 text-white' : 'bg-gray-600'}`
    }, days, "\u05D9"))), /*#__PURE__*/React.createElement("canvas", {
      ref: chartRef
    }));
  };
  const AiAnalysis = () => {
    const {
      data,
      currentTradeId
    } = useData();
    const {
      db,
      userId,
      isAuthReady
    } = useFirebase();
    const [aiAnalysis, setAiAnalysis] = useState("");
    const [isAiLoading, setIsAiLoading] = useState(false);
    const getAiAnalysis = async () => {
      setIsAiLoading(true);
      setAiAnalysis("");
      const prompt = `
                        Provide a concise technical analysis for the stock ${data.section2.tickerSymbol} based ONLY on the following data:
                        - Current Price: ${data.section3.currentPrice}
                        - RSI(14): ${data.section4.rsi}
                        - MACD Line: ${data.section4.macd}, Signal Line: ${data.section4.macdSignal}
                        - Moving Averages: MA20=${data.section4.ma20}, MA50=${data.section4.ma50}, MA200=${data.section4.ma200}
                        - Key Support: ${data.section4.supportLevels}
                        - Key Resistance: ${data.section4.resistanceLevels}
                        - Price vs Pivot: ${data.section5.priceVsPivot}
                        - Price Action Pattern: ${data.section5.priceAction}
                        
                        Structure your response in three short paragraphs in Hebrew:
                        1.  **הערכה כללית:** עמדה טכנית נוכחית (לדוגמה, שורית, דובית, ניטרלית).
                        2.  **סיגנלים מרכזיים:** הדגש את הסימנים השוריים והדוביים המשמעותיים ביותר.
                        3.  **תרחישים אפשריים והמלצות טקטיות:** תאר תרחישים שוריים ודוביים אפשריים וספק המלצה טקטית תמציתית.
                    `;
      try {
        let chatHistory = [{
          role: "user",
          parts: [{
            text: prompt
          }]
        }];
        const payload = {
          contents: chatHistory
        };
        const apiKey = "";
        const apiUrl = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=" + apiKey;
        const response = await fetch(apiUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(payload)
        });
        if (!response.ok) {
          throw new Error('קריאת ה-API נכשלה עם סטטוס: ' + response.status);
        }
        const result = await response.json();
        if (result.candidates && result.candidates.length > 0) {
          const text = result.candidates[0].content.parts[0].text;
          setAiAnalysis(text);
          // Save analysis to Firebase
          if (isAuthReady && db && userId && currentTradeId) {
            const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
            const analysisCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/ai_analyses`);
            await firebase.addDoc(analysisCollectionRef, {
              tradeId: currentTradeId,
              ticker: data.section2.tickerSymbol,
              date: new Date().toISOString(),
              analysis: text,
              inputData: {
                ...data.section3,
                ...data.section4,
                ...data.section5
              },
              feedback: null,
              feedbackNotes: ""
            });
          }
        } else {
          setAiAnalysis("לא ניתן היה לקבל ניתוח. תגובת המודל הייתה ריקה.");
        }
      } catch (error) {
        console.error("שגיאה בקבלת ניתוח AI:", error);
        setAiAnalysis('אירעה שגיאה בעת קבלת הניתוח: ' + error.message);
      } finally {
        setIsAiLoading(false);
      }
    };
    return /*#__PURE__*/React.createElement(Section, {
      title: "\uD83E\uDD16 \u05E0\u05D9\u05EA\u05D5\u05D7 \u05D8\u05DB\u05E0\u05D9 AI"
    }, /*#__PURE__*/React.createElement("div", {
      className: "ai-analysis-section col-span-full p-6 rounded-lg"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-400 mb-4"
    }, "\u05E7\u05D1\u05DC \u05E0\u05D9\u05EA\u05D5\u05D7 \u05D8\u05DB\u05E0\u05D9 \u05D1\u05D6\u05DE\u05DF \u05D0\u05DE\u05EA \u05E9\u05DC \u05D4\u05DE\u05E0\u05D9\u05D4 \u05D4\u05E0\u05D5\u05DB\u05D7\u05D9\u05EA, \u05D1\u05D4\u05EA\u05D1\u05E1\u05E1 \u05E2\u05DC \u05D4\u05E0\u05EA\u05D5\u05E0\u05D9\u05DD \u05E9\u05D4\u05D6\u05E0\u05EA. \u05D4\u05E0\u05D9\u05EA\u05D5\u05D7 \u05E0\u05D5\u05E6\u05E8 \u05E2\u05DC \u05D9\u05D3\u05D9 \u05DE\u05D5\u05D3\u05DC AI \u05DE\u05EA\u05E7\u05D3\u05DD \u05E9\u05D0\u05D5\u05DE\u05DF \u05E2\u05DC \u05E2\u05E7\u05E8\u05D5\u05E0\u05D5\u05EA \u05E0\u05D9\u05EA\u05D5\u05D7 \u05E4\u05D9\u05E0\u05E0\u05E1\u05D9."), /*#__PURE__*/React.createElement("button", {
      onClick: getAiAnalysis,
      disabled: isAiLoading || !data.section2.tickerSymbol,
      className: "w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 min-h-[44px]"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-robot ml-2"
    }), " ", isAiLoading ? 'מנתח...' : 'הפק ניתוח AI'), /*#__PURE__*/React.createElement("div", {
      className: `ai-analysis-output mt-4 p-4 rounded-md min-h-[100px] ${isAiLoading ? 'loading' : ''} whitespace-pre-wrap`
    }, aiAnalysis)));
  };
  const AiRiskAdvisor = ({
    riskData
  }) => {
    const [advice, setAdvice] = useState("");
    const [isLoading, setIsLoading] = useState(false);
    const getRiskAdvice = async () => {
      setIsLoading(true);
      setAdvice("");
      const sectorConcentrationString = Object.entries(riskData.sectorConcentration).map(([sector, risk]) => `${sector}: $${risk.toFixed(2)}`).join(', ');
      const prompt = `
                    Act as an AI Risk Advisor for a trading portfolio. Based on the following data, provide a concise risk analysis and actionable recommendations in Hebrew.

                    **Portfolio Risk Data:**
                    - Total Financial Risk on Open Trades: $${riskData.totalRiskExposure.toFixed(2)}
                    - Number of Open Trades: ${riskData.openTradesCount}
                    - Risk Concentration by Sector: ${sectorConcentrationString || 'None'}

                    **Your Task:**
                    Generate a response in three short, clear paragraphs in Hebrew:
                    1.  **פרופיל סיכון כללי:** ספק סיכום קצר של רמת הסיכון הנוכחית (לדוגמה, נמוכה, מתונה, גבוהה, מרוכזת מאוד).
                    2.  **תצפיות ואזהרות מפתח:** ציין את גורמי הסיכון המשמעותיים ביותר. האם הסיכון הכולל גבוה? האם יש ריכוזיות מסוכנת בסקטור אחד?
                    3.  **המלצות לפעולה:** ספק 1-2 המלצות ברורות ופשוטות להפחתת הסיכונים שזוהו (לדוגמה, "שקול להפחית חשיפה בסקטור [שם הסקטור]," או "בדוק פוזיציות פתוחות כדי לוודא שרמות הסיכון מקובלות.").
                `;
      try {
        let chatHistory = [{
          role: "user",
          parts: [{
            text: prompt
          }]
        }];
        const payload = {
          contents: chatHistory
        };
        const apiKey = "";
        const apiUrl = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=" + apiKey;
        const response = await fetch(apiUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(payload)
        });
        if (!response.ok) throw new Error(`שגיאת API: ${response.status}`);
        const result = await response.json();
        if (result.candidates && result.candidates.length > 0) {
          const text = result.candidates[0].content.parts[0].text;
          setAdvice(text);
        } else {
          setAdvice("לא ניתן היה לקבל ייעוץ סיכונים כרגע.");
        }
      } catch (error) {
        console.error("שגיאה בקבלת ייעוץ סיכונים מה-AI:", error);
        setAdvice("אירעה שגיאה בעת קבלת ייעוץ סיכונים: " + error.message);
      } finally {
        setIsLoading(false);
      }
    };
    return /*#__PURE__*/React.createElement(Section, {
      title: "\uD83D\uDEE1\uFE0F \u05D9\u05D5\u05E2\u05E5 \u05E1\u05D9\u05DB\u05D5\u05E0\u05D9\u05DD AI"
    }, /*#__PURE__*/React.createElement("div", {
      className: "ai-analysis-section col-span-full p-6 rounded-lg"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-400 mb-4"
    }, "\u05E0\u05EA\u05D7 \u05D0\u05EA \u05D7\u05E9\u05D9\u05E4\u05EA \u05D4\u05E1\u05D9\u05DB\u05D5\u05DF \u05D4\u05DB\u05D5\u05DC\u05DC\u05EA \u05E9\u05DC \u05D4\u05EA\u05D9\u05E7 \u05E9\u05DC\u05DA \u05E2\u05DC \u05E1\u05DE\u05DA \u05DB\u05DC \u05D4\u05E2\u05E1\u05E7\u05D0\u05D5\u05EA \u05D4\u05E4\u05EA\u05D5\u05D7\u05D5\u05EA. \u05D4-AI \u05D9\u05E1\u05E4\u05E7 \u05EA\u05D5\u05D1\u05E0\u05D5\u05EA \u05DC\u05D2\u05D1\u05D9 \u05E8\u05D9\u05DB\u05D5\u05D6\u05D9\u05D5\u05EA \u05E1\u05D9\u05DB\u05D5\u05E0\u05D9\u05DD \u05D5\u05D9\u05E6\u05D9\u05E2 \u05E4\u05E2\u05D5\u05DC\u05D5\u05EA \u05D0\u05E4\u05E9\u05E8\u05D9\u05D5\u05EA."), /*#__PURE__*/React.createElement("button", {
      onClick: getRiskAdvice,
      disabled: isLoading || riskData.openTradesCount === 0,
      className: "w-full bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 min-h-[44px]"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-shield-alt ml-2"
    }), " ", isLoading ? 'מנתח סיכונים...' : 'הפק ניתוח סיכוני תיק'), /*#__PURE__*/React.createElement("div", {
      className: `ai-analysis-output mt-4 p-4 rounded-md min-h-[100px] ${isLoading ? 'loading' : ''} whitespace-pre-wrap`
    }, advice)));
  };
  const AutocompleteInput = ({
    label,
    value,
    onValueChange,
    filterKey,
    onBlur,
    onInfoClick,
    paramKey,
    children
  }) => {
    const {
      setData,
      setIsDataDirty,
      gicsDatabase
    } = useData();
    const [inputValue, setInputValue] = useState(value);
    const [suggestions, setSuggestions] = useState([]);
    const [isFocused, setIsFocused] = useState(false);
    useEffect(() => {
      setInputValue(value);
    }, [value]);
    const handleFocus = () => {
      setIsFocused(true);
      if (inputValue === '') {
        setSuggestions(gicsDatabase.slice(0, 100));
      }
    };
    const onInputChange = e => {
      const newValue = e.target.value;
      setInputValue(newValue);
      onValueChange(newValue);
      if (newValue.length > 0) {
        const filtered = gicsDatabase.filter(stock => stock[filterKey] && String(stock[filterKey]).toLowerCase().includes(newValue.toLowerCase()));
        setSuggestions(filtered.slice(0, 100));
      } else {
        setSuggestions(gicsDatabase.slice(0, 100));
      }
    };
    const onSuggestionClick = stock => {
      setData(prevData => ({
        ...prevData,
        section2: {
          ...prevData.section2,
          stockName: stock.Name,
          tickerSymbol: stock.Ticker,
          sector: stock.Sector,
          industry: stock.Industry
        }
      }));
      setIsDataDirty(true);
      setSuggestions([]);
      setIsFocused(false);
    };
    return /*#__PURE__*/React.createElement(InfoRow, {
      label: label,
      paramKey: paramKey,
      onInfoClick: onInfoClick
    }, /*#__PURE__*/React.createElement("div", {
      className: "relative w-full sm:w-auto flex items-center"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: inputValue,
      onChange: onInputChange,
      onFocus: handleFocus,
      onBlur: () => setTimeout(() => {
        setIsFocused(false);
        if (onBlur) onBlur();
      }, 200),
      className: "w-full"
    }), children, isFocused && suggestions.length > 0 && /*#__PURE__*/React.createElement("div", {
      className: "autocomplete-dropdown absolute top-full left-0 right-0 max-h-48 overflow-y-auto mt-1 rounded-md"
    }, suggestions.map((stock, index) => /*#__PURE__*/React.createElement("div", {
      key: `${stock.Ticker}-${stock.Name}-${index}`,
      className: "autocomplete-item p-2 cursor-pointer text-sm",
      onMouseDown: () => onSuggestionClick(stock)
    }, stock[filterKey], " (", stock.Ticker, ")")))));
  };
  const DatabaseManager = () => {
    const {
      gicsDatabase,
      setGicsDatabase
    } = useData();
    const fileInputRef = useRef(null);
    const [uploadStatus, setUploadStatus] = useState('');
    const handleFileUpload = event => {
      const file = event.target.files[0];
      if (!file) return;
      setUploadStatus('מעבד קובץ...');
      const reader = new FileReader();
      reader.onload = e => {
        const text = e.target.result;
        processCSV(text);
      };
      reader.onerror = () => {
        setUploadStatus('שגיאה בקריאת הקובץ.');
      };
      reader.readAsText(file);
    };
    const processCSV = csvText => {
      const lines = csvText.split('\n').filter(line => line.trim() !== '');
      if (lines.length < 2) {
        setUploadStatus("שגיאה: קובץ ה-CSV ריק או ללא שורות נתונים.");
        return;
      }
      const headers = lines[0].match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g).map(v => v.replace(/"/g, '').trim());
      const tickerIndex = headers.indexOf('Ticker');
      const nameIndex = headers.indexOf('Stock Name');
      const sectorIndex = headers.indexOf('Sector');
      const industryIndex = headers.indexOf('Industry');
      if (tickerIndex === -1) {
        setUploadStatus("שגיאה: קובץ ה-CSV חייב להכיל עמודת 'Ticker'.");
        return;
      }
      const newStocks = lines.slice(1).map(line => {
        const values = line.match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g).map(v => v.replace(/"/g, '').trim());
        return {
          Ticker: values[tickerIndex] || '',
          Name: nameIndex !== -1 ? values[nameIndex] : '',
          Sector: sectorIndex !== -1 ? values[sectorIndex] : '',
          Industry: industryIndex !== -1 ? values[industryIndex] : ''
        };
      }).filter(stock => stock.Ticker);
      const tickerMap = new Map(gicsDatabase.map(stock => [stock.Ticker, stock]));
      let addedCount = 0;
      newStocks.forEach(stock => {
        if (!tickerMap.has(stock.Ticker)) {
          addedCount++;
        }
        tickerMap.set(stock.Ticker, stock);
      });
      const updatedDatabase = Array.from(tickerMap.values());
      setGicsDatabase(updatedDatabase);
      setUploadStatus(`מאגר הנתונים עודכן. ${addedCount} מניות חדשות נוספו. סך הכל מניות: ${updatedDatabase.length}`);
      updatedDatabase.forEach(stock => {
        if (!stock.Name || !stock.Sector || !stock.Industry) {
          console.log(`נדרשת העשרה עבור ${stock.Ticker}: נתונים חסרים יאוחזרו ממקור רשת כאן.`);
        }
      });
    };
    return /*#__PURE__*/React.createElement(Section, {
      title: "\u05E0\u05D9\u05D4\u05D5\u05DC \u05DE\u05D0\u05D2\u05E8 \u05E0\u05EA\u05D5\u05E0\u05D9\u05DD"
    }, /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-database",
      title: "\u05D4\u05E2\u05E9\u05E8\u05EA \u05E0\u05EA\u05D5\u05E0\u05D9\u05DD"
    }, /*#__PURE__*/React.createElement("div", {
      className: "p-2 text-center bg-gray-800 rounded-md mb-4"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-lg"
    }, "\u05DE\u05E0\u05D9\u05D5\u05EA \u05D1\u05DE\u05D0\u05D2\u05E8 GICS: ", /*#__PURE__*/React.createElement("span", {
      className: "font-bold text-accent-color-2"
    }, gicsDatabase.length))), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-400 mb-4"
    }, "\u05D4\u05E2\u05DC\u05D4 \u05E7\u05D5\u05D1\u05E5 CSV \u05E2\u05DD \u05E8\u05E9\u05D9\u05DE\u05EA \u05DE\u05E0\u05D9\u05D5\u05EA \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E8\u05D7\u05D9\u05D1 \u05D0\u05EA \u05DE\u05D0\u05D2\u05E8 \u05D4\u05E0\u05EA\u05D5\u05E0\u05D9\u05DD. \u05D4\u05DE\u05E2\u05E8\u05DB\u05EA \u05EA\u05E1\u05D9\u05E8 \u05DB\u05E4\u05D9\u05DC\u05D5\u05D9\u05D5\u05EA \u05D5\u05EA\u05E0\u05E1\u05D4 \u05DC\u05D4\u05E9\u05DC\u05D9\u05DD \u05DE\u05D9\u05D3\u05E2 \u05D7\u05E1\u05E8 \u05D1\u05D0\u05D5\u05E4\u05DF \u05D0\u05D5\u05D8\u05D5\u05DE\u05D8\u05D9. \u05D4-CSV \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05DB\u05D9\u05DC \u05D0\u05EA \u05D4\u05E2\u05DE\u05D5\u05D3\u05D5\u05EA \u05D4\u05D1\u05D0\u05D5\u05EA: ", /*#__PURE__*/React.createElement("b", null, "Ticker, Stock Name, Sector, Industry"), "."), /*#__PURE__*/React.createElement("input", {
      type: "file",
      ref: fileInputRef,
      onChange: handleFileUpload,
      className: "hidden",
      accept: ".csv"
    }), /*#__PURE__*/React.createElement("button", {
      onClick: () => fileInputRef.current.click(),
      className: "w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 min-h-[44px]"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-file-csv ml-2"
    }), " \u05D4\u05E2\u05DC\u05D4 \u05DE\u05E0\u05D9\u05D5\u05EA (CSV)"), uploadStatus && /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-center mt-4 text-teal-400"
    }, uploadStatus)));
  };
  const Modal = ({
    title,
    content,
    onClose,
    modalRef
  }) => {
    return /*#__PURE__*/React.createElement("div", {
      ref: modalRef,
      className: "modal-backdrop",
      onClick: onClose
    }, /*#__PURE__*/React.createElement("div", {
      className: "modal-content",
      onClick: e => e.stopPropagation()
    }, /*#__PURE__*/React.createElement("h2", {
      className: "text-2xl font-bold text-teal-400 mb-4"
    }, title), /*#__PURE__*/React.createElement("div", {
      className: "text-gray-300 space-y-3"
    }, content), /*#__PURE__*/React.createElement("button", {
      onClick: onClose,
      className: "mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg"
    }, "\u05E1\u05D2\u05D5\u05E8")));
  };
  const ExportModal = ({
    onClose
  }) => {
    const {
      exportAsPng,
      exportAsPdf
    } = useFirebase();
    const modalRef = useRef(null);
    const allSections = ["בקרת מערכת וקלט/פלט", "🚨 בקרת גרסאות ושחזור", "🤖 ניתוח טכני AI", "📊 תצוגות גרפיות", "✅ שלב 1: סטטוס חשבון – תיק ההשקעות שלי", "✅ שלב 2: ניתוח מניה – פרופיל חברה", "ניהול מאגר נתונים", "✅ שלב 3: תנועת שוק – נתוני שוק", "✅ שלב 4: אינדיקטורים טכניים – ארגז הכלים שלך", "✅ שלב 5: רמות ותבניות בגרף – תובנות אסטרטגיות", "✅ שלב 6: ניתוח פונדמנטלי – בריאות הליבה של החברה", "✅ שלב 7: סיכון וסנטימנט – זרמי שוק תת-קרקעיים", "✅ שלב 8: תוכנית ניהול עסקה ב-5 שלבים"];
    const [selectedSections, setSelectedSections] = useState(allSections);
    const handleToggle = section => {
      setSelectedSections(prev => prev.includes(section) ? prev.filter(s => s !== section) : [...prev, section]);
    };
    const handleExportPdf = () => {
      exportAsPdf(selectedSections, modalRef);
      onClose();
    };
    const handleExportPng = () => {
      exportAsPng(selectedSections, modalRef);
      onClose();
    };
    const content = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("p", null, "\u05D1\u05D7\u05E8 \u05D0\u05EA \u05D4\u05E1\u05E2\u05D9\u05E4\u05D9\u05DD \u05E9\u05D1\u05E8\u05E6\u05D5\u05E0\u05DA \u05DC\u05DB\u05DC\u05D5\u05DC \u05D1\u05D9\u05D9\u05E6\u05D5\u05D0."), /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-2 gap-2 mt-4"
    }, allSections.map(section => /*#__PURE__*/React.createElement("label", {
      key: section,
      className: "flex items-center space-x-2"
    }, /*#__PURE__*/React.createElement("input", {
      type: "checkbox",
      checked: selectedSections.includes(section),
      onChange: () => handleToggle(section)
    }), /*#__PURE__*/React.createElement("span", null, section)))), /*#__PURE__*/React.createElement("div", {
      className: "flex gap-4 mt-6"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: handleExportPdf,
      className: "w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg"
    }, "\u05D4\u05E4\u05E7 PDF"), /*#__PURE__*/React.createElement("button", {
      onClick: handleExportPng,
      className: "w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg"
    }, "\u05D4\u05E4\u05E7 PNG")));
    return /*#__PURE__*/React.createElement(Modal, {
      title: "\u05D9\u05D9\u05E6\u05D5\u05D0 \u05DE\u05D5\u05EA\u05D0\u05DD \u05D0\u05D9\u05E9\u05D9\u05EA",
      content: content,
      onClose: onClose,
      modalRef: modalRef
    });
  };
  const BackupKitModal = ({
    onClose,
    restoreCode,
    importCode,
    setImportCode,
    generateRestoreCode,
    importFromCode,
    copyToClipboard
  }) => {
    const {
      exportDataAsJson,
      exportAsPng,
      exportSourceCode
    } = useFirebase();
    const modalRef = useRef(null);
    const content = /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("p", {
      className: "mb-4"
    }, "\u05DB\u05D0\u05DF \u05E0\u05DE\u05E6\u05D0\u05D9\u05DD \u05DB\u05DC \u05D4\u05E0\u05DB\u05E1\u05D9\u05DD \u05DC\u05D2\u05D9\u05D1\u05D5\u05D9 \u05DE\u05DC\u05D0 \u05E9\u05DC \u05D4\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05E9\u05DC\u05DA. \u05D4\u05E9\u05EA\u05DE\u05E9 \u05D1\u05DB\u05E4\u05EA\u05D5\u05E8\u05D9\u05DD \u05DB\u05D3\u05D9 \u05DC\u05E9\u05DE\u05D5\u05E8 \u05DB\u05DC \u05E0\u05DB\u05E1."), /*#__PURE__*/React.createElement("div", {
      className: "space-y-4"
    }, /*#__PURE__*/React.createElement("div", {
      className: "bg-gray-800 p-4 rounded-lg"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "font-bold mb-2 text-lg text-teal-400"
    }, "\u05D2\u05D9\u05D1\u05D5\u05D9 \u05E7\u05D1\u05E6\u05D9\u05DD"), /*#__PURE__*/React.createElement("div", {
      className: "flex justify-between items-center mb-2"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h5", {
      className: "font-semibold"
    }, "\u05E7\u05D5\u05D3 \u05DE\u05E7\u05D5\u05E8 (HTML)"), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-400"
    }, "\u05D4\u05E7\u05D5\u05D3 \u05D4\u05DE\u05DC\u05D0 \u05E9\u05DC \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4.")), /*#__PURE__*/React.createElement("button", {
      onClick: exportSourceCode,
      className: "bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 rounded-lg text-sm"
    }, "\u05D4\u05D5\u05E8\u05D3 HTML")), /*#__PURE__*/React.createElement("div", {
      className: "flex justify-between items-center mb-2"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h5", {
      className: "font-semibold"
    }, "\u05E0\u05EA\u05D5\u05E0\u05D9 \u05DC\u05D5\u05D7 \u05DE\u05D7\u05D5\u05D5\u05E0\u05D9\u05DD (JSON)"), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-400"
    }, "\u05DB\u05DC \u05E0\u05EA\u05D5\u05E0\u05D9 \u05E0\u05D9\u05EA\u05D5\u05D7 \u05D4\u05E2\u05E1\u05E7\u05D0\u05D5\u05EA \u05D4\u05E0\u05D5\u05DB\u05D7\u05D9\u05D9\u05DD \u05E9\u05DC\u05DA.")), /*#__PURE__*/React.createElement("button", {
      onClick: exportDataAsJson,
      className: "bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 rounded-lg text-sm"
    }, "\u05D4\u05D5\u05E8\u05D3 JSON")), /*#__PURE__*/React.createElement("div", {
      className: "flex justify-between items-center"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h5", {
      className: "font-semibold"
    }, "\u05EA\u05DE\u05D5\u05E0\u05EA \u05DE\u05E6\u05D1 \u05D7\u05D6\u05D5\u05EA\u05D9\u05EA (PNG)"), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-400"
    }, "\u05E6\u05D9\u05DC\u05D5\u05DD \u05DE\u05E1\u05DA \u05E9\u05DC \u05EA\u05E6\u05D5\u05D2\u05EA \u05DC\u05D5\u05D7 \u05D4\u05DE\u05D7\u05D5\u05D5\u05E0\u05D9\u05DD \u05D4\u05E0\u05D5\u05DB\u05D7\u05D9\u05EA.")), /*#__PURE__*/React.createElement("button", {
      onClick: () => exportAsPng([], modalRef),
      className: "bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 rounded-lg text-sm"
    }, "\u05D4\u05D5\u05E8\u05D3 PNG"))), /*#__PURE__*/React.createElement("div", {
      className: "bg-gray-800 p-4 rounded-lg"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "font-bold mb-2 text-lg text-teal-400"
    }, "\u05D2\u05D9\u05D1\u05D5\u05D9 \u05D5\u05E9\u05D7\u05D6\u05D5\u05E8 \u05DE\u05D1\u05D5\u05E1\u05E1 \u05E7\u05D5\u05D3"), /*#__PURE__*/React.createElement("button", {
      onClick: generateRestoreCode,
      className: "w-full mb-2 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg"
    }, "\u05E6\u05D5\u05E8 \u05E7\u05D5\u05D3 \u05E9\u05D7\u05D6\u05D5\u05E8"), restoreCode && /*#__PURE__*/React.createElement("div", {
      className: "space-y-2"
    }, /*#__PURE__*/React.createElement("label", {
      className: "text-sm text-gray-400"
    }, "\u05E7\u05D5\u05D3 \u05D4\u05E9\u05D7\u05D6\u05D5\u05E8 \u05E9\u05DC\u05DA:"), /*#__PURE__*/React.createElement("div", {
      className: "flex gap-2"
    }, /*#__PURE__*/React.createElement("textarea", {
      readOnly: true,
      value: restoreCode,
      className: "w-full flex-grow bg-gray-900 border border-gray-600 rounded-md p-2 text-xs",
      rows: "3"
    }), /*#__PURE__*/React.createElement("button", {
      onClick: () => copyToClipboard(restoreCode),
      className: "bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-3 rounded-lg text-sm"
    }, "\u05D4\u05E2\u05EA\u05E7"))), /*#__PURE__*/React.createElement("div", {
      className: "space-y-2 mt-4"
    }, /*#__PURE__*/React.createElement("label", {
      className: "text-sm text-gray-400"
    }, "\u05D4\u05D3\u05D1\u05E7 \u05DB\u05D0\u05DF \u05E7\u05D5\u05D3 \u05E9\u05D7\u05D6\u05D5\u05E8:"), /*#__PURE__*/React.createElement("textarea", {
      value: importCode,
      onChange: e => setImportCode(e.target.value),
      className: "w-full bg-gray-900 border border-gray-600 rounded-md p-2 text-xs",
      rows: "3"
    }), /*#__PURE__*/React.createElement("button", {
      onClick: importFromCode,
      className: "w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg"
    }, "\u05E9\u05D7\u05D6\u05E8 \u05DE\u05E7\u05D5\u05D3")))));
    return /*#__PURE__*/React.createElement(Modal, {
      title: "\u05E2\u05E8\u05DB\u05EA \u05D2\u05D9\u05D1\u05D5\u05D9 \u05DE\u05DC\u05D0\u05D4",
      content: content,
      onClose: onClose,
      modalRef: modalRef
    });
  };
  const AiTrainingCenterModal = ({
    onClose
  }) => {
    // Mock data for now. In a real app, this would come from Firebase.
    const mockAnalyses = [{
      id: 1,
      ticker: 'AAPL',
      date: '2025-08-10',
      summary: 'הערכה כללית: שורית. סימנים מרכזיים: מחיר מעל ממוצע נע 50 ו-200...',
      feedback: null
    }, {
      id: 2,
      ticker: 'GOOG',
      date: '2025-08-09',
      summary: 'הערכה כללית: ניטרלית. סימנים מרכזיים: RSI קרוב ל-50, הצלבת MACD קרובה...',
      feedback: null
    }, {
      id: 3,
      ticker: 'TSLA',
      date: '2025-08-08',
      summary: 'הערכה כללית: דובית. סימנים מרכזיים: מחיר שבר מתחת לתמיכה מרכזית...',
      feedback: null
    }];
    const [analyses, setAnalyses] = useState(mockAnalyses);
    const modalRef = useRef(null);
    const handleFeedback = (id, feedback) => {
      // This is where you would update the state and eventually send to Firebase
      console.log(`משוב עבור ניתוח ${id}: ${feedback}`);
    };
    const content = /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("p", {
      className: "mb-4 text-gray-400"
    }, "\u05D1\u05D3\u05D5\u05E7 \u05E0\u05D9\u05EA\u05D5\u05D7\u05D9 AI \u05E7\u05D5\u05D3\u05DE\u05D9\u05DD \u05D5\u05E1\u05E4\u05E7 \u05DE\u05E9\u05D5\u05D1 \u05DB\u05D3\u05D9 \u05DC\u05E9\u05E4\u05E8 \u05D0\u05EA \u05D3\u05D9\u05D5\u05E7 \u05D4\u05DE\u05D5\u05D3\u05DC \u05DC\u05D0\u05D5\u05E8\u05DA \u05D6\u05DE\u05DF. \u05E0\u05EA\u05D5\u05E0\u05D9\u05DD \u05D0\u05DC\u05D5 \u05D9\u05E9\u05DE\u05E9\u05D5 \u05DC\u05DB\u05D5\u05D5\u05E0\u05D5\u05DF \u05E2\u05EA\u05D9\u05D3\u05D9."), /*#__PURE__*/React.createElement("div", {
      className: "space-y-4"
    }, analyses.map(analysis => /*#__PURE__*/React.createElement("div", {
      key: analysis.id,
      className: "bg-gray-800 p-4 rounded-lg"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex justify-between items-start"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h4", {
      className: "font-bold text-lg text-teal-400"
    }, analysis.ticker, " - ", /*#__PURE__*/React.createElement("span", {
      className: "text-sm font-normal text-gray-400"
    }, analysis.date)), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-300 mt-1"
    }, analysis.summary)), /*#__PURE__*/React.createElement("div", {
      className: "flex gap-2 flex-shrink-0 mr-4"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: () => handleFeedback(analysis.id, 'Accurate'),
      className: "bg-green-600 hover:bg-green-700 text-white font-semibold py-1 px-3 rounded-lg text-xs"
    }, "\u05DE\u05D3\u05D5\u05D9\u05E7"), /*#__PURE__*/React.createElement("button", {
      onClick: () => handleFeedback(analysis.id, 'Inaccurate'),
      className: "bg-red-600 hover:bg-red-700 text-white font-semibold py-1 px-3 rounded-lg text-xs"
    }, "\u05DC\u05D0 \u05DE\u05D3\u05D5\u05D9\u05E7"))), /*#__PURE__*/React.createElement("div", {
      className: "mt-3"
    }, /*#__PURE__*/React.createElement("textarea", {
      placeholder: "\u05D4\u05D5\u05E1\u05E3 \u05D4\u05E2\u05E8\u05D5\u05EA \u05DE\u05E9\u05D5\u05D1 \u05D0\u05D5\u05E4\u05E6\u05D9\u05D5\u05E0\u05DC\u05D9\u05D5\u05EA...",
      className: "w-full text-xs",
      rows: "2"
    }))))), /*#__PURE__*/React.createElement("div", {
      className: "flex justify-end mt-4"
    }, /*#__PURE__*/React.createElement("button", {
      className: "bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg"
    }, "\u05E9\u05DC\u05D7 \u05DE\u05E9\u05D5\u05D1")));
    return /*#__PURE__*/React.createElement(Modal, {
      title: "\u05DE\u05E8\u05DB\u05D6 \u05D0\u05D9\u05DE\u05D5\u05DF AI",
      content: content,
      onClose: onClose,
      modalRef: modalRef
    });
  };
  const KnowledgeBaseModal = ({
    onClose
  }) => {
    const [files, setFiles] = useState([]);
    const {
      db,
      userId,
      isAuthReady
    } = useFirebase();
    const [selectedFileId, setSelectedFileId] = useState(null);
    const [isAnalyzing, setIsAnalyzing] = useState(false);
    const fileInputRef = useRef(null);
    const modalRef = useRef(null);
    const selectedFile = files.find(f => f.id === selectedFileId);
    useEffect(() => {
      if (!isAuthReady || !db || !userId) return;
      const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
      const kbCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/knowledge_base`);
      const q = firebase.query(kbCollectionRef, firebase.orderBy('uploadedAt', 'desc'));
      const unsubscribe = firebase.onSnapshot(q, querySnapshot => {
        const fetchedFiles = querySnapshot.docs.map(doc => ({
          id: doc.id,
          ...doc.data()
        }));
        setFiles(fetchedFiles);
      });
      return () => unsubscribe();
    }, [isAuthReady, db, userId]);
    const fileToGenerativePart = async file => {
      const base64EncodedDataPromise = new Promise(resolve => {
        const reader = new FileReader();
        reader.onloadend = () => resolve(reader.result.split(',')[1]);
        reader.readAsDataURL(file);
      });
      return {
        inlineData: {
          data: await base64EncodedDataPromise,
          mimeType: file.type
        }
      };
    };
    const processFile = async file => {
      if (!isAuthReady || !db || !userId) return;
      const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
      const kbCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/knowledge_base`);
      const fileData = {
        name: file.name,
        status: 'מעבד',
        size: `${(file.size / 1024).toFixed(2)} KB`,
        uploadedAt: new Date().toISOString(),
        processedContent: null,
        analysis: null
      };
      const docRef = await firebase.addDoc(kbCollectionRef, fileData);
      try {
        let processedContent = `סוג הקובץ (${file.type}) אינו נתמך לחילוץ תוכן ישיר. נעשה שימוש בשם הקובץ כתוכן.`;
        if (file.type.startsWith('image/')) {
          const imagePart = await fileToGenerativePart(file);
          const payload = {
            contents: [{
              parts: [{
                text: "תאר תמונה זו בפירוט מנקודת מבט של ניתוח פיננסי או טכני."
              }, imagePart]
            }]
          };
          const apiKey = "";
          const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
          const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
          });
          if (!response.ok) throw new Error(`שגיאת API: ${response.statusText}`);
          const result = await response.json();
          processedContent = result.candidates[0].content.parts[0].text;
        }
        await firebase.updateDoc(docRef, {
          status: 'הושלם',
          processedContent: processedContent
        });
      } catch (error) {
        console.error("שגיאה בעיבוד קובץ:", error);
        await firebase.updateDoc(docRef, {
          status: 'שגיאה'
        });
      }
    };
    const handleFiles = async filesToProcess => {
      for (const file of filesToProcess) {
        await processFile(file);
      }
    };
    const handleFileDrop = e => {
      e.preventDefault();
      const droppedFiles = Array.from(e.dataTransfer.files);
      handleFiles(droppedFiles);
    };
    const handleFileSelect = e => {
      const selectedFiles = Array.from(e.target.files);
      handleFiles(selectedFiles);
    };
    const handleAnalyzeFile = async file => {
      if (!file.processedContent) {
        alert("הקובץ עדיין לא עבר עיבוד או שלא ניתן היה לחלץ תוכן.");
        return;
      }
      setIsAnalyzing(true);
      setSelectedFileId(file.id);
      const prompt = `
                        Based on the following content extracted from a user-uploaded file, provide a structured analysis.
                        Content: "${file.processedContent}"

                        Generate a response in the following structured format, in Hebrew:
                        1.  **משמעות/סיגנל:** מהי המשמעות הטכנית העיקרית או הסיגנל מהתוכן הזה?
                        2.  **פעולה מומלצת:** בהתבסס על הסיגנל, מהי הפעולה או התגובה המומלצת?
                        3.  **דוגמאות/הערות חשובות:** ספק דוגמאות חיוניות או הערות חשובות הקשורות לסיגנל זה.
                        4.  **מצב אפשרי:** מהם התרחישים או המצבים האפשריים שיכולים להתרחש בהמשך?
                        5.  **למה לבדוק פרמטר זה:** הסבר את תרומתו של פרמטר/סיגנל זה לניתוח הכולל.
                        6.  **איך למצוא את הנתונים:** כיצד ניתן בדרך כלל למצוא או לאמת נתונים אלה?
                    `;
      try {
        let chatHistory = [{
          role: "user",
          parts: [{
            text: prompt
          }]
        }];
        const payload = {
          contents: chatHistory
        };
        const apiKey = "";
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
        const response = await fetch(apiUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(payload)
        });
        if (!response.ok) throw new Error(`שגיאת API: ${response.statusText}`);
        const result = await response.json();
        if (result.candidates && result.candidates.length > 0) {
          const text = result.candidates[0].content.parts[0].text;
          const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
          const fileDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/knowledge_base`, file.id);
          await firebase.updateDoc(fileDocRef, {
            analysis: text
          });
        } else {
          throw new Error("לא ניתן היה להפיק ניתוח.");
        }
      } catch (error) {
        console.error("שגיאה בניתוח הקובץ:", error);
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const fileDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/knowledge_base`, file.id);
        await firebase.updateDoc(fileDocRef, {
          analysis: "אירעה שגיאה במהלך הניתוח."
        });
      } finally {
        setIsAnalyzing(false);
      }
    };
    const handleDeleteFile = async fileId => {
      if (confirm("האם אתה בטוח שברצונך למחוק קובץ זה?")) {
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const fileDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/knowledge_base`, fileId);
        await firebase.deleteDoc(fileDocRef);
      }
    };
    const content = /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("p", {
      className: "mb-4 text-gray-400"
    }, "\u05D4\u05E2\u05DC\u05D4 \u05DE\u05E1\u05DE\u05DB\u05D9\u05DD, \u05D2\u05D9\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05D0\u05DC\u05E7\u05D8\u05E8\u05D5\u05E0\u05D9\u05D9\u05DD, \u05DE\u05E6\u05D2\u05D5\u05EA \u05D0\u05D5 \u05EA\u05DE\u05D5\u05E0\u05D5\u05EA \u05DB\u05D3\u05D9 \u05DC\u05D0\u05DE\u05DF \u05D0\u05EA \u05D4-AI. \u05D4\u05DE\u05E2\u05E8\u05DB\u05EA \u05EA\u05D7\u05DC\u05E5 \u05DE\u05D9\u05D3\u05E2 \u05E8\u05DC\u05D5\u05D5\u05E0\u05D8\u05D9 \u05DB\u05D3\u05D9 \u05DC\u05E1\u05E4\u05E7 \u05EA\u05D5\u05D1\u05E0\u05D5\u05EA \u05D5\u05E0\u05D9\u05EA\u05D5\u05D7\u05D9\u05DD \u05E2\u05E9\u05D9\u05E8\u05D9\u05DD \u05D9\u05D5\u05EA\u05E8."), /*#__PURE__*/React.createElement("div", {
      onDragOver: e => e.preventDefault(),
      onDrop: handleFileDrop,
      onClick: () => fileInputRef.current.click(),
      className: "border-2 border-dashed border-gray-500 rounded-lg p-8 text-center cursor-pointer hover:border-teal-400 transition-all"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-cloud-upload-alt text-4xl text-gray-400 mb-2"
    }), /*#__PURE__*/React.createElement("p", null, "\u05D2\u05E8\u05D5\u05E8 \u05D5\u05E9\u05D7\u05E8\u05E8 \u05E7\u05D1\u05E6\u05D9\u05DD \u05DB\u05D0\u05DF \u05D0\u05D5 \u05DC\u05D7\u05E5 \u05DC\u05D1\u05D7\u05D9\u05E8\u05D4"), /*#__PURE__*/React.createElement("input", {
      type: "file",
      multiple: true,
      ref: fileInputRef,
      onChange: handleFileSelect,
      className: "hidden"
    }), /*#__PURE__*/React.createElement("p", {
      className: "text-xs text-gray-500 mt-2"
    }, "\u05E0\u05EA\u05DE\u05DA: DOC, DOCX, XLSX, CSV, PPT, PPS, JPG, PNG")), /*#__PURE__*/React.createElement("div", {
      className: "mt-6"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "font-bold text-lg text-teal-400 mb-2"
    }, "\u05E7\u05D1\u05E6\u05D9\u05DD \u05E9\u05D4\u05D5\u05E2\u05DC\u05D5"), /*#__PURE__*/React.createElement("div", {
      className: "w-full overflow-x-auto",
      style: {
        maxHeight: '200px'
      }
    }, /*#__PURE__*/React.createElement("table", {
      className: "w-full text-right text-sm"
    }, /*#__PURE__*/React.createElement("thead", null, /*#__PURE__*/React.createElement("tr", {
      className: "border-b border-gray-600"
    }, /*#__PURE__*/React.createElement("th", {
      className: "p-2"
    }, "\u05E9\u05DD \u05E7\u05D5\u05D1\u05E5"), /*#__PURE__*/React.createElement("th", {
      className: "p-2"
    }, "\u05D2\u05D5\u05D3\u05DC"), /*#__PURE__*/React.createElement("th", {
      className: "p-2"
    }, "\u05E1\u05D8\u05D8\u05D5\u05E1"), /*#__PURE__*/React.createElement("th", {
      className: "p-2 text-center"
    }, "\u05E4\u05E2\u05D5\u05DC\u05D5\u05EA"))), /*#__PURE__*/React.createElement("tbody", null, files.length === 0 ? /*#__PURE__*/React.createElement("tr", null, /*#__PURE__*/React.createElement("td", {
      colSpan: "4",
      className: "text-center p-4 text-gray-500"
    }, "\u05E2\u05D3\u05D9\u05D9\u05DF \u05DC\u05D0 \u05D4\u05D5\u05E2\u05DC\u05D5 \u05E7\u05D1\u05E6\u05D9\u05DD.")) : files.map(file => /*#__PURE__*/React.createElement("tr", {
      key: file.id,
      className: "border-b border-gray-700 hover:bg-gray-700"
    }, /*#__PURE__*/React.createElement("td", {
      className: "p-2 font-medium"
    }, file.name), /*#__PURE__*/React.createElement("td", {
      className: "p-2"
    }, file.size), /*#__PURE__*/React.createElement("td", {
      className: "p-2"
    }, /*#__PURE__*/React.createElement("span", {
      className: `${file.status === 'הושלם' ? 'bg-green-500 text-green-900' : file.status === 'מעבד' ? 'bg-yellow-500 text-yellow-900' : 'bg-red-500 text-red-900'} text-xs font-semibold mr-2 px-2.5 py-0.5 rounded`
    }, file.status)), /*#__PURE__*/React.createElement("td", {
      className: "p-2 text-center"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: () => handleAnalyzeFile(file),
      disabled: file.status !== 'הושלם' || isAnalyzing && selectedFileId === file.id,
      className: "text-teal-400 hover:text-teal-200 text-xs ml-4 disabled:opacity-50"
    }, isAnalyzing && selectedFileId === file.id ? 'מנתח...' : 'נתח'), /*#__PURE__*/React.createElement("button", {
      onClick: () => handleDeleteFile(file.id),
      className: "text-red-400 hover:text-red-200 text-xs"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-trash-alt"
    }))))))))), selectedFile && /*#__PURE__*/React.createElement("div", {
      className: "mt-6"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "font-bold text-lg text-teal-400 mb-2"
    }, "\u05E0\u05D9\u05EA\u05D5\u05D7 \u05E2\u05D1\u05D5\u05E8: ", selectedFile.name), /*#__PURE__*/React.createElement("div", {
      className: `ai-analysis-output p-4 rounded-md min-h-[100px] ${isAnalyzing ? 'loading' : ''}`
    }, selectedFile.analysis && /*#__PURE__*/React.createElement("div", {
      className: "whitespace-pre-wrap"
    }, selectedFile.analysis))));
    return /*#__PURE__*/React.createElement(Modal, {
      title: "\u05DE\u05D0\u05D2\u05E8 \u05D9\u05D3\u05E2 \u05D5\u05D0\u05D9\u05DE\u05D5\u05DF AI",
      content: content,
      onClose: onClose,
      modalRef: modalRef
    });
  };

  //======================================================================
  //  6. API & UTILITY FUNCTIONS
  //======================================================================
  const findGicsClassification = (ticker, gicsDatabase) => {
    const stock = gicsDatabase.find(item => item.Ticker.toLowerCase() === ticker.toLowerCase());
    if (stock) {
      return {
        sector: stock.Sector,
        industry: stock.Industry
      };
    }
    return {
      sector: '',
      industry: ''
    };
  };
  const fetchApiData = async (ticker, apiKey, setData, setApiStatus, setIsLiveDataSet, gicsDatabase) => {
    if (!ticker) {
      setApiStatus({
        loading: false,
        error: "סימול המניה ריק."
      });
      return;
    }
    if (!apiKey) {
      setApiStatus({
        loading: false,
        error: "חסר מפתח API של Alpha Vantage."
      });
      return;
    }
    setApiStatus({
      loading: true,
      error: null
    });
    const functions = ['GLOBAL_QUOTE', 'RSI', 'SMA', 'MACD', 'VWAP', 'ATR', 'OVERVIEW', 'TIME_SERIES_DAILY', 'CURRENCY_EXCHANGE_RATE'];
    const urls = functions.map(func => {
      if (func === 'CURRENCY_EXCHANGE_RATE') {
        return `https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=USD&to_currency=ILS&apikey=${apiKey}`;
      }
      return `https://www.alphavantage.co/query?function=${func}&symbol=${ticker}&interval=daily&time_period=14&series_type=close&apikey=${apiKey}`;
    });
    try {
      const responses = await Promise.all(urls.map(url => fetch(url)));
      const results = await Promise.all(responses.map(res => res.json()));
      const [quote, rsi, sma, macd, vwap, atr, overview, dailySeries, exchangeRate] = results;
      if (quote['Error Message'] || !quote['Global Quote'] || Object.keys(quote['Global Quote']).length === 0) {
        throw new Error(quote['Note'] || 'סימול לא תקין או הגעת למגבלת ה-API.');
      }
      const globalQuote = quote['Global Quote'];
      const {
        sector,
        industry
      } = findGicsClassification(ticker, gicsDatabase);
      const lastRsi = rsi['Technical Analysis: RSI'] ? Object.values(rsi['Technical Analysis: RSI'])[0]['RSI'] : 'N/A';
      const lastSma200 = sma['Technical Analysis: SMA'] ? Object.values(sma['Technical Analysis: SMA'])[0]['SMA'] : 'N/A';
      const lastMacd = macd['Technical Analysis: MACD'] ? Object.values(macd['Technical Analysis: MACD'])[0] : {};
      const lastVwap = vwap['Technical Analysis: VWAP'] ? Object.values(vwap['Technical Analysis: VWAP'])[0]['VWAP'] : 'N/A';
      const lastAtr = atr['Technical Analysis: ATR'] ? Object.values(atr['Technical Analysis: ATR'])[0]['ATR'] : 'N/A';
      const currentUSDRate = exchangeRate['Realtime Currency Exchange Rate'] ? parseFloat(exchangeRate['Realtime Currency Exchange Rate']['5. Exchange Rate']) : null;
      let dailyPivot = 0;
      if (dailySeries && dailySeries['Time Series (Daily)']) {
        const dates = Object.keys(dailySeries['Time Series (Daily)']);
        if (dates.length > 1) {
          const previousDayData = dailySeries['Time Series (Daily)'][dates[1]];
          const prevHigh = parseFloat(previousDayData['2. high']);
          const prevLow = parseFloat(previousDayData['3. low']);
          const prevClose = parseFloat(previousDayData['4. close']);
          dailyPivot = (prevHigh + prevLow + prevClose) / 3;
        }
      }
      setData(prevData => ({
        ...prevData,
        section1: {
          ...prevData.section1,
          currentUSDRate: currentUSDRate || prevData.section1.currentUSDRate
        },
        section2: {
          ...prevData.section2,
          stockName: overview['Name'] || prevData.section2.stockName,
          sector: overview['Sector'] || sector,
          industry: overview['Industry'] || industry,
          marketCap: overview['MarketCapitalization'] || prevData.section2.marketCap
        },
        section3: {
          ...prevData.section3,
          currentPrice: parseFloat(globalQuote['05. price']),
          dailyRange: `${parseFloat(globalQuote['04. low'])} - ${parseFloat(globalQuote['03. high'])}`,
          prevDayRange: `Close: ${parseFloat(globalQuote['08. previous close'])}`,
          currentVolume: globalQuote['06. volume']
        },
        section4: {
          ...prevData.section4,
          rsi: parseFloat(lastRsi),
          ma200: parseFloat(lastSma200),
          macd: parseFloat(lastMacd['MACD']),
          macdSignal: parseFloat(lastMacd['MACD_Signal']),
          macdHistogram: parseFloat(lastMacd['MACD_Hist']),
          vwap: parseFloat(lastVwap),
          atr: parseFloat(lastAtr)
        },
        section5: {
          ...prevData.section5,
          dailyPivot: dailyPivot.toFixed(2)
        },
        section6: {
          ...prevData.section6,
          revenue: overview['RevenueTTM'],
          eps: parseFloat(overview['EPS']),
          peRatio: parseFloat(overview['PERatio']),
          pbRatio: parseFloat(overview['PriceToBookRatio']),
          dividend: overview['DividendYield'],
          analystForecasts: overview['AnalystTargetPrice']
        },
        section8: {
          ...prevData.section8,
          step1: {
            ...prevData.section8.step1,
            currentPrice: parseFloat(globalQuote['05. price'])
          }
        }
      }));
      setIsLiveDataSet(true);
      setApiStatus({
        loading: false,
        error: null
      });
    } catch (error) {
      console.error("שגיאה באחזור API:", error);
      setApiStatus({
        loading: false,
        error: error.message
      });
    }
  };

  //======================================================================
  //  7. MAIN APP COMPONENT
  //======================================================================

  const App = () => {
    const {
      data,
      setData,
      handleNestedChange,
      apiStatus,
      setApiStatus,
      gicsDatabase,
      isLiveDataSet,
      setIsLiveDataSet,
      dataEntryMode,
      setDataEntryMode,
      tradeLog
    } = useData();
    const {
      userId,
      db,
      isAuthReady
    } = useFirebase();
    const [modalInfo, setModalInfo] = useState(null);
    const [tacticalRecommendations, setTacticalRecommendations] = useState([]);
    const [alphaVantageKey, setAlphaVantageKey] = useState('U4464522W6V69P5G');
    const calculatedData = useMemo(() => {
      const s1 = data.section1;
      const initialUSD = s1.initialPortfolioValueILS > 0 && s1.initialUSDRate > 0 ? s1.initialPortfolioValueILS / s1.initialUSDRate : parseFloat(s1.initialPortfolioValueUSD) || 0;
      const currentUSD = s1.currentPortfolioValueILS > 0 && s1.currentUSDRate > 0 ? s1.currentPortfolioValueILS / s1.currentUSDRate : parseFloat(s1.currentPortfolioValueUSD) || 0;
      const totalPL = initialUSD > 0 && currentUSD > 0 ? currentUSD - initialUSD : parseFloat(s1.totalPLUSD) || 0;
      const totalPLPercentage = initialUSD > 0 ? totalPL / initialUSD * 100 : 0;
      return {
        initialPortfolioValueUSD: initialUSD.toFixed(2),
        currentPortfolioValueUSD: currentUSD.toFixed(2),
        totalPLUSD: totalPL.toFixed(2),
        totalPLPercentage: totalPLPercentage.toFixed(2)
      };
    }, [data.section1.initialPortfolioValueILS, data.section1.initialUSDRate, data.section1.currentPortfolioValueILS, data.section1.currentUSDRate]);
    const displayData = useMemo(() => {
      const newData = JSON.parse(JSON.stringify(data));
      newData.section1 = {
        ...newData.section1,
        ...calculatedData
      };
      const {
        section1,
        section3,
        section4,
        section5,
        section8
      } = newData;
      if (section3.currentPrice > 0) {
        if (section4.ma200) section4.maMeaning = section3.currentPrice > section4.ma200 ? 'שורי לטווח ארוך' : 'דובי לטווח ארוך';
        if (section4.ma50) section4.maAction = section3.currentPrice > section4.ma50 ? 'שקול קנייה' : 'שקול מכירה';
        if (section4.atr) section4.atrPercent = (section4.atr / section3.currentPrice * 100).toFixed(2);
      }
      if (section4.macd && section4.macdSignal) {
        const isAbove = section4.macd > section4.macdSignal;
        section4.macdMeaning = isAbove ? 'מומנטום שורי' : 'מומנטום דובי';
        section4.macdAction = isAbove ? 'סיגנל קנייה' : 'סיגנל מכירה';
      }
      if (section5.dailyPivot > 0 && section3.currentPrice > 0) {
        const isAbove = section3.currentPrice > section5.dailyPivot;
        section5.priceVsPivot = isAbove ? 'מעל פיבוט' : 'מתחת לפיבוט';
        section5.pivotAction = isAbove ? 'חוזקה פוטנציאלית' : 'חולשה פוטנציאלית';
      }
      const entry = parseFloat(section8.step1.entryPrice) || 0;
      const stop = parseFloat(section8.step1.stopLoss) || 0;
      const units = parseFloat(section8.step1.units) || 0;
      if (entry > 0 && stop > 0) {
        const riskPerUnit = entry - stop;
        section8.step2.potentialRiskUnit = riskPerUnit.toFixed(2);
        if (units > 0) {
          const financialRisk = riskPerUnit * units;
          section8.step2.financialRisk = financialRisk.toFixed(2);
          const totalCost = units * entry;
          section8.step2.totalCost = totalCost.toFixed(2);
          section8.step2.remainingBalance = (section1.buyingPowerUSD - totalCost).toFixed(2);
        }
        const tp1 = parseFloat(section8.step3.tp1) || 0;
        if (tp1 > entry && units > 0) {
          const profitPotential = (tp1 - entry) * units;
          section8.step3.profitPotential1 = profitPotential.toFixed(2);
          if (riskPerUnit > 0) {
            const totalRisk = riskPerUnit * units;
            const riskReward = profitPotential / totalRisk;
            section8.step3.riskRewardRatio = `1:${riskReward.toFixed(2)}`;
          } else {
            section8.step3.riskRewardRatio = 'N/A';
          }
        }
      }
      const closePrice = parseFloat(section8.step4.closePrice) || 0;
      const fees = parseFloat(section8.step4.fees) || 0;
      if (closePrice > 0 && entry > 0 && units > 0) {
        const financialResult = (closePrice - entry) * units - fees;
        section8.step4.financialResult = financialResult.toFixed(2);
        const cost = entry * units;
        if (cost > 0) {
          const roi = financialResult / cost * 100;
          section8.step4.roi = roi.toFixed(2);
        }
      }
      return newData;
    }, [data, calculatedData]);
    useEffect(() => {
      const recommendations = [];
      const s4 = displayData.section4;
      if (s4.maMeaning?.includes('שורי')) recommendations.push("המחיר מעל ממוצע נע 200, מצביע על מגמת עלייה ארוכת טווח.");
      if (s4.maMeaning?.includes('דובי')) recommendations.push("המחיר מתחת לממוצע נע 200, מצביע על מגמת ירידה ארוכת טווח.");
      if (s4.maAction?.includes('קנייה')) recommendations.push("המחיר מעל ממוצע נע 50, שקול הגדרות שוריות.");
      if (s4.maAction?.includes('מכירה')) recommendations.push("המחיר מתחת לממוצע נע 50, שקול הגדרות דוביות.");
      if (s4.rsi > 70) recommendations.push("RSI בקניית יתר (>70), היזהר מתיקון אפשרי.");
      if (s4.rsi < 30) recommendations.push("RSI במכירת יתר (<30), צפה להיפוך אפשרי.");
      setTacticalRecommendations(recommendations);
    }, [displayData.section4.maMeaning, displayData.section4.maAction, displayData.section4.rsi]);
    const riskData = useMemo(() => {
      const openTrades = tradeLog.filter(t => t.status === 'Open');
      const totalRiskExposure = openTrades.reduce((acc, trade) => {
        const financialRisk = parseFloat(trade.data.section8.step2.financialRisk) || 0;
        return acc + financialRisk;
      }, 0);
      const sectorConcentration = openTrades.reduce((acc, trade) => {
        const sector = trade.data.section2.sector || 'לא מסווג';
        const risk = parseFloat(trade.data.section8.step2.financialRisk) || 0;
        if (!acc[sector]) {
          acc[sector] = 0;
        }
        acc[sector] += risk;
        return acc;
      }, {});
      const sortedSectors = Object.entries(sectorConcentration).sort(([, a], [, b]) => b - a).reduce((r, [k, v]) => ({
        ...r,
        [k]: v
      }), {});
      return {
        totalRiskExposure,
        sectorConcentration: sortedSectors,
        openTradesCount: openTrades.length
      };
    }, [tradeLog]);
    useEffect(() => {
      const fetchApiKey = async () => {
        if (isAuthReady && db && userId) {
          const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
          const settingsDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/settings/alphaVantage`);
          const docSnap = await firebase.getDoc(settingsDocRef);
          if (docSnap.exists()) {
            setAlphaVantageKey(docSnap.data().key || 'U4464522W6V69P5G');
          }
        }
      };
      fetchApiKey();
    }, [isAuthReady, db, userId]);
    const handleTickerBlur = () => {
      const {
        tickerSymbol
      } = data.section2;
      const classification = findGicsClassification(tickerSymbol, gicsDatabase);
      if (classification.sector) {
        setData(prevData => ({
          ...prevData,
          section2: {
            ...prevData.section2,
            sector: classification.sector,
            industry: classification.industry
          }
        }));
      }
    };
    const handleInfoClick = paramKey => {
      const info = paramData[paramKey];
      if (info) {
        const content = /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "\u05D4\u05D2\u05D3\u05E8\u05D4:"), " ", info.definition), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "\u05E9\u05D9\u05DE\u05D5\u05E9:"), " ", info.usage), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "\u05D0\u05D9\u05DA \u05DC\u05DE\u05E6\u05D5\u05D0:"), " ", info.howTo));
        setModalInfo({
          title: info.fullName,
          content
        });
      }
    };
    const getRsiIndicator = () => {
      const rsi = displayData.section4.rsi;
      if (!rsi) return null;
      if (rsi > 70) return /*#__PURE__*/React.createElement(Indicator, {
        text: "\u05E7\u05E0\u05D9\u05D9\u05EA \u05D9\u05EA\u05E8",
        colorClass: "indicator-red",
        iconClass: "fa-arrow-trend-down"
      });
      if (rsi < 30) return /*#__PURE__*/React.createElement(Indicator, {
        text: "\u05DE\u05DB\u05D9\u05E8\u05EA \u05D9\u05EA\u05E8",
        colorClass: "indicator-green",
        iconClass: "fa-arrow-trend-up"
      });
      return /*#__PURE__*/React.createElement(Indicator, {
        text: "\u05E0\u05D9\u05D8\u05E8\u05DC\u05D9",
        colorClass: "indicator-yellow"
      });
    };
    const getRiskRewardIndicator = () => {
      const ratio = displayData.section8.step3.riskRewardRatio;
      if (!ratio || ratio === 'N/A') return null;
      const ratioValue = parseFloat(ratio.split(':')[1]);
      if (ratioValue >= 2) return /*#__PURE__*/React.createElement(Indicator, {
        text: "\u05DE\u05D5\u05E2\u05D3\u05E3",
        colorClass: "indicator-green"
      });
      if (ratioValue < 1) return /*#__PURE__*/React.createElement(Indicator, {
        text: "\u05DC\u05D0 \u05DE\u05D5\u05E2\u05D3\u05E3",
        colorClass: "indicator-red"
      });
      return /*#__PURE__*/React.createElement(Indicator, {
        text: "\u05E1\u05D1\u05D9\u05E8",
        colorClass: "indicator-yellow"
      });
    };
    const getMaMeaningIndicator = () => {
      const meaning = displayData.section4.maMeaning;
      if (!meaning) return null;
      if (meaning.includes('שורי')) return /*#__PURE__*/React.createElement(Indicator, {
        text: "\u05E9\u05D5\u05E8\u05D9",
        colorClass: "indicator-green"
      });
      if (meaning.includes('דובי')) return /*#__PURE__*/React.createElement(Indicator, {
        text: "\u05D3\u05D5\u05D1\u05D9",
        colorClass: "indicator-red"
      });
      return null;
    };
    return /*#__PURE__*/React.createElement("div", {
      className: "dashboard-container w-full max-w-7xl p-4 sm:p-8 md:p-10 relative"
    }, modalInfo && /*#__PURE__*/React.createElement(Modal, {
      title: modalInfo.title,
      content: modalInfo.content,
      onClose: () => setModalInfo(null)
    }), /*#__PURE__*/React.createElement(Header, null), /*#__PURE__*/React.createElement(Breadcrumb, null), /*#__PURE__*/React.createElement(Tabs, null, /*#__PURE__*/React.createElement(Tab, {
      label: "\u05DC\u05D5\u05D7 \u05DE\u05D7\u05D5\u05D5\u05E0\u05D9\u05DD",
      icon: "fa-tachometer-alt"
    }, /*#__PURE__*/React.createElement(KpiSection, {
      calculatedData: calculatedData
    }), /*#__PURE__*/React.createElement(AdvancedRiskModule, {
      riskData: riskData
    }), /*#__PURE__*/React.createElement(GlobalFilter, null), /*#__PURE__*/React.createElement(TradeLogManager, null), /*#__PURE__*/React.createElement(Section, {
      title: "\uD83D\uDCCA \u05EA\u05E6\u05D5\u05D2\u05D5\u05EA \u05D2\u05E8\u05E4\u05D9\u05D5\u05EA"
    }, /*#__PURE__*/React.createElement(TradeDistributionChart, null), /*#__PURE__*/React.createElement(PortfolioHistoryChart, null))), /*#__PURE__*/React.createElement(Tab, {
      label: "\u05E0\u05D9\u05EA\u05D5\u05D7 \u05E2\u05E1\u05E7\u05D4",
      icon: "fa-edit"
    }, /*#__PURE__*/React.createElement(Section, {
      title: "\u2705 \u05E9\u05DC\u05D1 1: \u05E1\u05D8\u05D8\u05D5\u05E1 \u05D7\u05E9\u05D1\u05D5\u05DF \u2013 \u05EA\u05D9\u05E7 \u05D4\u05D4\u05E9\u05E7\u05E2\u05D5\u05EA \u05E9\u05DC\u05D9"
    }, /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-wallet",
      title: "\u05E1\u05D8\u05D8\u05D5\u05E1 \u05D7\u05E9\u05D1\u05D5\u05DF"
    }, /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E2\u05E8\u05DA \u05EA\u05D9\u05E7 \u05D4\u05EA\u05D7\u05DC\u05EA\u05D9 (\u05E9\"\u05D7):"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section1.initialPortfolioValueILS,
      onChange: e => handleNestedChange('section1.initialPortfolioValueILS', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E9\u05E2\u05E8 \u05D3\u05D5\u05DC\u05E8 \u05D4\u05EA\u05D7\u05DC\u05EA\u05D9:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section1.initialUSDRate,
      onChange: e => handleNestedChange('section1.initialUSDRate', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E2\u05E8\u05DA \u05EA\u05D9\u05E7 \u05D4\u05EA\u05D7\u05DC\u05EA\u05D9 ($):"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section1.initialPortfolioValueUSD,
      readOnly: true,
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement("div", {
      className: "border-t border-gray-700 my-4"
    }), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E2\u05E8\u05DA \u05EA\u05D9\u05E7 \u05E0\u05D5\u05DB\u05D7\u05D9 (\u05E9\"\u05D7):"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section1.currentPortfolioValueILS,
      onChange: e => handleNestedChange('section1.currentPortfolioValueILS', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E9\u05E2\u05E8 \u05D3\u05D5\u05DC\u05E8 \u05E0\u05D5\u05DB\u05D7\u05D9:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section1.currentUSDRate,
      onChange: e => handleNestedChange('section1.currentUSDRate', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E2\u05E8\u05DA \u05EA\u05D9\u05E7 \u05E0\u05D5\u05DB\u05D7\u05D9 ($):"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section1.currentPortfolioValueUSD,
      readOnly: true,
      className: "w-full sm-w-auto"
    })), /*#__PURE__*/React.createElement("div", {
      className: "border-t border-gray-700 my-4"
    }), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05D9\u05EA\u05E8\u05D4 ($):"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section1.balanceUSD,
      onChange: e => handleNestedChange('section1.balanceUSD', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05D9\u05EA\u05E8\u05D4 (\u05E9\"\u05D7):"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section1.balanceILS,
      onChange: e => handleNestedChange('section1.balanceILS', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05DE\u05E1\u05D2\u05E8\u05EA \u05D0\u05E9\u05E8\u05D0\u05D9:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section1.creditLimit,
      onChange: e => handleNestedChange('section1.creditLimit', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05DB\u05D5\u05D7 \u05E7\u05E0\u05D9\u05D9\u05D4 ($):"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section1.buyingPowerUSD,
      onChange: e => handleNestedChange('section1.buyingPowerUSD', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E8\u05D5\u05D5\u05D7/\u05D4\u05E4\u05E1\u05D3 \u05D9\u05D5\u05DE\u05D9 ($):"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section1.dailyPLUSD,
      onChange: e => handleNestedChange('section1.dailyPLUSD', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E8\u05D5\u05D5\u05D7/\u05D4\u05E4\u05E1\u05D3 \u05DB\u05D5\u05DC\u05DC ($):"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section1.totalPLUSD,
      readOnly: true,
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05D0\u05D7\u05D5\u05D6 \u05E8\u05D5\u05D5\u05D7/\u05D4\u05E4\u05E1\u05D3:",
      indicator: /*#__PURE__*/React.createElement("span", {
        className: parseFloat(displayData.section1.totalPLPercentage) >= 0 ? 'text-green-400' : 'text-red-400'
      }, displayData.section1.totalPLPercentage, "%")
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section1.totalPLPercentage,
      readOnly: true,
      className: "w-full sm:w-auto"
    })))), /*#__PURE__*/React.createElement(Section, {
      title: "\u2705 \u05E9\u05DC\u05D1 2: \u05E0\u05D9\u05EA\u05D5\u05D7 \u05DE\u05E0\u05D9\u05D4 \u2013 \u05E4\u05E8\u05D5\u05E4\u05D9\u05DC \u05D7\u05D1\u05E8\u05D4"
    }, /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-building",
      title: "\u05E4\u05E8\u05D8\u05D9 \u05D4\u05DE\u05E0\u05D9\u05D4"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex gap-2 mb-4"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: () => setDataEntryMode('manual'),
      className: `w-full py-2 text-sm rounded-md ${dataEntryMode === 'manual' ? 'bg-indigo-600 text-white' : 'bg-gray-600'}`
    }, "\u05DE\u05E6\u05D1 \u05D9\u05D3\u05E0\u05D9"), /*#__PURE__*/React.createElement("button", {
      onClick: () => setDataEntryMode('auto'),
      className: `w-full py-2 text-sm rounded-md ${dataEntryMode === 'auto' ? 'bg-indigo-600 text-white' : 'bg-gray-600'}`
    }, "\u05DE\u05E6\u05D1 \u05D0\u05D5\u05D8\u05D5\u05DE\u05D8\u05D9 (API)")), /*#__PURE__*/React.createElement(AutocompleteInput, {
      label: "\u05E9\u05DD \u05D4\u05DE\u05E0\u05D9\u05D4:",
      value: data.section2.stockName,
      onValueChange: val => handleNestedChange('section2.stockName', val),
      filterKey: "Name",
      onInfoClick: handleInfoClick,
      paramKey: "Stock Name"
    }), /*#__PURE__*/React.createElement(AutocompleteInput, {
      label: "\u05E1\u05D9\u05DE\u05D5\u05DC:",
      value: data.section2.tickerSymbol,
      onValueChange: val => handleNestedChange('section2.tickerSymbol', val),
      filterKey: "Ticker",
      onBlur: handleTickerBlur,
      onInfoClick: handleInfoClick,
      paramKey: "Ticker"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: () => fetchApiData(data.section2.tickerSymbol, alphaVantageKey, setData, setApiStatus, setIsLiveDataSet, gicsDatabase),
      disabled: !data.section2.tickerSymbol || apiStatus.loading,
      className: "mr-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-1 px-3 rounded-lg shadow-md transition-all duration-200 disabled:opacity-50"
    }, apiStatus.loading ? /*#__PURE__*/React.createElement("i", {
      className: "fas fa-spinner fa-spin"
    }) : "אחזר")), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E1\u05E7\u05D8\u05D5\u05E8:",
      onInfoClick: handleInfoClick,
      paramKey: "Sector"
    }, /*#__PURE__*/React.createElement("select", {
      value: data.section2.sector,
      onChange: e => handleNestedChange('section2.sector', e.target.value),
      className: "w-full sm:w-auto"
    }, /*#__PURE__*/React.createElement("option", {
      value: ""
    }, "\u05D1\u05D7\u05E8 \u05E1\u05E7\u05D8\u05D5\u05E8"), [...new Set(gicsDatabase.map(item => item.Sector))].map(s => /*#__PURE__*/React.createElement("option", {
      key: s,
      value: s
    }, s)))), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05EA\u05E2\u05E9\u05D9\u05D9\u05D4:",
      onInfoClick: handleInfoClick,
      paramKey: "Industry"
    }, /*#__PURE__*/React.createElement("select", {
      value: data.section2.industry,
      onChange: e => handleNestedChange('section2.industry', e.target.value),
      className: "w-full sm:w-auto"
    }, /*#__PURE__*/React.createElement("option", {
      value: ""
    }, "\u05D1\u05D7\u05E8 \u05EA\u05E2\u05E9\u05D9\u05D9\u05D4"), [...new Set(gicsDatabase.filter(item => item.Sector === data.section2.sector).map(item => item.Industry))].map((industry, index) => /*#__PURE__*/React.createElement("option", {
      key: `${industry}-${index}`,
      value: industry
    }, industry)))))), /*#__PURE__*/React.createElement(Section, {
      title: "\u2705 \u05E9\u05DC\u05D1 3: \u05EA\u05E0\u05D5\u05E2\u05EA \u05E9\u05D5\u05E7 \u2013 \u05E0\u05EA\u05D5\u05E0\u05D9 \u05E9\u05D5\u05E7"
    }, /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-chart-line",
      title: "\u05E0\u05EA\u05D5\u05E0\u05D9 \u05E9\u05D5\u05E7"
    }, /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05DE\u05D7\u05D9\u05E8 \u05E0\u05D5\u05DB\u05D7\u05D9:",
      onInfoClick: handleInfoClick,
      paramKey: "CurrentPrice"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      readOnly: isLiveDataSet,
      value: data.section3.currentPrice,
      onChange: e => handleNestedChange('section3.currentPrice', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05D8\u05D5\u05D5\u05D7 \u05D9\u05D5\u05DE\u05D9:",
      onInfoClick: handleInfoClick,
      paramKey: "DailyRange"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      readOnly: isLiveDataSet,
      value: data.section3.dailyRange,
      onChange: e => handleNestedChange('section3.dailyRange', e.target.value),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05D8\u05D5\u05D5\u05D7 \u05D9\u05D5\u05DD \u05E7\u05D5\u05D3\u05DD:",
      onInfoClick: handleInfoClick,
      paramKey: "PrevDayRange"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      readOnly: isLiveDataSet,
      value: data.section3.prevDayRange,
      onChange: e => handleNestedChange('section3.prevDayRange', e.target.value),
      className: "w-full sm:w-auto"
    })))), /*#__PURE__*/React.createElement(Section, {
      title: "\u2705 \u05E9\u05DC\u05D1 4: \u05EA\u05D5\u05DB\u05E0\u05D9\u05EA \u05E0\u05D9\u05D4\u05D5\u05DC \u05E2\u05E1\u05E7\u05D4 \u05D1-5 \u05E9\u05DC\u05D1\u05D9\u05DD"
    }, /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-tasks",
      title: "\u05E9\u05DC\u05D1 1: \u05D4\u05D2\u05D3\u05E8\u05EA \u05E4\u05E8\u05D8\u05D9 \u05D4\u05E2\u05E1\u05E7\u05D4"
    }, /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E1\u05D8\u05D8\u05D5\u05E1:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: data.section8.step1.status,
      onChange: e => handleNestedChange('section8.step1.status', e.target.value),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05EA\u05D0\u05E8\u05D9\u05DA \u05E8\u05DB\u05D9\u05E9\u05D4:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "date",
      value: data.section8.step1.purchaseDate,
      onChange: e => handleNestedChange('section8.step1.purchaseDate', e.target.value),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05DE\u05D7\u05D9\u05E8 \u05DB\u05E0\u05D9\u05E1\u05D4:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section8.step1.entryPrice,
      onChange: e => handleNestedChange('section8.step1.entryPrice', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05D9\u05D7\u05D9\u05D3\u05D5\u05EA:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section8.step1.units,
      onChange: e => handleNestedChange('section8.step1.units', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E1\u05D8\u05D5\u05E4 \u05DC\u05D5\u05E1:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section8.step1.stopLoss,
      onChange: e => handleNestedChange('section8.step1.stopLoss', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    }))), /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-shield-alt",
      title: "\u05E9\u05DC\u05D1 2: \u05EA\u05D5\u05DB\u05E0\u05D9\u05EA \u05E0\u05D9\u05D4\u05D5\u05DC \u05E1\u05D9\u05DB\u05D5\u05E0\u05D9\u05DD"
    }, /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E1\u05D9\u05DB\u05D5\u05DF \u05E4\u05D5\u05D8\u05E0\u05E6\u05D9\u05D0\u05DC\u05D9 \u05DC\u05D9\u05D7\u05D9\u05D3\u05D4:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section8.step2.potentialRiskUnit,
      readOnly: true,
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E1\u05D9\u05DB\u05D5\u05DF \u05E4\u05D9\u05E0\u05E0\u05E1\u05D9:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section8.step2.financialRisk,
      readOnly: true,
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E2\u05DC\u05D5\u05EA \u05DB\u05D5\u05DC\u05DC\u05EA:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section8.step2.totalCost,
      readOnly: true,
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05D9\u05EA\u05E8\u05D4 \u05E0\u05D5\u05EA\u05E8\u05EA:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section8.step2.remainingBalance,
      readOnly: true,
      className: "w-full sm:w-auto"
    }))), /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-bullseye",
      title: "\u05E9\u05DC\u05D1 3: \u05D4\u05D2\u05D3\u05E8\u05EA \u05D9\u05E2\u05D3\u05D9\u05DD \u05D5\u05EA\u05D7\u05D6\u05D9\u05EA"
    }, /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05D9\u05E2\u05D3 \u05E8\u05D5\u05D5\u05D7 1:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section8.step3.tp1,
      onChange: e => handleNestedChange('section8.step3.tp1', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05D9\u05E2\u05D3 \u05E8\u05D5\u05D5\u05D7 2:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section8.step3.tp2,
      onChange: e => handleNestedChange('section8.step3.tp2', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E4\u05D5\u05D8\u05E0\u05E6\u05D9\u05D0\u05DC \u05E8\u05D5\u05D5\u05D7 (\u05D9\u05E2\u05D3 1):"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section8.step3.profitPotential1,
      readOnly: true,
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05D9\u05D7\u05E1 \u05E1\u05D9\u05DB\u05D5\u05DF/\u05E1\u05D9\u05DB\u05D5\u05D9:",
      onInfoClick: handleInfoClick,
      paramKey: "RiskRewardRatio",
      indicator: getRiskRewardIndicator()
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section8.step3.riskRewardRatio,
      readOnly: true,
      className: "w-full sm:w-auto"
    }))), /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-check-double",
      title: "\u05E9\u05DC\u05D1 4: \u05E1\u05D2\u05D9\u05E8\u05D4 \u05D5\u05E0\u05D9\u05EA\u05D5\u05D7 \u05D1\u05D9\u05E6\u05D5\u05E2\u05D9\u05DD"
    }, /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05EA\u05D0\u05E8\u05D9\u05DA \u05E1\u05D2\u05D9\u05E8\u05D4:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "date",
      value: data.section8.step4.closeDate,
      onChange: e => handleNestedChange('section8.step4.closeDate', e.target.value),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05DE\u05D7\u05D9\u05E8 \u05E1\u05D2\u05D9\u05E8\u05D4:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section8.step4.closePrice,
      onChange: e => handleNestedChange('section8.step4.closePrice', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05E2\u05DE\u05DC\u05D5\u05EA:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "number",
      value: data.section8.step4.fees,
      onChange: e => handleNestedChange('section8.step4.fees', parseFloat(e.target.value)),
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05EA\u05D5\u05E6\u05D0\u05D4 \u05E4\u05D9\u05E0\u05E0\u05E1\u05D9\u05EA:"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section8.step4.financialResult,
      readOnly: true,
      className: "w-full sm:w-auto"
    })), /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05EA\u05E9\u05D5\u05D0\u05D4 (%):"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: displayData.section8.step4.roi,
      readOnly: true,
      className: "w-full sm:w-auto"
    }))), /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-book-open",
      title: "\u05E9\u05DC\u05D1 5: \u05EA\u05D9\u05E2\u05D5\u05D3 \u05D5\u05DC\u05DE\u05D9\u05D3\u05D4"
    }, /*#__PURE__*/React.createElement(InfoRow, {
      label: "\u05DC\u05E7\u05D7\u05D9\u05DD \u05D5\u05EA\u05D5\u05D1\u05E0\u05D5\u05EA:"
    }, /*#__PURE__*/React.createElement("textarea", {
      value: data.section8.step5.lessonsLearned,
      onChange: e => handleNestedChange('section8.step5.lessonsLearned', e.target.value),
      className: "w-full"
    }))))), /*#__PURE__*/React.createElement(Tab, {
      label: "\u05DE\u05E8\u05DB\u05D6 AI",
      icon: "fa-robot"
    }, /*#__PURE__*/React.createElement(AiAnalysis, null), /*#__PURE__*/React.createElement(AiRiskAdvisor, {
      riskData: riskData
    }), /*#__PURE__*/React.createElement(Section, {
      title: "\uD83D\uDCA1 \u05D4\u05DE\u05DC\u05E6\u05D5\u05EA AI \u05D8\u05E7\u05D8\u05D9\u05D5\u05EA"
    }, /*#__PURE__*/React.createElement(InfoSectionCard, {
      icon: "fa-lightbulb"
    }, apiStatus.loading && /*#__PURE__*/React.createElement("p", {
      className: "text-gray-400"
    }, "\u05D8\u05D5\u05E2\u05DF \u05D4\u05DE\u05DC\u05E6\u05D5\u05EA..."), apiStatus.error && /*#__PURE__*/React.createElement("p", {
      className: "text-red-400"
    }, apiStatus.error), !apiStatus.loading && !apiStatus.error && (tacticalRecommendations.length > 0 ? /*#__PURE__*/React.createElement("ul", {
      className: "list-disc pr-5 space-y-2 text-gray-300"
    }, tacticalRecommendations.map((rec, index) => /*#__PURE__*/React.createElement("li", {
      key: index
    }, rec))) : /*#__PURE__*/React.createElement("p", {
      className: "text-gray-400"
    }, "\u05D4\u05D6\u05DF \u05E0\u05EA\u05D5\u05E0\u05D9\u05DD \u05E0\u05D5\u05E1\u05E4\u05D9\u05DD \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E4\u05D9\u05E7 \u05D4\u05DE\u05DC\u05E6\u05D5\u05EA \u05D8\u05E7\u05D8\u05D9\u05D5\u05EA."))))), /*#__PURE__*/React.createElement(Tab, {
      label: "\u05DE\u05E2\u05E8\u05DB\u05EA \u05D5\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA",
      icon: "fa-cogs"
    }, /*#__PURE__*/React.createElement(ControlPanel, null), /*#__PURE__*/React.createElement(BITDashboard, null), /*#__PURE__*/React.createElement(VersionManagementCenter, null), /*#__PURE__*/React.createElement(DatabaseManager, null))), /*#__PURE__*/React.createElement("footer", {
      className: "w-full mt-10 pt-4 border-t border-gray-700 text-center text-xs text-gray-500"
    }, /*#__PURE__*/React.createElement("p", null, "Praxis AI Dashboard \xA9 2025. \u05DB\u05DC \u05D4\u05D6\u05DB\u05D5\u05D9\u05D5\u05EA \u05E9\u05DE\u05D5\u05E8\u05D5\u05EA."), /*#__PURE__*/React.createElement("p", {
      className: "mt-2"
    }, "\u05DB\u05EA\u05D1 \u05D5\u05D9\u05EA\u05D5\u05E8: \u05EA\u05D5\u05DB\u05E0\u05D4 \u05D6\u05D5 \u05DE\u05E1\u05D5\u05E4\u05E7\u05EA \"\u05DB\u05E4\u05D9 \u05E9\u05D4\u05D9\u05D0\" \u05DC\u05DC\u05D0 \u05DB\u05DC \u05D0\u05D7\u05E8\u05D9\u05D5\u05EA. \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05E0\u05D5\u05E9\u05D0 \u05D1\u05DB\u05DC \u05D4\u05E1\u05D9\u05DB\u05D5\u05E0\u05D9\u05DD \u05D4\u05E7\u05E9\u05D5\u05E8\u05D9\u05DD \u05DC\u05E9\u05D9\u05DE\u05D5\u05E9 \u05D1\u05D4. \u05D1\u05E9\u05D5\u05DD \u05DE\u05E7\u05E8\u05D4 \u05D4\u05D9\u05D5\u05E6\u05E8 \u05DC\u05D0 \u05D9\u05D4\u05D9\u05D4 \u05D0\u05D7\u05E8\u05D0\u05D9 \u05DC\u05DB\u05DC \u05E0\u05D6\u05E7.")));
  };

  //======================================================================
  //  8. RENDER THE APP
  //======================================================================

  const root = createRoot(document.getElementById('root'));
  root.render(/*#__PURE__*/React.createElement(DataProvider, null, /*#__PURE__*/React.createElement(FirebaseProvider, null, /*#__PURE__*/React.createElement(App, null))));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsIlJlYWN0RE9NIiwiZmlyZWJhc2UiLCJDaGFydCIsImh0bWwyY2FudmFzIiwianNwZGYiLCJ3aW5kb3ciLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VNZW1vIiwiY3JlYXRlUm9vdCIsIkFQUF9WRVJTSU9OIiwiaW5pdGlhbEdpY3NEYXRhIiwiSlNPTiIsInBhcnNlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRleHRDb250ZW50IiwicGFyYW1EYXRhRWxlbWVudCIsInBhcmFtQ1NWIiwicGFyYW1EYXRhIiwic3BsaXQiLCJzbGljZSIsImZpbHRlciIsImxpbmUiLCJ0cmltIiwicmVkdWNlIiwiYWNjIiwidmFsdWVzIiwibWF0Y2giLCJtYXAiLCJ2IiwicmVwbGFjZSIsImtleSIsImZ1bGxOYW1lIiwiZGVmaW5pdGlvbiIsInVzYWdlIiwiaG93VG8iLCJnZW5lcmF0ZU1vY2tQb3J0Zm9saW9EYXRhIiwiZGF0YSIsInZhbHVlIiwiaSIsImRhdGUiLCJEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJNYXRoIiwicmFuZG9tIiwicHVzaCIsInRpbWUiLCJ0b0lTT1N0cmluZyIsIkRhdGFDb250ZXh0IiwiRmlyZWJhc2VDb250ZXh0IiwidXNlRGF0YSIsInVzZUZpcmViYXNlIiwiRGF0YVByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjdXJyZW50RGF0ZVRpbWUiLCJzZXRDdXJyZW50RGF0ZVRpbWUiLCJjaGFuZ2VEZXNjcmlwdGlvbiIsInNldENoYW5nZURlc2NyaXB0aW9uIiwiaXNEYXRhRGlydHkiLCJzZXRJc0RhdGFEaXJ0eSIsImFwaVN0YXR1cyIsInNldEFwaVN0YXR1cyIsImxvYWRpbmciLCJlcnJvciIsInRyYWRlTG9nIiwic2V0VHJhZGVMb2ciLCJjdXJyZW50VHJhZGVJZCIsInNldEN1cnJlbnRUcmFkZUlkIiwiZ2xvYmFsRmlsdGVyIiwic2V0R2xvYmFsRmlsdGVyIiwiZ2xvYmFsU2VhcmNoUXVlcnkiLCJzZXRHbG9iYWxTZWFyY2hRdWVyeSIsImdpY3NEYXRhYmFzZSIsInNldEdpY3NEYXRhYmFzZSIsImlzTGl2ZURhdGFTZXQiLCJzZXRJc0xpdmVEYXRhU2V0IiwiZGF0YUVudHJ5TW9kZSIsInNldERhdGFFbnRyeU1vZGUiLCJpbml0aWFsRGF0YSIsInNlY3Rpb24xIiwiaW5pdGlhbFBvcnRmb2xpb1ZhbHVlSUxTIiwiaW5pdGlhbFVTRFJhdGUiLCJpbml0aWFsUG9ydGZvbGlvVmFsdWVVU0QiLCJjdXJyZW50UG9ydGZvbGlvVmFsdWVJTFMiLCJjdXJyZW50VVNEUmF0ZSIsImN1cnJlbnRQb3J0Zm9saW9WYWx1ZVVTRCIsImJhbGFuY2VVU0QiLCJiYWxhbmNlSUxTIiwiY3JlZGl0TGltaXQiLCJidXlpbmdQb3dlclVTRCIsImRhaWx5UExVU0QiLCJ0b3RhbFBMVVNEIiwidG90YWxQTFBlcmNlbnRhZ2UiLCJzZWN0aW9uMiIsInN0b2NrTmFtZSIsInRpY2tlclN5bWJvbCIsInNlY3RvciIsImluZHVzdHJ5IiwiZXhjaGFuZ2UiLCJzZWN1cml0eVR5cGUiLCJtYXJrZXRDYXAiLCJzZWN0aW9uMyIsImN1cnJlbnRQcmljZSIsImRhaWx5UmFuZ2UiLCJwcmV2RGF5UmFuZ2UiLCJjdXJyZW50Vm9sdW1lIiwiYXZnVm9sdW1lIiwidW51c3VhbFZvbHVtZSIsInNlY3Rpb240Iiwic3VwcG9ydExldmVscyIsInJlc2lzdGFuY2VMZXZlbHMiLCJtYTIwIiwibWE1MCIsIm1hMTAwIiwibWExNTAiLCJtYTIwMCIsIm1hTWVhbmluZyIsIm1hQWN0aW9uIiwibWFjZCIsIm1hY2RTaWduYWwiLCJtYWNkSGlzdG9ncmFtIiwibWFjZE1lYW5pbmciLCJtYWNkQWN0aW9uIiwicnNpIiwiYXRyIiwiYXRyUGVyY2VudCIsInZvbGF0aWxpdHlJbmRpY2F0b3IiLCJ2d2FwIiwic2VjdGlvbjUiLCJkYWlseVBpdm90IiwicHJpY2VWc1Bpdm90IiwicGl2b3RBY3Rpb24iLCJmaWIyMzYiLCJmaWIzODIiLCJmaWJHb2xkZW5Qb2NrZXQiLCJmaWI3ODYiLCJwcmljZUFjdGlvbiIsInNlY3Rpb242IiwicmV2ZW51ZSIsImVwcyIsInBlUmF0aW8iLCJwYlJhdGlvIiwiZ3Jvd3RoIiwiZGVidCIsImRpdmlkZW5kIiwiYW5hbHlzdEZvcmVjYXN0cyIsInNlY3Rpb243IiwiaW5zdGl0dXRpb25hbFNlbnRpbWVudCIsInNob3J0SW50ZXJlc3QiLCJtYXRlcmlhbE5ld3MiLCJtYXJrZXRSaXNrIiwiZXh0ZXJuYWxSaXNrcyIsInN1Y2Nlc3NDaGFuY2UiLCJyaXNrTGV2ZWwiLCJzZWN0aW9uOCIsInN0ZXAxIiwiZGV0YWlscyIsInN0YXR1cyIsInB1cmNoYXNlRGF0ZSIsInRhcmdldERhdGUiLCJlbnRyeVByaWNlIiwic3RvcExvc3MiLCJ0cmFpbGluZ1N0b3AiLCJ1bml0cyIsInN0ZXAyIiwicG90ZW50aWFsUmlza1VuaXQiLCJmaW5hbmNpYWxSaXNrIiwic2hhcmVzVG9QdXJjaGFzZSIsInRvdGFsQ29zdCIsInJlbWFpbmluZ0JhbGFuY2UiLCJzdGVwMyIsInRwMSIsInRwMiIsInRwMyIsInRwNCIsInByb2ZpdFBvdGVudGlhbDEiLCJyaXNrUmV3YXJkUmF0aW8iLCJmb3JlY2FzdCIsInN0ZXA0IiwiY2xvc2VEYXRlIiwiY2xvc2VQcmljZSIsImZlZXMiLCJmaW5hbmNpYWxSZXN1bHQiLCJyb2kiLCJzdGVwNSIsIm5ld3MiLCJzZW50aW1lbnQiLCJ2b2xhdGlsaXR5Iiwibm90ZXMiLCJhbGVydHMiLCJjaGFydFNuYXBzaG90cyIsImZvbGxvd2VkUGxhbiIsImxlc3NvbnNMZWFybmVkIiwicG9ydGZvbGlvSGlzdG9yeSIsInNldERhdGEiLCJ1cGRhdGVEYXRlVGltZSIsIm5vdyIsIm9wdGlvbnMiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwiaG91cjEyIiwidG9Mb2NhbGVTdHJpbmciLCJpbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiaGFuZGxlTmVzdGVkQ2hhbmdlIiwicGF0aCIsInByZXZEYXRhIiwibmV3RGF0YSIsInN0cmluZ2lmeSIsImN1cnJlbnQiLCJrZXlzIiwibGVuZ3RoIiwicG9wdWxhdGVEYXNoYm9hcmREYXRhIiwiaW1wb3J0ZWREYXRhIiwibWFya0FzRGlydHkiLCJsb2FkVHJhZGUiLCJ0cmFkZURhdGEiLCJpZCIsIm5ld1RyYWRlIiwiY3JlYXRlRWxlbWVudCIsIlByb3ZpZGVyIiwiRmlyZWJhc2VQcm92aWRlciIsImRiIiwic2V0RGIiLCJ1c2VySWQiLCJzZXRVc2VySWQiLCJpc0F1dGhSZWFkeSIsInNldElzQXV0aFJlYWR5IiwiaW5pdEZpcmViYXNlIiwiZmlyZWJhc2VDb25maWciLCJfX2ZpcmViYXNlX2NvbmZpZyIsImFwcCIsImluaXRpYWxpemVBcHAiLCJhdXRoSW5zdGFuY2UiLCJnZXRBdXRoIiwiZGJJbnN0YW5jZSIsImdldEZpcmVzdG9yZSIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsInVzZXIiLCJ1aWQiLCJfX2luaXRpYWxfYXV0aF90b2tlbiIsInNpZ25JbldpdGhDdXN0b21Ub2tlbiIsInNpZ25JbkFub255bW91c2x5IiwiY29uc29sZSIsImFwcElkIiwiX19hcHBfaWQiLCJ0cmFkZXNDb2xsZWN0aW9uUmVmIiwiY29sbGVjdGlvbiIsInVuc3Vic2NyaWJlVHJhZGVzIiwib25TbmFwc2hvdCIsInF1ZXJ5U25hcHNob3QiLCJ0cmFkZXMiLCJkb2NzIiwiZG9jIiwic2F2ZU9yVXBkYXRlVHJhZGUiLCJhbGVydCIsInRpY2tlciIsImxhc3RVcGRhdGVkIiwidHJhZGVEb2NSZWYiLCJjdXJyZW50RG9jIiwiZ2V0RG9jIiwiZXhpc3RzIiwidmVyc2lvbnNDb2xsZWN0aW9uUmVmIiwiYWRkRG9jIiwidXBkYXRlRG9jIiwiZG9jUmVmIiwiZSIsIm1lc3NhZ2UiLCJyZXN0b3JlVmVyc2lvbiIsInRyYWRlIiwiY29uZmlybSIsImVtZXJnZW5jeVJlc3RvcmUiLCJzb3J0ZWRUcmFkZXMiLCJzb3J0IiwiYSIsImIiLCJsYXRlc3RUcmFkZSIsImdlbmVyYXRlU3RhbmRhcmRGaWxlTmFtZSIsImRlc2NyaXB0aW9uIiwiZXh0ZW5zaW9uIiwiZ2V0RnVsbFllYXIiLCJTdHJpbmciLCJnZXRNb250aCIsInBhZFN0YXJ0IiwiaG91cnMiLCJnZXRIb3VycyIsIm1pbnV0ZXMiLCJnZXRNaW51dGVzIiwic2Vjb25kcyIsImdldFNlY29uZHMiLCJkYXRlU3RhbXAiLCJmaW5hbERlc2NyaXB0aW9uIiwiZXhwb3J0RGF0YUFzSnNvbiIsImRhdGFUb0V4cG9ydCIsIm1haW5EYXRhIiwianNvblN0cmluZyIsImZpbGVOYW1lIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwibGluayIsImhyZWYiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJpbXBvcnREYXRhRnJvbUpzb24iLCJldmVudCIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJyZWFkQXNUZXh0IiwiZXhwb3J0U291cmNlQ29kZSIsImh0bWxDb250ZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwib3V0ZXJIVE1MIiwiZXhwb3J0QXNQbmciLCJzZWN0aW9uc1RvRXhwb3J0IiwibW9kYWxSZWYiLCJkYXNoYm9hcmRFbCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImRpc3BsYXkiLCJjYW52YXMiLCJzY2FsZSIsInVzZUNPUlMiLCJ0b0RhdGFVUkwiLCJleHBvcnRBc1BkZiIsImFsbFNlY3Rpb25zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJzZWN0aW9uIiwidGl0bGUiLCJnZXRBdHRyaWJ1dGUiLCJpbmNsdWRlcyIsImltZ0RhdGEiLCJqc1BERiIsInBkZiIsImltZ1Byb3BzIiwiZ2V0SW1hZ2VQcm9wZXJ0aWVzIiwicGRmV2lkdGgiLCJpbnRlcm5hbCIsInBhZ2VTaXplIiwiZ2V0V2lkdGgiLCJwZGZIZWlnaHQiLCJoZWlnaHQiLCJ3aWR0aCIsImFkZEltYWdlIiwic2F2ZSIsIlRhYnMiLCJhY3RpdmVUYWIiLCJzZXRBY3RpdmVUYWIiLCJwcm9wcyIsImxhYmVsIiwiaGFuZGxlQ2xpY2siLCJuZXdBY3RpdmVUYWIiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzTmFtZSIsImNoaWxkIiwib25DbGljayIsImljb24iLCJUYWIiLCJJbmRpY2F0b3IiLCJ0ZXh0IiwiY29sb3JDbGFzcyIsImljb25DbGFzcyIsIkluZm9Sb3ciLCJwYXJhbUtleSIsIm9uSW5mb0NsaWNrIiwiaW5kaWNhdG9yIiwiU2VjdGlvbiIsIkluZm9TZWN0aW9uQ2FyZCIsIkhlYWRlciIsIkZyYWdtZW50IiwiQnJlYWRjcnVtYiIsIkdsb2JhbEZpbHRlciIsInBsYWNlaG9sZGVyIiwib25DaGFuZ2UiLCJLcGlDYXJkIiwiY2hhbmdlIiwiaXNQb3NpdGl2ZSIsIktwaVNlY3Rpb24iLCJjYWxjdWxhdGVkRGF0YSIsInBhcnNlRmxvYXQiLCJ1bmRlZmluZWQiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJ0b0ZpeGVkIiwiQ29udHJvbFBhbmVsIiwiaXNCYWNrdXBLaXRPcGVuIiwic2V0SXNCYWNrdXBLaXRPcGVuIiwiaXNFeHBvcnRNb2RhbE9wZW4iLCJzZXRJc0V4cG9ydE1vZGFsT3BlbiIsImlzVHJhaW5pbmdDZW50ZXJPcGVuIiwic2V0SXNUcmFpbmluZ0NlbnRlck9wZW4iLCJpc0tub3dsZWRnZUJhc2VPcGVuIiwic2V0SXNLbm93bGVkZ2VCYXNlT3BlbiIsInJlc3RvcmVDb2RlIiwic2V0UmVzdG9yZUNvZGUiLCJpbXBvcnRDb2RlIiwic2V0SW1wb3J0Q29kZSIsImdpdGh1YlRva2VuIiwic2V0R2l0aHViVG9rZW4iLCJhbHBoYVZhbnRhZ2VLZXkiLCJzZXRBbHBoYVZhbnRhZ2VLZXkiLCJnaXN0VXJsIiwic2V0R2lzdFVybCIsImlzR2lzdExvYWRpbmciLCJzZXRJc0dpc3RMb2FkaW5nIiwiaW1wb3J0RmlsZVJlZiIsImZldGNoU2V0dGluZ3MiLCJnaXRodWJEb2NSZWYiLCJhdkRvY1JlZiIsImdpdGh1YlNuYXAiLCJhdlNuYXAiLCJQcm9taXNlIiwiYWxsIiwidG9rZW4iLCJoYW5kbGVUb2tlbkNoYW5nZSIsIm5ld1Rva2VuIiwic2V0dGluZ3NEb2NSZWYiLCJzZXREb2MiLCJtZXJnZSIsImhhbmRsZUFwaUtleUNoYW5nZSIsIm5ld0tleSIsImhhbmRsZVJlZnJlc2hEYXRhIiwiZmV0Y2hBcGlEYXRhIiwiZ2VuZXJhdGVSZXN0b3JlQ29kZSIsImJhc2U2NENvZGUiLCJidG9hIiwiaW1wb3J0RnJvbUNvZGUiLCJhdG9iIiwiY29weVRvQ2xpcGJvYXJkIiwidGV4dGFyZWEiLCJzZWxlY3QiLCJleGVjQ29tbWFuZCIsImJhY2t1cFRvR2lzdCIsImNvbnRlbnQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInB1YmxpYyIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsIkVycm9yIiwiZ2lzdERhdGEiLCJodG1sX3VybCIsIkJhY2t1cEtpdE1vZGFsIiwib25DbG9zZSIsIkV4cG9ydE1vZGFsIiwiQWlUcmFpbmluZ0NlbnRlck1vZGFsIiwiS25vd2xlZGdlQmFzZU1vZGFsIiwiZGlzYWJsZWQiLCJyZWYiLCJhY2NlcHQiLCJodG1sRm9yIiwicmVsIiwiQklURGFzaGJvYXJkIiwiYXBwQ2hhbmdlTG9nIiwidmVyc2lvbiIsImxhdGVzdFZlcnNpb24iLCJjb2xvciIsIlZlcnNpb25NYW5hZ2VtZW50Q2VudGVyIiwibWF4SGVpZ2h0IiwibG9nIiwiVHJhZGVMb2dNYW5hZ2VyIiwic29ydENvbmZpZyIsInNldFNvcnRDb25maWciLCJkaXJlY3Rpb24iLCJkYXRlUmFuZ2UiLCJzZXREYXRlUmFuZ2UiLCJzdGFydCIsImVuZCIsInNvcnRlZEFuZEZpbHRlcmVkVHJhZGVzIiwiZmlsdGVyZWQiLCJzdGF0dXNJbkhlYnJldyIsInN0YXR1c01hdGNoIiwic2VhcmNoTWF0Y2giLCJ0b0xvd2VyQ2FzZSIsImVuZERhdGUiLCJzZXRIb3VycyIsImFWYWx1ZSIsImJWYWx1ZSIsInJlcXVlc3RTb3J0Iiwic3VtbWFyeSIsImNsb3NlZFRyYWRlcyIsInQiLCJ0b3RhbFBubCIsIndpbm5pbmdUcmFkZXMiLCJ3aW5SYXRlIiwidG90YWxUcmFkZXMiLCJsb3NpbmdUcmFkZXMiLCJwbmwiLCJBZHZhbmNlZFJpc2tNb2R1bGUiLCJyaXNrRGF0YSIsInRvdGFsUmlza0V4cG9zdXJlIiwib3BlblRyYWRlc0NvdW50IiwiT2JqZWN0Iiwic2VjdG9yQ29uY2VudHJhdGlvbiIsImVudHJpZXMiLCJyaXNrIiwiVHJhZGVEaXN0cmlidXRpb25DaGFydCIsImNoYXJ0UmVmIiwiY3R4IiwiZ2V0Q29udGV4dCIsInByb2ZpdFRyYWRlcyIsImxvc3NUcmFkZXMiLCJvcGVuVHJhZGVzIiwiY2hhcnQiLCJkZXN0cm95IiwibGFiZWxzIiwiZGF0YXNldHMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJDb2xvciIsImJvcmRlcldpZHRoIiwicmVzcG9uc2l2ZSIsInBsdWdpbnMiLCJsZWdlbmQiLCJwb3NpdGlvbiIsImZvbnQiLCJmYW1pbHkiLCJQb3J0Zm9saW9IaXN0b3J5Q2hhcnQiLCJ0aW1lUmFuZ2UiLCJzZXRUaW1lUmFuZ2UiLCJmaWx0ZXJlZERhdGEiLCJwYXJzaW5nIiwieEF4aXNLZXkiLCJ5QXhpc0tleSIsImZpbGwiLCJ0ZW5zaW9uIiwicG9pbnRSYWRpdXMiLCJzY2FsZXMiLCJ4IiwidW5pdCIsInRpY2tzIiwiZ3JpZCIsInkiLCJjYWxsYmFjayIsInRvb2x0aXAiLCJtb2RlIiwiaW50ZXJzZWN0IiwiY2FsbGJhY2tzIiwiY29udGV4dCIsInBhcnNlZCIsImRheXMiLCJBaUFuYWx5c2lzIiwiYWlBbmFseXNpcyIsInNldEFpQW5hbHlzaXMiLCJpc0FpTG9hZGluZyIsInNldElzQWlMb2FkaW5nIiwiZ2V0QWlBbmFseXNpcyIsInByb21wdCIsImNoYXRIaXN0b3J5Iiwicm9sZSIsInBhcnRzIiwicGF5bG9hZCIsImNvbnRlbnRzIiwiYXBpS2V5IiwiYXBpVXJsIiwiY2FuZGlkYXRlcyIsImFuYWx5c2lzQ29sbGVjdGlvblJlZiIsInRyYWRlSWQiLCJhbmFseXNpcyIsImlucHV0RGF0YSIsImZlZWRiYWNrIiwiZmVlZGJhY2tOb3RlcyIsIkFpUmlza0Fkdmlzb3IiLCJhZHZpY2UiLCJzZXRBZHZpY2UiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJnZXRSaXNrQWR2aWNlIiwic2VjdG9yQ29uY2VudHJhdGlvblN0cmluZyIsImpvaW4iLCJBdXRvY29tcGxldGVJbnB1dCIsIm9uVmFsdWVDaGFuZ2UiLCJmaWx0ZXJLZXkiLCJvbkJsdXIiLCJpbnB1dFZhbHVlIiwic2V0SW5wdXRWYWx1ZSIsInN1Z2dlc3Rpb25zIiwic2V0U3VnZ2VzdGlvbnMiLCJpc0ZvY3VzZWQiLCJzZXRJc0ZvY3VzZWQiLCJoYW5kbGVGb2N1cyIsIm9uSW5wdXRDaGFuZ2UiLCJuZXdWYWx1ZSIsInN0b2NrIiwib25TdWdnZXN0aW9uQ2xpY2siLCJOYW1lIiwiVGlja2VyIiwiU2VjdG9yIiwiSW5kdXN0cnkiLCJvbkZvY3VzIiwic2V0VGltZW91dCIsImluZGV4Iiwib25Nb3VzZURvd24iLCJEYXRhYmFzZU1hbmFnZXIiLCJmaWxlSW5wdXRSZWYiLCJ1cGxvYWRTdGF0dXMiLCJzZXRVcGxvYWRTdGF0dXMiLCJoYW5kbGVGaWxlVXBsb2FkIiwicHJvY2Vzc0NTViIsIm9uZXJyb3IiLCJjc3ZUZXh0IiwibGluZXMiLCJ0aWNrZXJJbmRleCIsImluZGV4T2YiLCJuYW1lSW5kZXgiLCJzZWN0b3JJbmRleCIsImluZHVzdHJ5SW5kZXgiLCJuZXdTdG9ja3MiLCJ0aWNrZXJNYXAiLCJNYXAiLCJhZGRlZENvdW50IiwiaGFzIiwic2V0IiwidXBkYXRlZERhdGFiYXNlIiwiQXJyYXkiLCJmcm9tIiwiTW9kYWwiLCJzdG9wUHJvcGFnYXRpb24iLCJzZWxlY3RlZFNlY3Rpb25zIiwic2V0U2VsZWN0ZWRTZWN0aW9ucyIsImhhbmRsZVRvZ2dsZSIsInByZXYiLCJzIiwiaGFuZGxlRXhwb3J0UGRmIiwiaGFuZGxlRXhwb3J0UG5nIiwiY2hlY2tlZCIsInJlYWRPbmx5Iiwicm93cyIsIm1vY2tBbmFseXNlcyIsImFuYWx5c2VzIiwic2V0QW5hbHlzZXMiLCJoYW5kbGVGZWVkYmFjayIsInNldEZpbGVzIiwic2VsZWN0ZWRGaWxlSWQiLCJzZXRTZWxlY3RlZEZpbGVJZCIsImlzQW5hbHl6aW5nIiwic2V0SXNBbmFseXppbmciLCJzZWxlY3RlZEZpbGUiLCJmaW5kIiwiZiIsImtiQ29sbGVjdGlvblJlZiIsInEiLCJxdWVyeSIsIm9yZGVyQnkiLCJ1bnN1YnNjcmliZSIsImZldGNoZWRGaWxlcyIsImZpbGVUb0dlbmVyYXRpdmVQYXJ0IiwiYmFzZTY0RW5jb2RlZERhdGFQcm9taXNlIiwicmVzb2x2ZSIsIm9ubG9hZGVuZCIsInJlYWRBc0RhdGFVUkwiLCJpbmxpbmVEYXRhIiwibWltZVR5cGUiLCJwcm9jZXNzRmlsZSIsImZpbGVEYXRhIiwibmFtZSIsInNpemUiLCJ1cGxvYWRlZEF0IiwicHJvY2Vzc2VkQ29udGVudCIsInN0YXJ0c1dpdGgiLCJpbWFnZVBhcnQiLCJzdGF0dXNUZXh0IiwiaGFuZGxlRmlsZXMiLCJmaWxlc1RvUHJvY2VzcyIsImhhbmRsZUZpbGVEcm9wIiwiZHJvcHBlZEZpbGVzIiwiZGF0YVRyYW5zZmVyIiwiaGFuZGxlRmlsZVNlbGVjdCIsInNlbGVjdGVkRmlsZXMiLCJoYW5kbGVBbmFseXplRmlsZSIsImZpbGVEb2NSZWYiLCJoYW5kbGVEZWxldGVGaWxlIiwiZmlsZUlkIiwiZGVsZXRlRG9jIiwib25EcmFnT3ZlciIsIm9uRHJvcCIsIm11bHRpcGxlIiwiY29sU3BhbiIsImZpbmRHaWNzQ2xhc3NpZmljYXRpb24iLCJpdGVtIiwiZnVuY3Rpb25zIiwidXJscyIsImZ1bmMiLCJyZXNwb25zZXMiLCJ1cmwiLCJyZXN1bHRzIiwicmVzIiwicXVvdGUiLCJzbWEiLCJvdmVydmlldyIsImRhaWx5U2VyaWVzIiwiZXhjaGFuZ2VSYXRlIiwiZ2xvYmFsUXVvdGUiLCJsYXN0UnNpIiwibGFzdFNtYTIwMCIsImxhc3RNYWNkIiwibGFzdFZ3YXAiLCJsYXN0QXRyIiwiZGF0ZXMiLCJwcmV2aW91c0RheURhdGEiLCJwcmV2SGlnaCIsInByZXZMb3ciLCJwcmV2Q2xvc2UiLCJBcHAiLCJtb2RhbEluZm8iLCJzZXRNb2RhbEluZm8iLCJ0YWN0aWNhbFJlY29tbWVuZGF0aW9ucyIsInNldFRhY3RpY2FsUmVjb21tZW5kYXRpb25zIiwiczEiLCJpbml0aWFsVVNEIiwiY3VycmVudFVTRCIsInRvdGFsUEwiLCJkaXNwbGF5RGF0YSIsImlzQWJvdmUiLCJlbnRyeSIsInN0b3AiLCJyaXNrUGVyVW5pdCIsInByb2ZpdFBvdGVudGlhbCIsInRvdGFsUmlzayIsInJpc2tSZXdhcmQiLCJjb3N0IiwicmVjb21tZW5kYXRpb25zIiwiczQiLCJzb3J0ZWRTZWN0b3JzIiwiciIsImsiLCJmZXRjaEFwaUtleSIsImRvY1NuYXAiLCJoYW5kbGVUaWNrZXJCbHVyIiwiY2xhc3NpZmljYXRpb24iLCJoYW5kbGVJbmZvQ2xpY2siLCJpbmZvIiwiZ2V0UnNpSW5kaWNhdG9yIiwiZ2V0Umlza1Jld2FyZEluZGljYXRvciIsInJhdGlvIiwicmF0aW9WYWx1ZSIsImdldE1hTWVhbmluZ0luZGljYXRvciIsIm1lYW5pbmciLCJ2YWwiLCJTZXQiLCJyZWMiLCJyb290IiwicmVuZGVyIl0sInNvdXJjZXMiOlsiSW5saW5lIEJhYmVsIHNjcmlwdCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgICAgLy8gQWNjZXNzIFJlYWN0LCBSZWFjdERPTSBhbmQgb3RoZXIgZ2xvYmFsc1xuICAgICAgICBjb25zdCB7IFJlYWN0LCBSZWFjdERPTSwgZmlyZWJhc2UsIENoYXJ0LCBodG1sMmNhbnZhcywganNwZGYgfSA9IHdpbmRvdztcbiAgICAgICAgY29uc3QgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VNZW1vIH0gPSBSZWFjdDtcbiAgICAgICAgY29uc3QgeyBjcmVhdGVSb290IH0gPSBSZWFjdERPTTtcblxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gIDEuIERBVEFCQVNFICYgTU9DSyBEQVRBXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBjb25zdCBBUFBfVkVSU0lPTiA9IFwiOC4zXCI7XG4gICAgICAgIGNvbnN0IGluaXRpYWxHaWNzRGF0YSA9IEpTT04ucGFyc2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dpY3MtZGF0YScpLnRleHRDb250ZW50IHx8ICdbXScpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcGFyYW1EYXRhRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJhbS1kYXRhJyk7XG4gICAgICAgIGNvbnN0IHBhcmFtQ1NWID0gcGFyYW1EYXRhRWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgY29uc3QgcGFyYW1EYXRhID0gcGFyYW1DU1Yuc3BsaXQoJ1xcbicpLnNsaWNlKDEpXG4gICAgICAgICAgICAuZmlsdGVyKGxpbmUgPT4gbGluZSAmJiBsaW5lLnRyaW0oKSAhPT0gJycpXG4gICAgICAgICAgICAucmVkdWNlKChhY2MsIGxpbmUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBsaW5lLm1hdGNoKC8oXCIuKj9cInxbXlwiLF0rKSg/PVxccyosfFxccyokKS9nKS5tYXAodiA9PiB2LnJlcGxhY2UoL1wiL2csICcnKSk7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gdmFsdWVzWzFdOyBcbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY1trZXkudHJpbSgpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxOYW1lOiB2YWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uOiB2YWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2FnZTogdmFsdWVzWzVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG93VG86IHZhbHVlc1s2XVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pO1xuXG5cbiAgICAgICAgY29uc3QgZ2VuZXJhdGVNb2NrUG9ydGZvbGlvRGF0YSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBbXTtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IDEzNzMyO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDkwOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpO1xuICAgICAgICAgICAgICAgIHZhbHVlICs9IChNYXRoLnJhbmRvbSgpIC0gMC40OCkgKiAyNTA7XG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHsgdGltZTogZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyAgMi4gQ09OVEVYVFMgKFN0YXRlIE1hbmFnZW1lbnQpXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBjb25zdCBEYXRhQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgRmlyZWJhc2VDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdXNlRGF0YSA9ICgpID0+IHVzZUNvbnRleHQoRGF0YUNvbnRleHQpO1xuICAgICAgICBjb25zdCB1c2VGaXJlYmFzZSA9ICgpID0+IHVzZUNvbnRleHQoRmlyZWJhc2VDb250ZXh0KTtcblxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gIDMuIERBVEEgUFJPVklERVIgQ09NUE9ORU5UXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBjb25zdCBEYXRhUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbY3VycmVudERhdGVUaW1lLCBzZXRDdXJyZW50RGF0ZVRpbWVdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgY29uc3QgW2NoYW5nZURlc2NyaXB0aW9uLCBzZXRDaGFuZ2VEZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgICAgICAgICBjb25zdCBbaXNEYXRhRGlydHksIHNldElzRGF0YURpcnR5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IFthcGlTdGF0dXMsIHNldEFwaVN0YXR1c10gPSB1c2VTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9KTtcbiAgICAgICAgICAgIGNvbnN0IFt0cmFkZUxvZywgc2V0VHJhZGVMb2ddID0gdXNlU3RhdGUoW10pO1xuICAgICAgICAgICAgY29uc3QgW2N1cnJlbnRUcmFkZUlkLCBzZXRDdXJyZW50VHJhZGVJZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IFtnbG9iYWxGaWx0ZXIsIHNldEdsb2JhbEZpbHRlcl0gPSB1c2VTdGF0ZSgn15TXm9ecJyk7XG4gICAgICAgICAgICBjb25zdCBbZ2xvYmFsU2VhcmNoUXVlcnksIHNldEdsb2JhbFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcbiAgICAgICAgICAgIGNvbnN0IFtnaWNzRGF0YWJhc2UsIHNldEdpY3NEYXRhYmFzZV0gPSB1c2VTdGF0ZShpbml0aWFsR2ljc0RhdGEpO1xuICAgICAgICAgICAgY29uc3QgW2lzTGl2ZURhdGFTZXQsIHNldElzTGl2ZURhdGFTZXRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgW2RhdGFFbnRyeU1vZGUsIHNldERhdGFFbnRyeU1vZGVdID0gdXNlU3RhdGUoJ21hbnVhbCcpO1xuXG4gICAgICAgICAgICBjb25zdCBpbml0aWFsRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uMToge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsUG9ydGZvbGlvVmFsdWVJTFM6IDEwMDAwLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVVNEUmF0ZTogMy43MCxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFBvcnRmb2xpb1ZhbHVlVVNEOiAnMC4wMCcsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQb3J0Zm9saW9WYWx1ZUlMUzogMTM3MzIsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRVU0RSYXRlOiAzLjc1LFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UG9ydGZvbGlvVmFsdWVVU0Q6ICcwLjAwJyxcbiAgICAgICAgICAgICAgICAgICAgYmFsYW5jZVVTRDogODYuMDksXG4gICAgICAgICAgICAgICAgICAgIGJhbGFuY2VJTFM6IC0xMDguMDcsXG4gICAgICAgICAgICAgICAgICAgIGNyZWRpdExpbWl0OiAwLFxuICAgICAgICAgICAgICAgICAgICBidXlpbmdQb3dlclVTRDogNDkuOTIsXG4gICAgICAgICAgICAgICAgICAgIGRhaWx5UExVU0Q6IC0yNDUsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUExVU0Q6ICcwLjAwJyxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQTFBlcmNlbnRhZ2U6ICcwLjAwJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VjdGlvbjI6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RvY2tOYW1lOiAnJywgdGlja2VyU3ltYm9sOiAnJywgc2VjdG9yOiAnJywgaW5kdXN0cnk6ICcnLCBleGNoYW5nZTogJycsIHNlY3VyaXR5VHlwZTogJ1N0b2NrJywgbWFya2V0Q2FwOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlY3Rpb24zOiB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZTogMCwgZGFpbHlSYW5nZTogJycsIHByZXZEYXlSYW5nZTogJycsIGN1cnJlbnRWb2x1bWU6ICcnLCBhdmdWb2x1bWU6ICcnLCB1bnVzdWFsVm9sdW1lOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlY3Rpb240OiB7XG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRMZXZlbHM6ICcnLCByZXNpc3RhbmNlTGV2ZWxzOiAnJywgbWEyMDogMCwgbWE1MDogMCwgbWExMDA6IDAsIG1hMTUwOiAwLCBtYTIwMDogMCwgbWFNZWFuaW5nOiAnJywgbWFBY3Rpb246ICcnLFxuICAgICAgICAgICAgICAgICAgICBtYWNkOiAwLCBtYWNkU2lnbmFsOiAwLCBtYWNkSGlzdG9ncmFtOiAwLCBtYWNkTWVhbmluZzogJycsIG1hY2RBY3Rpb246ICcnLCByc2k6IDAsIGRhaWx5UmFuZ2U6IDAsIGF0cjogMCwgYXRyUGVyY2VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgdm9sYXRpbGl0eUluZGljYXRvcjogJycsIHZ3YXA6IDAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZWN0aW9uNToge1xuICAgICAgICAgICAgICAgICAgICBkYWlseVBpdm90OiAwLCBwcmljZVZzUGl2b3Q6ICcnLCBwaXZvdEFjdGlvbjogJycsIGZpYjIzNjogMCwgZmliMzgyOiAwLCBmaWJHb2xkZW5Qb2NrZXQ6ICcnLCBmaWI3ODY6IDAsIHByaWNlQWN0aW9uOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlY3Rpb242OiB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVudWU6ICcnLCBlcHM6IDAsIHBlUmF0aW86IDAsIHBiUmF0aW86IDAsIGdyb3d0aDogJycsIGRlYnQ6ICcnLCBkaXZpZGVuZDogJycsIGFuYWx5c3RGb3JlY2FzdHM6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VjdGlvbjc6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGl0dXRpb25hbFNlbnRpbWVudDogJycsIHNob3J0SW50ZXJlc3Q6ICcnLCBtYXRlcmlhbE5ld3M6ICcnLCBtYXJrZXRSaXNrOiAnJywgZXh0ZXJuYWxSaXNrczogJycsIHN1Y2Nlc3NDaGFuY2U6ICcnLCByaXNrTGV2ZWw6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VjdGlvbjg6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcDE6IHsgZGV0YWlsczogJycsIHN0YXR1czogJ9ek16rXldeXJywgcHVyY2hhc2VEYXRlOiAnJywgdGFyZ2V0RGF0ZTogJycsIGVudHJ5UHJpY2U6IDAsIGN1cnJlbnRQcmljZTogMCwgc3RvcExvc3M6IDAsIHRyYWlsaW5nU3RvcDogJycsIHVuaXRzOiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIHN0ZXAyOiB7IHBvdGVudGlhbFJpc2tVbml0OiAnMC4wMCcsIGZpbmFuY2lhbFJpc2s6ICcwLjAwJywgc2hhcmVzVG9QdXJjaGFzZTogMCwgdG90YWxDb3N0OiAnMC4wMCcsIHJlbWFpbmluZ0JhbGFuY2U6ICcwLjAwJyB9LFxuICAgICAgICAgICAgICAgICAgICBzdGVwMzogeyB0cDE6IDAsIHRwMjogMCwgdHAzOiAwLCB0cDQ6IDAsIHByb2ZpdFBvdGVudGlhbDE6ICcwLjAwJywgcmlza1Jld2FyZFJhdGlvOiAnJywgZm9yZWNhc3Q6ICcnIH0sXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA0OiB7IGNsb3NlRGF0ZTogJycsIGNsb3NlUHJpY2U6ICcnLCBmZWVzOiAnJywgZmluYW5jaWFsUmVzdWx0OiAnJywgcm9pOiAnJyB9LFxuICAgICAgICAgICAgICAgICAgICBzdGVwNTogeyBuZXdzOiAnJywgc2VudGltZW50OiAnJywgdm9sYXRpbGl0eTogJycsIG1hcmtldFJpc2s6ICcnLCBub3RlczogJycsIGFsZXJ0czogJycsIGNoYXJ0U25hcHNob3RzOiAnJywgZm9sbG93ZWRQbGFuOiAnJywgbGVzc29uc0xlYXJuZWQ6ICcnIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBvcnRmb2xpb0hpc3Rvcnk6IGdlbmVyYXRlTW9ja1BvcnRmb2xpb0RhdGEoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKGluaXRpYWxEYXRhKTtcblxuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVEYXRlVGltZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgeWVhcjogJ251bWVyaWMnLCBtb250aDogJzItZGlnaXQnLCBkYXk6ICcyLWRpZ2l0JywgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0Jywgc2Vjb25kOiAnMi1kaWdpdCcsIGhvdXIxMjogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudERhdGVUaW1lKG5vdy50b0xvY2FsZVN0cmluZygnaGUtSUwnLCBvcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRlVGltZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCh1cGRhdGVEYXRlVGltZSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZU5lc3RlZENoYW5nZSA9IChwYXRoLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzRGF0YURpcnR5KHRydWUpO1xuICAgICAgICAgICAgICAgIHNldERhdGEocHJldkRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwcmV2RGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudCA9IG5ld0RhdGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleXMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W2tleXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRba2V5c1trZXlzLmxlbmd0aCAtIDFdXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3RGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHBvcHVsYXRlRGFzaGJvYXJkRGF0YSA9IHVzZUNhbGxiYWNrKChpbXBvcnRlZERhdGEsIG1hcmtBc0RpcnR5ID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW1wb3J0ZWREYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldERhdGEocHJldkRhdGEgPT4gKHsuLi5wcmV2RGF0YSwgLi4uaW1wb3J0ZWREYXRhfSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFya0FzRGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRGF0YURpcnR5KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIGNvbnN0IGxvYWRUcmFkZSA9ICh0cmFkZURhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBzZXREYXRhKHRyYWRlRGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50VHJhZGVJZCh0cmFkZURhdGEuaWQpO1xuICAgICAgICAgICAgICAgIHNldElzRGF0YURpcnR5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRJc0xpdmVEYXRhU2V0KCEhdHJhZGVEYXRhLmRhdGEuc2VjdGlvbjMuY3VycmVudFByaWNlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld1RyYWRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldERhdGEoaW5pdGlhbERhdGEpO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRUcmFkZUlkKG51bGwpO1xuICAgICAgICAgICAgICAgIHNldElzRGF0YURpcnR5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRJc0xpdmVEYXRhU2V0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXREYXRhRW50cnlNb2RlKCdtYW51YWwnKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnREYXRlVGltZSwgY2hhbmdlRGVzY3JpcHRpb24sIHNldENoYW5nZURlc2NyaXB0aW9uLCBpc0RhdGFEaXJ0eSwgc2V0SXNEYXRhRGlydHksXG4gICAgICAgICAgICAgICAgZGF0YSwgc2V0RGF0YSwgaGFuZGxlTmVzdGVkQ2hhbmdlLCBwb3B1bGF0ZURhc2hib2FyZERhdGEsIFxuICAgICAgICAgICAgICAgIGFwaVN0YXR1cywgc2V0QXBpU3RhdHVzLFxuICAgICAgICAgICAgICAgIHRyYWRlTG9nLCBzZXRUcmFkZUxvZyxcbiAgICAgICAgICAgICAgICBjdXJyZW50VHJhZGVJZCwgc2V0Q3VycmVudFRyYWRlSWQsXG4gICAgICAgICAgICAgICAgbG9hZFRyYWRlLCBuZXdUcmFkZSwgaW5pdGlhbERhdGEsXG4gICAgICAgICAgICAgICAgZ2xvYmFsRmlsdGVyLCBzZXRHbG9iYWxGaWx0ZXIsIGdsb2JhbFNlYXJjaFF1ZXJ5LCBzZXRHbG9iYWxTZWFyY2hRdWVyeSxcbiAgICAgICAgICAgICAgICBnaWNzRGF0YWJhc2UsIHNldEdpY3NEYXRhYmFzZSxcbiAgICAgICAgICAgICAgICBpc0xpdmVEYXRhU2V0LCBzZXRJc0xpdmVEYXRhU2V0LFxuICAgICAgICAgICAgICAgIGRhdGFFbnRyeU1vZGUsIHNldERhdGFFbnRyeU1vZGVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPERhdGFDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L0RhdGFDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyAgNC4gRklSRUJBU0UgJiBVVElMUyBQUk9WSURFUiBDT01QT05FTlRcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIGNvbnN0IEZpcmViYXNlUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGlzRGF0YURpcnR5LCBzZXRJc0RhdGFEaXJ0eSwgc2V0VHJhZGVMb2csIGN1cnJlbnRUcmFkZUlkLCBzZXRDdXJyZW50VHJhZGVJZCwgY2hhbmdlRGVzY3JpcHRpb24sIHNldENoYW5nZURlc2NyaXB0aW9uLCBwb3B1bGF0ZURhc2hib2FyZERhdGEsIGxvYWRUcmFkZSB9ID0gdXNlRGF0YSgpO1xuXG4gICAgICAgICAgICBjb25zdCBbZGIsIHNldERiXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgW3VzZXJJZCwgc2V0VXNlcklkXSA9IHVzZVN0YXRlKCfXmNeV16LXny4uLicpO1xuICAgICAgICAgICAgY29uc3QgW2lzQXV0aFJlYWR5LCBzZXRJc0F1dGhSZWFkeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5pdEZpcmViYXNlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyZWJhc2VDb25maWcgPSBKU09OLnBhcnNlKHR5cGVvZiB3aW5kb3cuX19maXJlYmFzZV9jb25maWcgIT09ICd1bmRlZmluZWQnID8gd2luZG93Ll9fZmlyZWJhc2VfY29uZmlnIDogJ3t9Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcHAgPSBmaXJlYmFzZS5pbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhJbnN0YW5jZSA9IGZpcmViYXNlLmdldEF1dGgoYXBwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRiSW5zdGFuY2UgPSBmaXJlYmFzZS5nZXRGaXJlc3RvcmUoYXBwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldERiKGRiSW5zdGFuY2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5vbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aEluc3RhbmNlLCBhc3luYyAodXNlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZXJJZCh1c2VyLnVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzQXV0aFJlYWR5KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5fX2luaXRpYWxfYXV0aF90b2tlbiAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9faW5pdGlhbF9hdXRoX3Rva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZmlyZWJhc2Uuc2lnbkluV2l0aEN1c3RvbVRva2VuKGF1dGhJbnN0YW5jZSwgd2luZG93Ll9faW5pdGlhbF9hdXRoX3Rva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZmlyZWJhc2Uuc2lnbkluQW5vbnltb3VzbHkoYXV0aEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLXqdeS15nXkNeqINeU16rXl9eR16jXldeqINecLUZpcmViYXNlOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLXqdeS15nXkNeqINeQ16rXl9eV15wgRmlyZWJhc2U6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaW5pdEZpcmViYXNlKCk7XG4gICAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0F1dGhSZWFkeSB8fCAhZGIgfHwgIXVzZXJJZCB8fCB1c2VySWQgPT09ICfXmNeV16LXny4uLicpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFwcElkID0gdHlwZW9mIF9fYXBwX2lkICE9PSAndW5kZWZpbmVkJyA/IF9fYXBwX2lkIDogJ2RlZmF1bHQtYXBwLWlkJztcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFkZXNDb2xsZWN0aW9uUmVmID0gZmlyZWJhc2UuY29sbGVjdGlvbihkYiwgYGFydGlmYWN0cy8ke2FwcElkfS91c2Vycy8ke3VzZXJJZH0vdHJhZGVzYCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVUcmFkZXMgPSBmaXJlYmFzZS5vblNuYXBzaG90KHRyYWRlc0NvbGxlY3Rpb25SZWYsIChxdWVyeVNuYXBzaG90KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWRlcyA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUcmFkZUxvZyh0cmFkZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlVHJhZGVzKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sIFtpc0F1dGhSZWFkeSwgZGIsIHVzZXJJZF0pO1xuXG4gICAgICAgICAgICBjb25zdCBzYXZlT3JVcGRhdGVUcmFkZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWRiIHx8ICF1c2VySWQpIHsgYWxlcnQoJ9ep15LXmdeQ15Q6IEZpcmViYXNlINec15Ag15DXldeq15fXnC4nKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLnNlY3Rpb24yLnRpY2tlclN5bWJvbCkgeyBhbGVydCgn15nXqSDXnNeU15bXmdefINeh15nXnteV15wg157XoNeZ15Qg15zXpNeg15kg15TXqdee15nXqNeULicpOyByZXR1cm47IH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGFwcElkID0gdHlwZW9mIF9fYXBwX2lkICE9PSAndW5kZWZpbmVkJyA/IF9fYXBwX2lkIDogJ2RlZmF1bHQtYXBwLWlkJztcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFkZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tlcjogZGF0YS5zZWN0aW9uMi50aWNrZXJTeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogZGF0YS5zZWN0aW9uOC5zdGVwMS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURlc2NyaXB0aW9uOiBjaGFuZ2VEZXNjcmlwdGlvbiB8fCBcItei15PXm9eV158g16DXqteV16DXmdedXCJcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUcmFkZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFkZURvY1JlZiA9IGZpcmViYXNlLmRvYyhkYiwgYGFydGlmYWN0cy8ke2FwcElkfS91c2Vycy8ke3VzZXJJZH0vdHJhZGVzYCwgY3VycmVudFRyYWRlSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudERvYyA9IGF3YWl0IGZpcmViYXNlLmdldERvYyh0cmFkZURvY1JlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RG9jLmV4aXN0cygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbnNDb2xsZWN0aW9uUmVmID0gZmlyZWJhc2UuY29sbGVjdGlvbihkYiwgYGFydGlmYWN0cy8ke2FwcElkfS91c2Vycy8ke3VzZXJJZH0vdHJhZGVzLyR7Y3VycmVudFRyYWRlSWR9L3ZlcnNpb25zYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZmlyZWJhc2UuYWRkRG9jKHZlcnNpb25zQ29sbGVjdGlvblJlZiwgY3VycmVudERvYy5kYXRhKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBmaXJlYmFzZS51cGRhdGVEb2ModHJhZGVEb2NSZWYsIHRyYWRlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn15TXoteh16fXlCDXoteV15PXm9eg15Qg15HXlNem15zXl9eULiDXlNeS16jXodeUINeU16fXldeT157XqiDXoNep157XqNeUINeR15DXqNeb15nXldefLicpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhZGVzQ29sbGVjdGlvblJlZiA9IGZpcmViYXNlLmNvbGxlY3Rpb24oZGIsIGBhcnRpZmFjdHMvJHthcHBJZH0vdXNlcnMvJHt1c2VySWR9L3RyYWRlc2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jUmVmID0gYXdhaXQgZmlyZWJhc2UuYWRkRG9jKHRyYWRlc0NvbGxlY3Rpb25SZWYsIHRyYWRlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50VHJhZGVJZChkb2NSZWYuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9ei16HXp9eUINeX15PXqdeUINeg16nXnteo15Qg15HXlNem15zXl9eUIScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldElzRGF0YURpcnR5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2hhbmdlRGVzY3JpcHRpb24oJycpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcItep15LXmdeQ15Qg15HXqdee15nXqNeqINee16HXnteaOiBcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfXqdeS15nXkNeUINeR16nXnteZ16jXqiDXoNeq15XXoNeZ1506ICcgKyBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3RvcmVWZXJzaW9uID0gKHRyYWRlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0oYNeU15DXnSDXkNeq15Qg15HXmNeV15cg16nXkdeo16bXldeg15og15zXmNei15XXnyDXkNeqINeU16LXoden15Qg16LXkdeV16ggJHt0cmFkZS50aWNrZXJ9INee16rXkNeo15nXmiAke25ldyBEYXRlKHRyYWRlLmxhc3RVcGRhdGVkKS50b0xvY2FsZVN0cmluZygpfT8g16TXoteV15zXlCDXlteVINeq15fXnNeZ16Mg15DXqiDXlNep15nXoNeV15nXmdedINeU16DXldeb15fXmdeZ150g16nXnNeQINeg16nXnteo15UuYCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZFRyYWRlKHRyYWRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBlbWVyZ2VuY3lSZXN0b3JlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0cmFkZUxvZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZFRyYWRlcyA9IFsuLi50cmFkZUxvZ10uc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5sYXN0VXBkYXRlZCkgLSBuZXcgRGF0ZShhLmxhc3RVcGRhdGVkKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVzdFRyYWRlID0gc29ydGVkVHJhZGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybShg16TXoteV15zXlCDXlteVINeq16nXl9eW16gg15DXqiDXlNei16HXp9eUINeU15DXl9eo15XXoNeUINep16DXqdee16jXlDogJHtsYXRlc3RUcmFkZS50aWNrZXJ9INee16rXkNeo15nXmiAke25ldyBEYXRlKGxhdGVzdFRyYWRlLmxhc3RVcGRhdGVkKS50b0xvY2FsZVN0cmluZygpfS4g15TXkNedINeQ16rXlCDXkdeY15XXlz9gKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFRyYWRlKGxhdGVzdFRyYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi15zXkCDXoNee16bXkNeVINei16HXp9eQ15XXqiDXnNep15fXlteV16guXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlU3RhbmRhcmRGaWxlTmFtZSA9IChkZXNjcmlwdGlvbiwgZXh0ZW5zaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcobm93LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRheSA9IFN0cmluZyhub3cuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKG5vdy5nZXRIb3VycygpKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcobm93LmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gU3RyaW5nKG5vdy5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZVN0YW1wID0gYCR7eWVhcn0ke21vbnRofSR7ZGF5fV8ke2hvdXJzfSR7bWludXRlc30ke3NlY29uZHN9YDtcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbERlc2NyaXB0aW9uID0gKGNoYW5nZURlc2NyaXB0aW9uIHx8IGRlc2NyaXB0aW9uKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJy0nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFByYXhpc0FJX3Yke0FQUF9WRVJTSU9OfV8ke2ZpbmFsRGVzY3JpcHRpb259XyR7ZGF0ZVN0YW1wfS4ke2V4dGVuc2lvbn1gO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgZXhwb3J0RGF0YUFzSnNvbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhVG9FeHBvcnQgPSB7bWFpbkRhdGE6IGRhdGEgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZGF0YVRvRXhwb3J0LCBudWxsLCAyKTsgXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBnZW5lcmF0ZVN0YW5kYXJkRmlsZU5hbWUoJ0RhdGFCYWNrdXAnLCAnanNvbicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbanNvblN0cmluZ10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTsgXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGltcG9ydERhdGFGcm9tSnNvbiA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltcG9ydGVkRGF0YSA9IEpTT04ucGFyc2UoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlRGFzaGJvYXJkRGF0YShpbXBvcnRlZERhdGEubWFpbkRhdGEsIHRydWUpOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfXlNeg16rXldeg15nXnSDXoNeY16LXoNeVINeR15TXptec15fXlCEg15zXl9elINei15wgXCLXqdee15XXqCDXoteh16fXlCDXl9eT16nXlFwiINeQ15UgXCLXoteT15vXnyDXoteh16fXlFwiINeb15PXmSDXnNeh16DXm9eo158g16LXnSDXlNei16DXny4nKTsgXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn16nXkteZ15DXlCDXkdeY16LXmdeg16og16fXldeR16UgSlNPTjogJyArIGVycm9yLm1lc3NhZ2UpOyBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBleHBvcnRTb3VyY2VDb2RlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWxDb250ZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTDtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGdlbmVyYXRlU3RhbmRhcmRGaWxlTmFtZSgnU291cmNlQ29kZScsICdodG1sJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtodG1sQ29udGVudF0sIHsgdHlwZTogJ3RleHQvaHRtbDtjaGFyc2V0PXV0Zi04JyB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICAgICAgICAgICAgbGluay5jbGljaygpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBleHBvcnRBc1BuZyA9IGFzeW5jIChzZWN0aW9uc1RvRXhwb3J0LCBtb2RhbFJlZikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhc2hib2FyZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhc2hib2FyZC1jb250YWluZXInKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRhc2hib2FyZEVsKSByZXR1cm47XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYobW9kYWxSZWYuY3VycmVudCkgbW9kYWxSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gYXdhaXQgaHRtbDJjYW52YXMoZGFzaGJvYXJkRWwsIHsgc2NhbGU6IDIsIHVzZUNPUlM6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZ2VuZXJhdGVTdGFuZGFyZEZpbGVOYW1lKCdTbmFwc2hvdCcsICdwbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICAgICAgbGluay5ocmVmID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgICAgICAgICAgICAgbGluay5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLXqdeS15nXkNeUINeR15nXmdem15XXkCDXnC1QTkc6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZihtb2RhbFJlZi5jdXJyZW50KSBtb2RhbFJlZi5jdXJyZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgZXhwb3J0QXNQZGYgPSBhc3luYyAoc2VjdGlvbnNUb0V4cG9ydCwgbW9kYWxSZWYpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXNoYm9hcmRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXNoYm9hcmQtY29udGFpbmVyJyk7XG4gICAgICAgICAgICAgICAgaWYgKCFkYXNoYm9hcmRFbCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgaWYobW9kYWxSZWYuY3VycmVudCkgbW9kYWxSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYWxsU2VjdGlvbnMgPSBkYXNoYm9hcmRFbC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi1jb250YWluZXInKTtcbiAgICAgICAgICAgICAgICBhbGxTZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IHNlY3Rpb24uZ2V0QXR0cmlidXRlKCdkYXRhLXNlY3Rpb24tdGl0bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb25zVG9FeHBvcnQubGVuZ3RoID4gMCAmJiAhc2VjdGlvbnNUb0V4cG9ydC5pbmNsdWRlcyh0aXRsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gYXdhaXQgaHRtbDJjYW52YXMoZGFzaGJvYXJkRWwsIHsgc2NhbGU6IDIsIHVzZUNPUlM6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ0RhdGEgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBqc1BERiB9ID0ganNwZGY7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBkZiA9IG5ldyBqc1BERigncCcsICdtbScsICdhNCcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWdQcm9wcyA9IHBkZi5nZXRJbWFnZVByb3BlcnRpZXMoaW1nRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBkZldpZHRoID0gcGRmLmludGVybmFsLnBhZ2VTaXplLmdldFdpZHRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBkZkhlaWdodCA9IChpbWdQcm9wcy5oZWlnaHQgKiBwZGZXaWR0aCkgLyBpbWdQcm9wcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgcGRmLmFkZEltYWdlKGltZ0RhdGEsICdQTkcnLCAwLCAwLCBwZGZXaWR0aCwgcGRmSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgcGRmLnNhdmUoZ2VuZXJhdGVTdGFuZGFyZEZpbGVOYW1lKCdSZXBvcnQnLCAncGRmJykpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLXqdeS15nXkNeUINeR15nXmdem15XXkCDXnC1QREY6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2VjdGlvbnMuZm9yRWFjaChzZWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYobW9kYWxSZWYuY3VycmVudCkgbW9kYWxSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0ge1xuICAgICAgICAgICAgICAgIHVzZXJJZCwgaXNBdXRoUmVhZHksIGRiLCBzYXZlT3JVcGRhdGVUcmFkZSxcbiAgICAgICAgICAgICAgICBleHBvcnREYXRhQXNKc29uLCBpbXBvcnREYXRhRnJvbUpzb24sIGV4cG9ydFNvdXJjZUNvZGUsXG4gICAgICAgICAgICAgICAgZXhwb3J0QXNQbmcsIGV4cG9ydEFzUGRmLCByZXN0b3JlVmVyc2lvbiwgZW1lcmdlbmN5UmVzdG9yZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8RmlyZWJhc2VDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L0ZpcmViYXNlQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gIDUuIFVJIENPTVBPTkVOVFMgKE5FVyAmIFVQREFURUQpXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgICAgIGNvbnN0IFRhYnMgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbYWN0aXZlVGFiLCBzZXRBY3RpdmVUYWJdID0gdXNlU3RhdGUoY2hpbGRyZW5bMF0ucHJvcHMubGFiZWwpO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVDbGljayA9IChlLCBuZXdBY3RpdmVUYWIpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFiKG5ld0FjdGl2ZVRhYik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFicy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbi5tYXAoY2hpbGQgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjaGlsZC5wcm9wcy5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHthY3RpdmVUYWIgPT09IGNoaWxkLnByb3BzLmxhYmVsID8gJ2FjdGl2ZScgOiAnJ30gdGFiLWJ1dHRvbmB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2UgPT4gaGFuZGxlQ2xpY2soZSwgY2hpbGQucHJvcHMubGFiZWwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXtgZmFzICR7Y2hpbGQucHJvcHMuaWNvbn0gbWwtMmB9PjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NoaWxkLnByb3BzLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYi1jb250ZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVuLm1hcChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnByb3BzLmxhYmVsID09PSBhY3RpdmVUYWIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxkaXYga2V5PXtjaGlsZC5wcm9wcy5sYWJlbH0gY2xhc3NOYW1lPVwidGFiLWNvbnRlbnQgYWN0aXZlXCI+e2NoaWxkLnByb3BzLmNoaWxkcmVufTwvZGl2PjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxkaXYga2V5PXtjaGlsZC5wcm9wcy5sYWJlbH0gY2xhc3NOYW1lPVwidGFiLWNvbnRlbnRcIj57Y2hpbGQucHJvcHMuY2hpbGRyZW59PC9kaXY+O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBUYWIgPSAoeyBsYWJlbCwgY2hpbGRyZW4gfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGxhYmVsPXtsYWJlbH0gY2xhc3NOYW1lPVwiaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgSW5kaWNhdG9yID0gKHsgdGV4dCwgY29sb3JDbGFzcywgaWNvbkNsYXNzIH0pID0+IChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIGZvbnQtc2VtaWJvbGQgJHtjb2xvckNsYXNzfWB9PlxuICAgICAgICAgICAgICAgIHtpY29uQ2xhc3MgJiYgPGkgY2xhc3NOYW1lPXtgZmFzICR7aWNvbkNsYXNzfSBtbC0yYH0+PC9pPn1cbiAgICAgICAgICAgICAgICB7dGV4dH1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBJbmZvUm93ID0gKHsgbGFiZWwsIGNoaWxkcmVuLCBwYXJhbUtleSwgb25JbmZvQ2xpY2ssIGluZGljYXRvciB9KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tcm93IGZsZXggZmxleC13cmFwIHNtOmZsZXgtbm93cmFwIGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcHktMlwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIHctZnVsbCBzbTp3LTEvMyBtYi0xIHNtOm1iLTAgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgICAgICAgICAgICB7cGFyYW1LZXkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmFzIGZhLWluZm8tY2lyY2xlIHRleHQtZ3JheS00MDAgbXItMiBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25JbmZvQ2xpY2socGFyYW1LZXkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtg15zXnteZ15PXoiDXoNeV16HXoyDXotecICR7bGFiZWx9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L2k+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctMi8zIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtZ3Jvd1wiPntjaGlsZHJlbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge2luZGljYXRvciAmJiA8ZGl2IGNsYXNzTmFtZT1cIm1yLTRcIj57aW5kaWNhdG9yfTwvZGl2Pn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgU2VjdGlvbiA9ICh7IHRpdGxlLCBjaGlsZHJlbiB9KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tY29udGFpbmVyXCIgZGF0YS1zZWN0aW9uLXRpdGxlPXt0aXRsZX0+XG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInNlY3Rpb24tZ3JvdXAtdGl0bGUgdGV4dC1yaWdodCBtdC0xMCBtYi01IHBiLTJcIj57dGl0bGV9PC9oMj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tZ3JpZFwiPlxuICAgICAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBJbmZvU2VjdGlvbkNhcmQgPSAoeyBpY29uLCB0aXRsZSwgY2hpbGRyZW4gfSkgPT4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXNlY3Rpb24gZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1zZWN0aW9uLWhlYWRlciBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImljb24tY29udGFpbmVyIG1sLTMgdy04IHRleHQtY2VudGVyXCI+PGkgY2xhc3NOYW1lPXtgZmFzICR7aWNvbn1gfSB0aXRsZT17dGl0bGV9PjwvaT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNvbnRlbnQgZmxleC1ncm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGl0bGUgJiYgPGgzIGNsYXNzTmFtZT1cInRleHQtcmlnaHQgbXQtMCBtYi0yXCI+e3RpdGxlfTwvaDM+fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IEhlYWRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY3VycmVudERhdGVUaW1lIH0gPSB1c2VEYXRhKCk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTQgbGVmdC00IHRleHQtc20gdGV4dC1ncmF5LTQwMCBmb250LWxpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudERhdGVUaW1lfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgc206dGV4dC00eGwgbGc6dGV4dC01eGwgZm9udC1leHRyYWJvbGQgdGV4dC10ZWFsLTQwMCBtYi0yIGxlYWRpbmctdGlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcmF4aXMgQUlcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIHNtOnRleHQteGwgdGV4dC1ncmF5LTMwMCBmb250LWxpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAg157Xqteo15LXnteZ150g15vXkNeV16Eg15HXqdeV16cg15zXkdeU15nXqNeV16og15DXldek16jXmNeZ15HXmdeqXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IEJyZWFkY3J1bWIgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxuYXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwIG1iLTZcIiBhcmlhLWxhYmVsPVwiQnJlYWRjcnVtYlwiPlxuICAgICAgICAgICAgICAgICAgICA8b2wgY2xhc3NOYW1lPVwibGlzdC1ub25lIHAtMCBpbmxpbmUtZmxleFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJob3Zlcjp0ZXh0LXRlYWwtNDAwXCI+15HXmdeqPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1jaGV2cm9uLWxlZnQgbXgtMlwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCI+15zXldeXINee15fXldeV16DXmdedPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPC9vbD5cbiAgICAgICAgICAgICAgICA8L25hdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgR2xvYmFsRmlsdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBnbG9iYWxGaWx0ZXIsIHNldEdsb2JhbEZpbHRlciwgZ2xvYmFsU2VhcmNoUXVlcnksIHNldEdsb2JhbFNlYXJjaFF1ZXJ5IH0gPSB1c2VEYXRhKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBwLTQgcm91bmRlZC1sZyBtYi04IGZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPteh16DXnyDXoteh16fXkNeV16o6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAge1sn15TXm9ecJywgJ9ek16rXldeXJywgJ9eh15LXldeoJ10ubWFwKHN0YXR1cyA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzdGF0dXN9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRHbG9iYWxGaWx0ZXIoc3RhdHVzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0xIHRleHQteHMgcm91bmRlZC1tZCAke2dsb2JhbEZpbHRlciA9PT0gc3RhdHVzID8gJ2JnLWluZGlnby02MDAgdGV4dC13aGl0ZScgOiAnYmctZ3JheS02MDAnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi15fXpNepINec16TXmSDXodeZ157XldecLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Z2xvYmFsU2VhcmNoUXVlcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRHbG9iYWxTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctYXV0byBwci04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtc2VhcmNoIGFic29sdXRlIHJpZ2h0LTIgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHRleHQtZ3JheS00MDBcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBLcGlDYXJkID0gKHsgdGl0bGUsIHZhbHVlLCBjaGFuZ2UsIGlzUG9zaXRpdmUgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29sb3JDbGFzcyA9IGlzUG9zaXRpdmUgPT09IG51bGwgPyAndGV4dC1ncmF5LTMwMCcgOiAoaXNQb3NpdGl2ZSA/ICd0ZXh0LWdyZWVuLTQwMCcgOiAndGV4dC1yZWQtNDAwJyk7XG4gICAgICAgICAgICBjb25zdCBpY29uID0gaXNQb3NpdGl2ZSA/ICdmYS1hcnJvdy11cCcgOiAnZmEtYXJyb3ctZG93bic7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS03MDAgcC00IHJvdW5kZWQtbGcgc2hhZG93LW1kIGZsZXggZmxleC1jb2wganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbSBmb250LW1lZGl1bVwiPnt0aXRsZX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlXCI+e3ZhbHVlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtICR7Y29sb3JDbGFzc31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjaGFuZ2UgJiYgaXNQb3NpdGl2ZSAhPT0gbnVsbCAmJiA8aSBjbGFzc05hbWU9e2BmYXMgJHtpY29ufSBtbC0xYH0+PC9pPn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntjaGFuZ2V9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgS3BpU2VjdGlvbiA9ICh7IGNhbGN1bGF0ZWREYXRhIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gdXNlRGF0YSgpO1xuICAgICAgICAgICAgY29uc3QgeyBkYWlseVBMVVNELCBidXlpbmdQb3dlclVTRCB9ID0gZGF0YS5zZWN0aW9uMTtcbiAgICAgICAgICAgIGNvbnN0IHsgY3VycmVudFBvcnRmb2xpb1ZhbHVlVVNELCB0b3RhbFBMVVNELCB0b3RhbFBMUGVyY2VudGFnZSB9ID0gY2FsY3VsYXRlZERhdGE7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIG1kOmdyaWQtY29scy00IGdhcC00IG1iLThcIj5cbiAgICAgICAgICAgICAgICAgICAgPEtwaUNhcmQgdGl0bGU9XCLXoteo15og16rXmdenINeg15XXm9eX15kgKCQpXCIgdmFsdWU9e2AkJHsocGFyc2VGbG9hdChjdXJyZW50UG9ydGZvbGlvVmFsdWVVU0QpIHx8IDApLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwge21pbmltdW1GcmFjdGlvbkRpZ2l0czogMiwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyfSl9YH0gY2hhbmdlPVwiXCIgaXNQb3NpdGl2ZT17bnVsbH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPEtwaUNhcmQgdGl0bGU9XCLXqNeV15XXly/XlNek16HXkyDXm9eV15zXnCAoJClcIiB2YWx1ZT17YCQkeyhwYXJzZUZsb2F0KHRvdGFsUExVU0QpIHx8IDApLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwge21pbmltdW1GcmFjdGlvbkRpZ2l0czogMiwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyfSl9YH0gY2hhbmdlPXtgJHsocGFyc2VGbG9hdCh0b3RhbFBMUGVyY2VudGFnZSkgfHwgMCkudG9GaXhlZCgyKX0lYH0gaXNQb3NpdGl2ZT17dG90YWxQTFVTRCA+PSAwfSAvPlxuICAgICAgICAgICAgICAgICAgICA8S3BpQ2FyZCB0aXRsZT1cIteo15XXldeXL9eU16TXodeTINeZ15XXnteZICgkKVwiIHZhbHVlPXtgJCR7KGRhaWx5UExVU0QgfHwgMCkudG9Mb2NhbGVTdHJpbmcoKX1gfSBjaGFuZ2U9XCJcIiBpc1Bvc2l0aXZlPXtkYWlseVBMVVNEID49IDB9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxLcGlDYXJkIHRpdGxlPVwi15vXldeXINen16DXmdeZ15QgKCQpXCIgdmFsdWU9e2AkJHsoYnV5aW5nUG93ZXJVU0QgfHwgMCkudG9Mb2NhbGVTdHJpbmcoKX1gfSBjaGFuZ2U9XCJcIiBpc1Bvc2l0aXZlPXtudWxsfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IENvbnRyb2xQYW5lbCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgc2V0RGF0YSwgc2V0QXBpU3RhdHVzLCBpc0RhdGFEaXJ0eSwgY3VycmVudFRyYWRlSWQsIGNoYW5nZURlc2NyaXB0aW9uLCBzZXRDaGFuZ2VEZXNjcmlwdGlvbiwgcG9wdWxhdGVEYXNoYm9hcmREYXRhLCBzZXRJc0xpdmVEYXRhU2V0IH0gPSB1c2VEYXRhKCk7XG4gICAgICAgICAgICBjb25zdCB7IHNhdmVPclVwZGF0ZVRyYWRlLCBpbXBvcnREYXRhRnJvbUpzb24sIHVzZXJJZCwgZGIsIGlzQXV0aFJlYWR5IH0gPSB1c2VGaXJlYmFzZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBbaXNCYWNrdXBLaXRPcGVuLCBzZXRJc0JhY2t1cEtpdE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgW2lzRXhwb3J0TW9kYWxPcGVuLCBzZXRJc0V4cG9ydE1vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBbaXNUcmFpbmluZ0NlbnRlck9wZW4sIHNldElzVHJhaW5pbmdDZW50ZXJPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IFtpc0tub3dsZWRnZUJhc2VPcGVuLCBzZXRJc0tub3dsZWRnZUJhc2VPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IFtyZXN0b3JlQ29kZSwgc2V0UmVzdG9yZUNvZGVdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgY29uc3QgW2ltcG9ydENvZGUsIHNldEltcG9ydENvZGVdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgY29uc3QgW2dpdGh1YlRva2VuLCBzZXRHaXRodWJUb2tlbl0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgICAgICAgICBjb25zdCBbYWxwaGFWYW50YWdlS2V5LCBzZXRBbHBoYVZhbnRhZ2VLZXldID0gdXNlU3RhdGUoJ1U0NDY0NTIyVzZWNjlQNUcnKTtcbiAgICAgICAgICAgIGNvbnN0IFtnaXN0VXJsLCBzZXRHaXN0VXJsXSA9IHVzZVN0YXRlKCcnKTtcbiAgICAgICAgICAgIGNvbnN0IFtpc0dpc3RMb2FkaW5nLCBzZXRJc0dpc3RMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IGltcG9ydEZpbGVSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hTZXR0aW5ncyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXV0aFJlYWR5ICYmIGRiICYmIHVzZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwSWQgPSB0eXBlb2YgX19hcHBfaWQgIT09ICd1bmRlZmluZWQnID8gX19hcHBfaWQgOiAnZGVmYXVsdC1hcHAtaWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2l0aHViRG9jUmVmID0gZmlyZWJhc2UuZG9jKGRiLCBgYXJ0aWZhY3RzLyR7YXBwSWR9L3VzZXJzLyR7dXNlcklkfS9zZXR0aW5ncy9naXRodWJgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF2RG9jUmVmID0gZmlyZWJhc2UuZG9jKGRiLCBgYXJ0aWZhY3RzLyR7YXBwSWR9L3VzZXJzLyR7dXNlcklkfS9zZXR0aW5ncy9hbHBoYVZhbnRhZ2VgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW2dpdGh1YlNuYXAsIGF2U25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbZmlyZWJhc2UuZ2V0RG9jKGdpdGh1YkRvY1JlZiksIGZpcmViYXNlLmdldERvYyhhdkRvY1JlZildKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdpdGh1YlNuYXAuZXhpc3RzKCkpIHNldEdpdGh1YlRva2VuKGdpdGh1YlNuYXAuZGF0YSgpLnRva2VuIHx8ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdlNuYXAuZXhpc3RzKCkpIHNldEFscGhhVmFudGFnZUtleShhdlNuYXAuZGF0YSgpLmtleSB8fCAnVTQ0NjQ1MjJXNlY2OVA1RycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmZXRjaFNldHRpbmdzKCk7XG4gICAgICAgICAgICB9LCBbaXNBdXRoUmVhZHksIGRiLCB1c2VySWRdKTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlVG9rZW5DaGFuZ2UgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgc2V0R2l0aHViVG9rZW4obmV3VG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChpc0F1dGhSZWFkeSAmJiBkYiAmJiB1c2VySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwcElkID0gdHlwZW9mIF9fYXBwX2lkICE9PSAndW5kZWZpbmVkJyA/IF9fYXBwX2lkIDogJ2RlZmF1bHQtYXBwLWlkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzRG9jUmVmID0gZmlyZWJhc2UuZG9jKGRiLCBgYXJ0aWZhY3RzLyR7YXBwSWR9L3VzZXJzLyR7dXNlcklkfS9zZXR0aW5ncy9naXRodWJgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGZpcmViYXNlLnNldERvYyhzZXR0aW5nc0RvY1JlZiwgeyB0b2tlbjogbmV3VG9rZW4gfSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLXqdeS15nXkNeUINeR16nXnteZ16jXqiDXmNeV16fXnyBHaXRIdWI6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi15zXkCDXoNeZ16rXnyDXnNep157XldeoINeQ16og15jXlden158gR2l0SHViLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUFwaUtleUNoYW5nZSA9IGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3S2V5ID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgc2V0QWxwaGFWYW50YWdlS2V5KG5ld0tleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0F1dGhSZWFkeSAmJiBkYiAmJiB1c2VySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwSWQgPSB0eXBlb2YgX19hcHBfaWQgIT09ICd1bmRlZmluZWQnID8gX19hcHBfaWQgOiAnZGVmYXVsdC1hcHAtaWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzRG9jUmVmID0gZmlyZWJhc2UuZG9jKGRiLCBgYXJ0aWZhY3RzLyR7YXBwSWR9L3VzZXJzLyR7dXNlcklkfS9zZXR0aW5ncy9hbHBoYVZhbnRhZ2VgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBmaXJlYmFzZS5zZXREb2Moc2V0dGluZ3NEb2NSZWYsIHsga2V5OiBuZXdLZXkgfSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcItep15LXmdeQ15Qg15HXqdee15nXqNeqINee16TXqteXIEFQSTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi15zXkCDXoNeZ16rXnyDXnNep157XldeoINeQ16og157XpNeq15cg15QtQVBJLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlUmVmcmVzaERhdGEgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlja2VyID0gZGF0YS5zZWN0aW9uMi50aWNrZXJTeW1ib2w7XG4gICAgICAgICAgICAgICAgaWYgKCFhbHBoYVZhbnRhZ2VLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLXmdepINec15TXlteZ158g157XpNeq15cgQVBJINep15wgQWxwaGEgVmFudGFnZSDXqteX15nXnNeULlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZldGNoQXBpRGF0YSh0aWNrZXIsIGFscGhhVmFudGFnZUtleSwgc2V0RGF0YSwgc2V0QXBpU3RhdHVzLCBzZXRJc0xpdmVEYXRhU2V0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIteZ16kg15zXlNeW15nXnyDXodeZ157XldecINee16DXmdeUINeq15fXmdec15QuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlUmVzdG9yZUNvZGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YVRvRXhwb3J0ID0geyBtYWluRGF0YTogZGF0YSB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZGF0YVRvRXhwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0Q29kZSA9IGJ0b2EoanNvblN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3RvcmVDb2RlKGJhc2U2NENvZGUpO1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgn16fXldeTINeU16nXl9eW15XXqCDXoNeV16bXqCDXkdeU16bXnNeX15QuJyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9ep15LXmdeQ15Qg15HXmdem15nXqNeqINen15XXkyDXqdeX15bXldeoOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaW1wb3J0RnJvbUNvZGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbXBvcnRDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfXmdepINec15TXk9eR15nXpyDXp9eV15Mg16nXl9eW15XXqCDXqteX15nXnNeULicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb25TdHJpbmcgPSBhdG9iKGltcG9ydENvZGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbXBvcnRlZERhdGEgPSBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZURhc2hib2FyZERhdGEoaW1wb3J0ZWREYXRhLm1haW5EYXRhLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9eU16DXqteV16DXmdedINeg15jXoteg15Ug15HXlNem15zXl9eUINee15TXp9eV15MhINec15fXpSDXotecIFwi16nXnteV16hcIiDXkNeVIFwi16LXk9eb159cIiDXm9eT15kg15zXodeg15vXqNefINei150g15TXoteg158uJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldEltcG9ydENvZGUoJycpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfXqdeS15nXkNeUINeR15nXmdeR15XXkCDXnteU16fXldeTLiDXmdeZ16rXm9efINep15TXp9eV15Mg15DXmdeg15Ug16rXp9eZ1586ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBjb3B5VG9DbGlwYm9hcmQgPSAodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGV4dCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgICAgICAgICB0ZXh0YXJlYS52YWx1ZSA9IHRleHQ7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7XG4gICAgICAgICAgICAgICAgdGV4dGFyZWEuc2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRhcmVhKTtcbiAgICAgICAgICAgICAgICBhbGVydCgn15TXldei16rXpyDXnNec15XXlyEnKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGJhY2t1cFRvR2lzdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWdpdGh1YlRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfXmdepINec15TXlteZ158g15jXlden158g15LXmdep15Qg15DXmdep15kg16nXnCBHaXRIdWIg16rXl9eZ15zXlC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRJc0dpc3RMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIHNldEdpc3RVcmwoJycpO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YVRvRXhwb3J0ID0geyBtYWluRGF0YTogZGF0YSB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdQcmF4aXNBSV9EYXNoYm9hcmQuaHRtbCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1ByYXhpc0FJX0RhdGEuanNvbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShkYXRhVG9FeHBvcnQsIG51bGwsIDIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9naXN0cycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYHRva2VuICR7Z2l0aHViVG9rZW59YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL3ZuZC5naXRodWIudjMranNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgUHJheGlzIEFJIERhc2hib2FyZCBCYWNrdXAgLSAke25ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1YmxpYzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXM6IGZpbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYNep15LXmdeQ16ogR2l0SHViIEFQSTogJHtlcnJvckRhdGEubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdpc3REYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICBzZXRHaXN0VXJsKGdpc3REYXRhLmh0bWxfdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9eU15LXmdeR15XXmSDXnC1HaXN0INeU15XXqdec150g15HXlNem15zXl9eUIScpO1xuXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9ep15LXmdeQ15Qg15HXkteZ15HXldeZINecLUdpc3Q6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0dpc3RMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAge2lzQmFja3VwS2l0T3BlbiAmJiA8QmFja3VwS2l0TW9kYWwgXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRJc0JhY2t1cEtpdE9wZW4oZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdG9yZUNvZGU9e3Jlc3RvcmVDb2RlfVxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0Q29kZT17aW1wb3J0Q29kZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEltcG9ydENvZGU9e3NldEltcG9ydENvZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZVJlc3RvcmVDb2RlPXtnZW5lcmF0ZVJlc3RvcmVDb2RlfVxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0RnJvbUNvZGU9e2ltcG9ydEZyb21Db2RlfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29weVRvQ2xpcGJvYXJkPXtjb3B5VG9DbGlwYm9hcmR9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPn1cbiAgICAgICAgICAgICAgICAgICAge2lzRXhwb3J0TW9kYWxPcGVuICYmIDxFeHBvcnRNb2RhbCBvbkNsb3NlPXsoKSA9PiBzZXRJc0V4cG9ydE1vZGFsT3BlbihmYWxzZSl9IC8+fVxuICAgICAgICAgICAgICAgICAgICB7aXNUcmFpbmluZ0NlbnRlck9wZW4gJiYgPEFpVHJhaW5pbmdDZW50ZXJNb2RhbCBvbkNsb3NlPXsoKSA9PiBzZXRJc1RyYWluaW5nQ2VudGVyT3BlbihmYWxzZSl9IC8+fVxuICAgICAgICAgICAgICAgICAgICB7aXNLbm93bGVkZ2VCYXNlT3BlbiAmJiA8S25vd2xlZGdlQmFzZU1vZGFsIG9uQ2xvc2U9eygpID0+IHNldElzS25vd2xlZGdlQmFzZU9wZW4oZmFsc2UpfSAvPn1cblxuICAgICAgICAgICAgICAgICAgICA8U2VjdGlvbiB0aXRsZT1cIteR16fXqNeqINee16LXqNeb16og15XXp9ec15gv16TXnNeYXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb25DYXJkIGljb249XCJmYS1jb2dzXCIgdGl0bGU9XCLXpNei15XXnNeV16og15XXoNeZ15TXldecINeg16rXldeg15nXnVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMiBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctaW5kaWdvLTYwMCBob3ZlcjpiZy1pbmRpZ28tNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0yIHB4LTQgcm91bmRlZC1sZyBzaGFkb3ctbWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGRpc2FibGVkOm9wYWNpdHktNTAgbWluLWgtWzQ0cHhdXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3NhdmVPclVwZGF0ZVRyYWRlfSBkaXNhYmxlZD17IWlzRGF0YURpcnR5fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1zYXZlIG1sLTJcIj48L2k+IHtjdXJyZW50VHJhZGVJZCA/ICfXoteT15vXnyDXoteh16fXlCcgOiAn16nXnteV16gg16LXoden15Qg15fXk9ep15QnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy10ZWFsLTYwMCBob3ZlcjpiZy10ZWFsLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMiBweC00IHJvdW5kZWQtbGcgc2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1bNDRweF1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVmcmVzaERhdGF9IHRpdGxlPVwi16jXoteg158g16DXqteV16DXmSDXqdeV16cg15fXmdeZ151cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1zeW5jLWFsdCBtbC0yXCI+PC9pPiDXqNei16DXnyDXoNeq15XXoNeZ151cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0SXNCYWNrdXBLaXRPcGVuKHRydWUpfSBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCB0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1zZW1pYm9sZCBweS0yIHB4LTIgcm91bmRlZC1sZyBzaGFkb3ctbWQgdHJhbnNpdGlvbi1hbGwgbWluLWgtWzQ0cHhdXCIgdGl0bGU9XCLXpNeq15cg15DXqiDXoteo15vXqiDXlNeS15nXkdeV15kg15TXntec15DXlFwiPjxpIGNsYXNzTmFtZT1cImZhcyBmYS1hcmNoaXZlIG1sLTFcIj48L2k+INei16jXm9eqINeS15nXkdeV15kg157XnNeQ15Q8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBpbXBvcnRGaWxlUmVmLmN1cnJlbnQuY2xpY2soKX0gY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgcHktMiBweC0yIHJvdW5kZWQtbGcgc2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIG1pbi1oLVs0NHB4XVwiIHRpdGxlPVwi15nXmdeR15Ag16DXqteV16DXmdedINee16fXldeR16Ug15LXmdeR15XXmSBKU09OXCI+PGkgY2xhc3NOYW1lPVwiZmFzIGZhLWZpbGUtdXBsb2FkIG1sLTFcIj48L2k+INeZ15nXkdeV15Ag16DXqteV16DXmdedIChKU09OKTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiByZWY9e2ltcG9ydEZpbGVSZWZ9IG9uQ2hhbmdlPXtpbXBvcnREYXRhRnJvbUpzb259IGNsYXNzTmFtZT1cImhpZGRlblwiIGFjY2VwdD1cIi5qc29uXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0SXNFeHBvcnRNb2RhbE9wZW4odHJ1ZSl9IGNsYXNzTmFtZT1cInctZnVsbCBiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgdGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgcHktMiBweC0yIHJvdW5kZWQtbGcgc2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIG1pbi1oLVs0NHB4XVwiIHRpdGxlPVwi15nXmdem15Ag15PXldeXIFBERiDXnteV16rXkNedINeQ15nXqdeZ16pcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtZmlsZS1wZGYgbWwtMVwiPjwvaT4g15nXmdem15XXkCBQREYg157Xldeq15DXnTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRJc1RyYWluaW5nQ2VudGVyT3Blbih0cnVlKX0gY2xhc3NOYW1lPVwidy1mdWxsIGJnLW9yYW5nZS01MDAgaG92ZXI6Ymctb3JhbmdlLTYwMCB0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1zZW1pYm9sZCBweS0yIHB4LTIgcm91bmRlZC1sZyBzaGFkb3ctbWQgdHJhbnNpdGlvbi1hbGwgbWluLWgtWzQ0cHhdXCIgdGl0bGU9XCLXpNeq15cg15DXqiDXnteo15vXliDXlNeQ15nXnteV158g16nXnCDXlC1BSVwiPjxpIGNsYXNzTmFtZT1cImZhcyBmYS1icmFpbiBtbC0xXCI+PC9pPiDXnteo15vXliDXkNeZ157XldefIEFJPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0SXNLbm93bGVkZ2VCYXNlT3Blbih0cnVlKX0gY2xhc3NOYW1lPVwidy1mdWxsIGJnLWN5YW4tNjAwIGhvdmVyOmJnLWN5YW4tNzAwIHRleHQtd2hpdGUgdGV4dC1zbSBmb250LXNlbWlib2xkIHB5LTIgcHgtMiByb3VuZGVkLWxnIHNoYWRvdy1tZCB0cmFuc2l0aW9uLWFsbCBtaW4taC1bNDRweF1cIiB0aXRsZT1cItek16rXlyDXkNeqINee15DXkteoINeU15nXk9eiXCI+PGkgY2xhc3NOYW1lPVwiZmFzIGZhLWJvb2stb3BlbiBtbC0xXCI+PC9pPiDXnteQ15LXqCDXmdeT16I8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB0ZXh0LXNtIG10LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiY2hhbmdlRGVzY3JpcHRpb25JbnB1dFwiIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgbWItMVwiPteq15nXkNeV16gg15TXqdeZ16DXldeZICjXnNee16LXp9eRINeS16jXodeQ15XXqik6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cImNoYW5nZURlc2NyaXB0aW9uSW5wdXRcIiBwbGFjZWhvbGRlcj1cItec15PXldeS157XlCwg16LXk9eb15XXnyDXoteh16fXlCDXotecIEFBUEwuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbWQgcC0yIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjaGFuZ2VEZXNjcmlwdGlvbn0gb25DaGFuZ2U9eyhlKSA9PiBzZXRDaGFuZ2VEZXNjcmlwdGlvbihlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JbmZvU2VjdGlvbkNhcmQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb25DYXJkIGljb249XCJmYS1rZXlcIiB0aXRsZT1cIteg15nXlNeV15wg157XpNeq15fXldeqIEFQSVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwXCI+15TXltefINeb15DXnyDXkNeqINee16TXqteX15XXqiDXlC1BUEkg16nXnNeaLiDXlNedINeZ15nXqdee16jXlSDXkdem15XXqNeUINee15DXldeR15jXl9eqLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS0zMDBcIj7Xntek16rXlyBBUEkg16nXnCBBbHBoYSBWYW50YWdlPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXthbHBoYVZhbnRhZ2VLZXl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUFwaUtleUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIteU15bXnyDXkNeqINeU157XpNeq15cg16nXnNeaINec16DXqteV16DXmdedINeX15nXmdedXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbXQtMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS0zMDBcIj7XmNeV16fXnyDXkteZ16nXlCDXkNeZ16nXmSDXqdecIEdpdEh1YjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Z2l0aHViVG9rZW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVRva2VuQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi15TXltefINeQ16og15TXmNeV16fXnyDXqdec15og15zXkteZ15HXldeZ15nXnSDXkS1HaXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbXQtMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JbmZvU2VjdGlvbkNhcmQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb25DYXJkIGljb249XCJmYS1jbG91ZC11cGxvYWQtYWx0XCIgdGl0bGU9XCLXkteZ15HXldeZINei16DXnyAoR2l0SHViIEdpc3QpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDBcIj7XkteR15Qg15DXqiDXm9ecINeg15vXodeZINeU16TXqNeV15nXp9eYINecLUdpc3Qg16TXqNeY15kg15XXnteQ15XXkdeY15cg15HXl9ep15HXldefINeULUdpdEh1YiDXqdec15ouPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2JhY2t1cFRvR2lzdH0gZGlzYWJsZWQ9e2lzR2lzdExvYWRpbmd9IGNsYXNzTmFtZT1cInctZnVsbCBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMiBweC00IHJvdW5kZWQtbGcgc2hhZG93LW1kIGRpc2FibGVkOm9wYWNpdHktNTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0dpc3RMb2FkaW5nID8gJ9ee15LXkdeULi4uJyA6ICfXkteR15Qg15wtR2lzdCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2lzdFVybCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTQwMFwiPteU15LXmdeR15XXmSDXlNeV16nXnNedINeR15TXptec15fXlCE8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17Z2lzdFVybH0gdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiIGNsYXNzTmFtZT1cInRleHQtdGVhbC00MDAgaG92ZXI6dW5kZXJsaW5lXCI+16bXpNeUINeRLUdpc3Q8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JbmZvU2VjdGlvbkNhcmQ+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VjdGlvbj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBjb25zdCBCSVREYXNoYm9hcmQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGN1cnJlbnREYXRlVGltZSB9ID0gdXNlRGF0YSgpO1xuICAgICAgICAgICAgY29uc3QgYXBwQ2hhbmdlTG9nID0gW1xuICAgICAgICAgICAgICAgIHsgdmVyc2lvbjogXCI4LjNcIiwgZGF0ZTogXCIyMDI1LTA5LTAyXCIsIGRlc2NyaXB0aW9uOiBcItec15XXp9ec15nXltem15nXlCDXntec15DXlCDXnNei15HXqNeZ16og15XXqteZ16fXldeg15kgUlRMLlwiIH0sXG4gICAgICAgICAgICAgICAgeyB2ZXJzaW9uOiBcIjguMlwiLCBkYXRlOiBcIjIwMjUtMDgtMjJcIiwgZGVzY3JpcHRpb246IFwi16LXk9eb15XXnyDXkteo16HXlC5cIiB9LFxuICAgICAgICAgICAgICAgIHsgdmVyc2lvbjogXCI4LjFcIiwgZGF0ZTogXCIyMDI1LTA4LTIyXCIsIGRlc2NyaXB0aW9uOiBcIlJlZmFjdG9yZWQgY2FsY3VsYXRpb24gbG9naWMgdG8gcmVzb2x2ZSBpbmZpbml0ZSBsb29wIGFuZCBpbnN0YWJpbGl0eS4gUmVzdG9yZWQgZnVsbCBzdG9jayBsaXN0LlwiIH0sXG4gICAgICAgICAgICAgICAgeyB2ZXJzaW9uOiBcIjguMFwiLCBkYXRlOiBcIjIwMjUtMDgtMjJcIiwgZGVzY3JpcHRpb246IFwiRml4ZWQgaW5maW5pdGUgbG9vcCBidWcsIHJldmVydGVkIHRvIEVuZ2xpc2ggVUksIGFuZCByZXN0b3JlZCBmdWxsIHN0b2NrIGRhdGFiYXNlLlwiIH0sXG4gICAgICAgICAgICAgICAgeyB2ZXJzaW9uOiBcIjcuOVwiLCBkYXRlOiBcIjIwMjUtMDgtMjFcIiwgZGVzY3JpcHRpb246IFwiRml4ZWQgaW5maW5pdGUgbG9vcCBidWcgY2F1c2VkIGJ5IHVzZUVmZmVjdCBkZXBlbmRlbmNpZXMuXCIgfSxcbiAgICAgICAgICAgICAgICB7IHZlcnNpb246IFwiNy44XCIsIGRhdGU6IFwiMjAyNS0wOC0yMVwiLCBkZXNjcmlwdGlvbjogXCJVcGRhdGVkIHBvcnRmb2xpbyBzZWN0aW9uIHRvIG1hdGNoIGludmVzdG1lbnQgYWNjb3VudCBzdGF0ZW1lbnRzLlwiIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgbGF0ZXN0VmVyc2lvbiA9IGFwcENoYW5nZUxvZ1swXTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktOTAwIHJvdW5kZWQtbGcgcC00IHNoYWRvdy1tZCBib3JkZXIgYm9yZGVyLWdyYXktNzAwIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LW9yYW5nZS00MDAgZmxleCBpdGVtcy1jZW50ZXIgbWItNFwiPjxpIGNsYXNzTmFtZT1cImZhcyBmYS10YWNob21ldGVyLWFsdCBtbC0zXCI+PC9pPteq16fXmdeg15XXqiDXntei16jXm9eqIChCSVQpPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIHNtOmdyaWQtY29scy00IGdhcC00IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpIGNsYXNzTmFtZT1cImZhcyBmYS1jbG91ZCB0ZXh0LTJ4bCBtYi0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS1ncmVlbi1pbmRpY2F0b3IpJyB9fT48L2k+PHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwXCI+16HXoNeb16jXldefINei16DXnzwvcD48cCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS1ncmVlbi1pbmRpY2F0b3IpJyB9fT7XnteX15XXkdeoPC9wPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+PGkgY2xhc3NOYW1lPVwiZmFzIGZhLXNoaWVsZC1hbHQgdGV4dC0yeGwgbWItMlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGV4dC1jb2xvciknIH19PjwvaT48cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj7XkteZ15HXldeZINee15zXkCDXkNeX16jXldefPC9wPjxwIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC14c1wiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGV4dC1jb2xvciknIH19PnZ7bGF0ZXN0VmVyc2lvbi52ZXJzaW9ufSAoe2xhdGVzdFZlcnNpb24uZGVzY3JpcHRpb259KToge2N1cnJlbnREYXRlVGltZX08L3A+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpIGNsYXNzTmFtZT1cImZhcyBmYS1jaGVjay1jaXJjbGUgdGV4dC0yeGwgbWItMlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tZ3JlZW4taW5kaWNhdG9yKScgfX0+PC9pPjxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTQwMFwiPtep15zXnteV16og16DXqteV16DXmdedPC9wPjxwIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLWdyZWVuLWluZGljYXRvciknIH19Pteq16fXmdefPC9wPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aSBjbGFzc05hbWU9XCJmYXMgZmEtYnJhaW4gdGV4dC0yeGwgbWItMlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tZ3JlZW4taW5kaWNhdG9yKScgfX0+PC9pPjxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTQwMFwiPtep15nXqNeV16rXmSBBSTwvcD48cCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS1ncmVlbi1pbmRpY2F0b3IpJyB9fT7XpNei15nXnNeZ1508L3A+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBWZXJzaW9uTWFuYWdlbWVudENlbnRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFwcENoYW5nZUxvZyA9IFtcbiAgICAgICAgICAgICAgICAgeyB2ZXJzaW9uOiBcIjguM1wiLCBkYXRlOiBcIjIwMjUtMDktMDJcIiwgZGVzY3JpcHRpb246IFwi15zXlden15zXmdeW16bXmdeUINee15zXkNeUINec16LXkdeo15nXqiDXldeq15nXp9eV16DXmSBSVEwuXCIgfSxcbiAgICAgICAgICAgICAgICAgeyB2ZXJzaW9uOiBcIjguMlwiLCBkYXRlOiBcIjIwMjUtMDgtMjJcIiwgZGVzY3JpcHRpb246IFwi16LXk9eb15XXnyDXkteo16HXlC5cIiB9LFxuICAgICAgICAgICAgICAgICB7IHZlcnNpb246IFwiOC4xXCIsIGRhdGU6IFwiMjAyNS0wOC0yMlwiLCBkZXNjcmlwdGlvbjogXCJSZWZhY3RvcmVkIGNhbGN1bGF0aW9uIGxvZ2ljIHRvIHJlc29sdmUgaW5maW5pdGUgbG9vcCBhbmQgaW5zdGFiaWxpdHkuIFJlc3RvcmVkIGZ1bGwgc3RvY2sgbGlzdC5cIiB9LFxuICAgICAgICAgICAgICAgICB7IHZlcnNpb246IFwiOC4wXCIsIGRhdGU6IFwiMjAyNS0wOC0yMlwiLCBkZXNjcmlwdGlvbjogXCJGaXhlZCBpbmZpbml0ZSBsb29wIGJ1ZywgcmV2ZXJ0ZWQgdG8gRW5nbGlzaCBVSSwgYW5kIHJlc3RvcmVkIGZ1bGwgc3RvY2sgZGF0YWJhc2UuXCIgfSxcbiAgICAgICAgICAgICAgICAgeyB2ZXJzaW9uOiBcIjcuOVwiLCBkYXRlOiBcIjIwMjUtMDgtMjFcIiwgZGVzY3JpcHRpb246IFwiRml4ZWQgaW5maW5pdGUgbG9vcCBidWcgY2F1c2VkIGJ5IHVzZUVmZmVjdCBkZXBlbmRlbmNpZXMuXCIgfSxcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFNlY3Rpb24gdGl0bGU9XCLwn5qoINeR16fXqNeqINeS16jXodeQ15XXqiDXldep15fXlteV16hcIj5cbiAgICAgICAgICAgICAgICAgICAgPEluZm9TZWN0aW9uQ2FyZCBpY29uPVwiZmEtaGlzdG9yeVwiIHRpdGxlPVwi15nXldee158g16nXmdeg15XXmdeZ150g15HXkNek15zXmden16bXmdeUXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBvdmVyZmxvdy14LWF1dG9cIiBzdHlsZT17e21heEhlaWdodDogJzI1MHB4J319PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1yaWdodCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJib3JkZXItYiBib3JkZXItZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+15LXqNeh15Q8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTJcIj7XqteQ16jXmdeaPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+16rXmdeQ15XXqDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YXBwQ2hhbmdlTG9nLm1hcChsb2cgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2xvZy52ZXJzaW9ufSBjbGFzc05hbWU9XCJib3JkZXItYiBib3JkZXItZ3JheS03MDAgaG92ZXI6YmctZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMiBmb250LXNlbWlib2xkIHRleHQtdGVhbC00MDBcIj57bG9nLnZlcnNpb259PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMlwiPntsb2cuZGF0ZX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yXCI+e2xvZy5kZXNjcmlwdGlvbn08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvSW5mb1NlY3Rpb25DYXJkPlxuICAgICAgICAgICAgICAgIDwvU2VjdGlvbj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgVHJhZGVMb2dNYW5hZ2VyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB0cmFkZUxvZywgbG9hZFRyYWRlLCBuZXdUcmFkZSwgZ2xvYmFsRmlsdGVyLCBnbG9iYWxTZWFyY2hRdWVyeSB9ID0gdXNlRGF0YSgpO1xuICAgICAgICAgICAgY29uc3QgW3NvcnRDb25maWcsIHNldFNvcnRDb25maWddID0gdXNlU3RhdGUoeyBrZXk6ICdsYXN0VXBkYXRlZCcsIGRpcmVjdGlvbjogJ2Rlc2NlbmRpbmcnIH0pO1xuICAgICAgICAgICAgY29uc3QgW2RhdGVSYW5nZSwgc2V0RGF0ZVJhbmdlXSA9IHVzZVN0YXRlKHsgc3RhcnQ6ICcnLCBlbmQ6ICcnIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBzb3J0ZWRBbmRGaWx0ZXJlZFRyYWRlcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXJlZCA9IFsuLi50cmFkZUxvZ107XG5cbiAgICAgICAgICAgICAgICAvLyBHbG9iYWwgU3RhdHVzICYgU2VhcmNoIEZpbHRlclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKHRyYWRlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzSW5IZWJyZXcgPSB0cmFkZS5zdGF0dXMgPT09ICdPcGVuJyA/ICfXpNeq15XXlycgOiAodHJhZGUuc3RhdHVzID09PSAnQ2xvc2VkJyA/ICfXodeS15XXqCcgOiB0cmFkZS5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNNYXRjaCA9IGdsb2JhbEZpbHRlciA9PT0gJ9eU15vXnCcgfHwgc3RhdHVzSW5IZWJyZXcgPT09IGdsb2JhbEZpbHRlcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoTWF0Y2ggPSB0cmFkZS50aWNrZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhnbG9iYWxTZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1c01hdGNoICYmIHNlYXJjaE1hdGNoO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRGF0ZSBSYW5nZSBGaWx0ZXJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZVJhbmdlLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKHRyYWRlID0+IG5ldyBEYXRlKHRyYWRlLmxhc3RVcGRhdGVkKSA+PSBuZXcgRGF0ZShkYXRlUmFuZ2Uuc3RhcnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGVSYW5nZS5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKGRhdGVSYW5nZS5lbmQpO1xuICAgICAgICAgICAgICAgICAgICBlbmREYXRlLnNldEhvdXJzKDIzLCA1OSwgNTksIDk5OSk7IC8vIEluY2x1ZGUgdGhlIHdob2xlIGVuZCBkYXlcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIodHJhZGUgPT4gbmV3IERhdGUodHJhZGUubGFzdFVwZGF0ZWQpIDw9IGVuZERhdGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNvcnRpbmdcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhVmFsdWUsIGJWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc29ydENvbmZpZy5rZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BubCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVZhbHVlID0gcGFyc2VGbG9hdChhLmRhdGEuc2VjdGlvbjguc3RlcDQuZmluYW5jaWFsUmVzdWx0KSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJWYWx1ZSA9IHBhcnNlRmxvYXQoYi5kYXRhLnNlY3Rpb244LnN0ZXA0LmZpbmFuY2lhbFJlc3VsdCkgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JvaSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVZhbHVlID0gcGFyc2VGbG9hdChhLmRhdGEuc2VjdGlvbjguc3RlcDQucm9pKSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJWYWx1ZSA9IHBhcnNlRmxvYXQoYi5kYXRhLnNlY3Rpb244LnN0ZXA0LnJvaSkgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVZhbHVlID0gYVtzb3J0Q29uZmlnLmtleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYlZhbHVlID0gYltzb3J0Q29uZmlnLmtleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhVmFsdWUgPCBiVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3J0Q29uZmlnLmRpcmVjdGlvbiA9PT0gJ2FzY2VuZGluZycgPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFWYWx1ZSA+IGJWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvcnRDb25maWcuZGlyZWN0aW9uID09PSAnYXNjZW5kaW5nJyA/IDEgOiAtMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgICAgICAgICAgIH0sIFt0cmFkZUxvZywgZ2xvYmFsRmlsdGVyLCBnbG9iYWxTZWFyY2hRdWVyeSwgc29ydENvbmZpZywgZGF0ZVJhbmdlXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RTb3J0ID0gKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSAnYXNjZW5kaW5nJztcbiAgICAgICAgICAgICAgICBpZiAoc29ydENvbmZpZy5rZXkgPT09IGtleSAmJiBzb3J0Q29uZmlnLmRpcmVjdGlvbiA9PT0gJ2FzY2VuZGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2Rlc2NlbmRpbmcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRTb3J0Q29uZmlnKHsga2V5LCBkaXJlY3Rpb24gfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBzdW1tYXJ5ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xvc2VkVHJhZGVzID0gc29ydGVkQW5kRmlsdGVyZWRUcmFkZXMuZmlsdGVyKHQgPT4gdC5zdGF0dXMgIT09ICdPcGVuJyAmJiB0LmRhdGEuc2VjdGlvbjguc3RlcDQuZmluYW5jaWFsUmVzdWx0KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFBubCA9IGNsb3NlZFRyYWRlcy5yZWR1Y2UoKGFjYywgdCkgPT4gYWNjICsgcGFyc2VGbG9hdCh0LmRhdGEuc2VjdGlvbjguc3RlcDQuZmluYW5jaWFsUmVzdWx0KSwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2lubmluZ1RyYWRlcyA9IGNsb3NlZFRyYWRlcy5maWx0ZXIodCA9PiBwYXJzZUZsb2F0KHQuZGF0YS5zZWN0aW9uOC5zdGVwNC5maW5hbmNpYWxSZXN1bHQpID4gMCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2luUmF0ZSA9IGNsb3NlZFRyYWRlcy5sZW5ndGggPiAwID8gKHdpbm5pbmdUcmFkZXMubGVuZ3RoIC8gY2xvc2VkVHJhZGVzLmxlbmd0aCkgKiAxMDAgOiAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsVHJhZGVzOiBzb3J0ZWRBbmRGaWx0ZXJlZFRyYWRlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUG5sOiB0b3RhbFBubC50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgICAgICB3aW5SYXRlOiB3aW5SYXRlLnRvRml4ZWQoMiksXG4gICAgICAgICAgICAgICAgICAgIHdpbm5pbmdUcmFkZXM6IHdpbm5pbmdUcmFkZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBsb3NpbmdUcmFkZXM6IGNsb3NlZFRyYWRlcy5sZW5ndGggLSB3aW5uaW5nVHJhZGVzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSwgW3NvcnRlZEFuZEZpbHRlcmVkVHJhZGVzXSk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFNlY3Rpb24gdGl0bGU9XCLXmdeV157XnyDXoteh16fXkNeV16og157Xqten15PXnVwiPlxuICAgICAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb25DYXJkIGljb249XCJmYS1ib29rXCIgdGl0bGU9XCLXoNeU15wg15XXoNeq15cg15DXqiDXlNei16HXp9eQ15XXqiDXqdec15pcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTQganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc21cIj7Xnteq15DXqNeZ15o6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgdmFsdWU9e2RhdGVSYW5nZS5zdGFydH0gb25DaGFuZ2U9e2UgPT4gc2V0RGF0ZVJhbmdlKHsuLi5kYXRlUmFuZ2UsIHN0YXJ0OiBlLnRhcmdldC52YWx1ZX0pfSBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbWQgcC0xIHRleHQtc21cIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+16LXkzo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiB2YWx1ZT17ZGF0ZVJhbmdlLmVuZH0gb25DaGFuZ2U9e2UgPT4gc2V0RGF0ZVJhbmdlKHsuLi5kYXRlUmFuZ2UsIGVuZDogZS50YXJnZXQudmFsdWV9KX0gY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgYm9yZGVyIGJvcmRlci1ncmF5LTYwMCByb3VuZGVkLW1kIHAtMSB0ZXh0LXNtXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17bmV3VHJhZGV9IGNsYXNzTmFtZT1cImJnLWdyZWVuLTYwMCBob3ZlcjpiZy1ncmVlbi03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtNCByb3VuZGVkLWxnIHNoYWRvdy1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtcGx1cyBtbC0yXCI+PC9pPtei16HXp9eUINeX15PXqdeUXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIG1kOmdyaWQtY29scy00IGdhcC00IG1iLTQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8S3BpQ2FyZCB0aXRsZT1cIteo15XXldeXL9eU16TXodeTINeb15XXnNecXCIgdmFsdWU9e2AkJHtzdW1tYXJ5LnRvdGFsUG5sfWB9IGNoYW5nZT1cIlwiIGlzUG9zaXRpdmU9e3N1bW1hcnkudG90YWxQbmwgPj0gMH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8S3BpQ2FyZCB0aXRsZT1cItep15nXoteV16gg15TXptec15fXlFwiIHZhbHVlPXtgJHtzdW1tYXJ5LndpblJhdGV9JWB9IGNoYW5nZT1cIlwiIGlzUG9zaXRpdmU9e3N1bW1hcnkud2luUmF0ZSA+PSA1MH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8S3BpQ2FyZCB0aXRsZT1cItei16HXp9eQ15XXqiDXqNeV15XXl9eZ15XXqlwiIHZhbHVlPXtzdW1tYXJ5Lndpbm5pbmdUcmFkZXN9IGNoYW5nZT1cIlwiIGlzUG9zaXRpdmU9e3RydWV9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEtwaUNhcmQgdGl0bGU9XCLXoteh16fXkNeV16og15TXpNeh15PXmdeV16pcIiB2YWx1ZT17c3VtbWFyeS5sb3NpbmdUcmFkZXN9IGNoYW5nZT1cIlwiIGlzUG9zaXRpdmU9e2ZhbHNlfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG92ZXJmbG93LXgtYXV0b1wiIHN0eWxlPXt7bWF4SGVpZ2h0OiAnNDAwcHgnfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LXJpZ2h0IHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTIgY3Vyc29yLXBvaW50ZXJcIiBvbkNsaWNrPXsoKSA9PiByZXF1ZXN0U29ydCgndGlja2VyJyl9Pteh15nXnteV15wgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXNvcnRcIj48L2k+PC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yIGN1cnNvci1wb2ludGVyXCIgb25DbGljaz17KCkgPT4gcmVxdWVzdFNvcnQoJ3N0YXR1cycpfT7XodeY15jXldehIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1zb3J0XCI+PC9pPjwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMiBjdXJzb3ItcG9pbnRlclwiIG9uQ2xpY2s9eygpID0+IHJlcXVlc3RTb3J0KCdsYXN0VXBkYXRlZCcpfT7XoteT15vXldefINeQ15fXqNeV158gPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXNvcnRcIj48L2k+PC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yIGN1cnNvci1wb2ludGVyXCIgb25DbGljaz17KCkgPT4gcmVxdWVzdFNvcnQoJ3BubCcpfT7XqNeV15XXly/XlNek16HXkyAoJCkgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXNvcnRcIj48L2k+PC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yIGN1cnNvci1wb2ludGVyXCIgb25DbGljaz17KCkgPT4gcmVxdWVzdFNvcnQoJ3JvaScpfT7Xqtep15XXkNeUICglKSA8aSBjbGFzc05hbWU9XCJmYXMgZmEtc29ydFwiPjwvaT48L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTIgdGV4dC1jZW50ZXJcIj7XpNei15XXnNeV16o8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NvcnRlZEFuZEZpbHRlcmVkVHJhZGVzLm1hcCh0cmFkZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG5sID0gcGFyc2VGbG9hdCh0cmFkZS5kYXRhLnNlY3Rpb244LnN0ZXA0LmZpbmFuY2lhbFJlc3VsdCkgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb2kgPSBwYXJzZUZsb2F0KHRyYWRlLmRhdGEuc2VjdGlvbjguc3RlcDQucm9pKSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17dHJhZGUuaWR9IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yIGZvbnQtYm9sZFwiPnt0cmFkZS50aWNrZXJ9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMlwiPnt0cmFkZS5zdGF0dXMgPT09ICdPcGVuJyA/ICfXpNeq15XXlycgOiAn16HXkteV16gnfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTJcIj57bmV3IERhdGUodHJhZGUubGFzdFVwZGF0ZWQpLnRvTG9jYWxlU3RyaW5nKCl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT17YHAtMiBmb250LXNlbWlib2xkICR7cG5sID49IDAgPyAndGV4dC1ncmVlbi00MDAnIDogJ3RleHQtcmVkLTQwMCd9YH0+e3BubC50b0ZpeGVkKDIpfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9e2BwLTIgZm9udC1zZW1pYm9sZCAke3JvaSA+PSAwID8gJ3RleHQtZ3JlZW4tNDAwJyA6ICd0ZXh0LXJlZC00MDAnfWB9Pntyb2kudG9GaXhlZCgyKX0lPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBsb2FkVHJhZGUodHJhZGUpfSBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCB0ZXh0LXdoaXRlIHRleHQteHMgcHktMSBweC0yIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDXmNei159cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0luZm9TZWN0aW9uQ2FyZD5cbiAgICAgICAgICAgICAgICA8L1NlY3Rpb24+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IEFkdmFuY2VkUmlza01vZHVsZSA9ICh7IHJpc2tEYXRhIH0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFNlY3Rpb24gdGl0bGU9XCLwn5uh77iPINeg15nXlNeV15wg16HXmdeb15XXoNeZ150g157Xqten15PXnVwiPlxuICAgICAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb25DYXJkIGljb249XCJmYS1zaGllbGQtYWx0XCIgdGl0bGU9XCLXl9ep15nXpNeqINeh15nXm9eV158g15HXqteZ16cg15TXlNep16fXoteV16pcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxLcGlDYXJkIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCLXodeZ15vXldefINeb15XXnNecINeR16LXoden15DXldeqINek16rXldeX15XXqlwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2AkJHtyaXNrRGF0YS50b3RhbFJpc2tFeHBvc3VyZS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHttaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMn0pfWB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlPXtgJHtyaXNrRGF0YS5vcGVuVHJhZGVzQ291bnR9INei16HXp9eQ15XXqmB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Bvc2l0aXZlPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGcgdGV4dC10ZWFsLTQwMCBtYi0yXCI+16jXmdeb15XXliDXodeZ15vXldeg15nXnSDXnNek15kg16HXp9eY15XXqDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC0zIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3Qua2V5cyhyaXNrRGF0YS5zZWN0b3JDb25jZW50cmF0aW9uKS5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHJpc2tEYXRhLnNlY3RvckNvbmNlbnRyYXRpb24pLm1hcCgoW3NlY3Rvciwgcmlza10pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3NlY3Rvcn0gY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHRleHQtc20gbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPntzZWN0b3J9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNDAwXCI+JHtyaXNrLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwge21pbmltdW1GcmFjdGlvbkRpZ2l0czogMiwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyfSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj7XkNeZ158g16LXoden15DXldeqINek16rXldeX15XXqiDXnNeg15nXqteV15cuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9JbmZvU2VjdGlvbkNhcmQ+XG4gICAgICAgICAgICAgICAgPC9TZWN0aW9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBUcmFkZURpc3RyaWJ1dGlvbkNoYXJ0ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hhcnRSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgICAgICAgICBjb25zdCB7IHRyYWRlTG9nIH0gPSB1c2VEYXRhKCk7XG5cbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFkZUxvZyB8fCAhY2hhcnRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNoYXJ0UmVmLmN1cnJlbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZWRUcmFkZXMgPSB0cmFkZUxvZy5maWx0ZXIodCA9PiB0LnN0YXR1cyAhPT0gJ09wZW4nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9maXRUcmFkZXMgPSBjbG9zZWRUcmFkZXMuZmlsdGVyKHQgPT4gcGFyc2VGbG9hdCh0LmRhdGEuc2VjdGlvbjguc3RlcDQuZmluYW5jaWFsUmVzdWx0KSA+IDApLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBsb3NzVHJhZGVzID0gY2xvc2VkVHJhZGVzLmxlbmd0aCAtIHByb2ZpdFRyYWRlcztcbiAgICAgICAgICAgICAgICBjb25zdCBvcGVuVHJhZGVzID0gdHJhZGVMb2cuZmlsdGVyKHQgPT4gdC5zdGF0dXMgPT09ICdPcGVuJykubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0UmVmLmN1cnJlbnQgJiYgY2hhcnRSZWYuY3VycmVudC5jaGFydCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFydFJlZi5jdXJyZW50LmNoYXJ0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaGFydFJlZi5jdXJyZW50LmNoYXJ0ID0gbmV3IENoYXJ0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGllJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiBbJ9eo15XXldeXJywgJ9eU16TXodeTJywgJ9ek16rXldeXJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBbcHJvZml0VHJhZGVzLCBsb3NzVHJhZGVzLCBvcGVuVHJhZGVzXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFsncmdiYSg3MiwgMTg3LCAxMjAsIDAuNyknLCAncmdiYSgyMzksIDgzLCA4MCwgMC43KScsICdyZ2JhKDY2LCAxNTMsIDIyNSwgMC43KSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBbICdyZ2JhKDcyLCAxODcsIDEyMCwgMSknLCAncmdiYSgyMzksIDgzLCA4MCwgMSknLCAncmdiYSg2NiwgMTUzLCAyMjUsIDEpJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsgcmVzcG9uc2l2ZTogdHJ1ZSwgcGx1Z2luczogeyBsZWdlbmQ6IHsgcG9zaXRpb246ICd0b3AnLCBsYWJlbHM6IHsgY29sb3I6ICd3aGl0ZScsIGZvbnQ6IHsgZmFtaWx5OiAnQXNzaXN0YW50JyB9IH0gfSB9IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4geyBpZihjaGFydFJlZi5jdXJyZW50ICYmIGNoYXJ0UmVmLmN1cnJlbnQuY2hhcnQpIGNoYXJ0UmVmLmN1cnJlbnQuY2hhcnQuZGVzdHJveSgpOyB9O1xuICAgICAgICAgICAgfSwgW3RyYWRlTG9nXSk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEluZm9TZWN0aW9uQ2FyZCBpY29uPVwiZmEtY2hhcnQtcGllXCIgdGl0bGU9XCLXlNeq16TXnNeS15XXqiDXqteV16bXkNeV16og16LXoden15DXldeqXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMCBtYi0yIC1tdC0yXCI+16HXmdeb15XXnSDXqdecINeb15wg16rXldem15DXldeqINeU16LXoden15DXldeqINep16DXqNep157XlS48L3A+XG4gICAgICAgICAgICAgICAgICAgIDxjYW52YXMgcmVmPXtjaGFydFJlZn0+PC9jYW52YXM+XG4gICAgICAgICAgICAgICAgPC9JbmZvU2VjdGlvbkNhcmQ+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IFBvcnRmb2xpb0hpc3RvcnlDaGFydCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJ0UmVmID0gdXNlUmVmKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSB1c2VEYXRhKCk7XG4gICAgICAgICAgICBjb25zdCBbdGltZVJhbmdlLCBzZXRUaW1lUmFuZ2VdID0gdXNlU3RhdGUoOTApO1xuXG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghY2hhcnRSZWYuY3VycmVudCB8fCAhZGF0YS5wb3J0Zm9saW9IaXN0b3J5KSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgY3R4ID0gY2hhcnRSZWYuY3VycmVudC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChjaGFydFJlZi5jdXJyZW50ICYmIGNoYXJ0UmVmLmN1cnJlbnQuY2hhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnRSZWYuY3VycmVudC5jaGFydC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkRGF0YSA9IGRhdGEucG9ydGZvbGlvSGlzdG9yeS5zbGljZSgtdGltZVJhbmdlKTtcblxuICAgICAgICAgICAgICAgIGNoYXJ0UmVmLmN1cnJlbnQuY2hhcnQgPSBuZXcgQ2hhcnQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YXNldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICfXoteo15og15TXqteZ16cnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZpbHRlcmVkRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhBeGlzS2V5OiAndGltZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlBeGlzS2V5OiAndmFsdWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLWFjY2VudC1jb2xvci0yKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAxODgsIDIxMiwgMC4yKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW5zaW9uOiAwLjMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRSYWRpdXM6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGltZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IHsgdW5pdDogJ2RheScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlja3M6IHsgY29sb3I6ICd3aGl0ZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZDogeyBjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC4xKScgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrczogeyBjb2xvcjogJ3doaXRlJywgY2FsbGJhY2s6ICh2YWx1ZSkgPT4gYCQkeyh2YWx1ZS8xMDAwKX1rYCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkOiB7IGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjEpJyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnM6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7IGRpc3BsYXk6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAoY29udGV4dCkgPT4gYNei16jXmjogJCR7Y29udGV4dC5wYXJzZWQueS50b0ZpeGVkKDIpfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7IGlmKGNoYXJ0UmVmLmN1cnJlbnQgJiYgY2hhcnRSZWYuY3VycmVudC5jaGFydCkgY2hhcnRSZWYuY3VycmVudC5jaGFydC5kZXN0cm95KCk7IH07XG4gICAgICAgICAgICB9LCBbZGF0YS5wb3J0Zm9saW9IaXN0b3J5LCB0aW1lUmFuZ2VdKTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb25DYXJkIGljb249XCJmYS1jaGFydC1saW5lXCIgdGl0bGU9XCLXoteo15og15TXqteZ16cg15zXkNeV16jXmiDXltee159cIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwIG1iLTIgLW10LTJcIj7XlNeZ16HXmNeV16jXmdeZ16og15HXmdem15XXoteZINeU16rXmdenLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGdhcC0yIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtbNywgMzAsIDkwXS5tYXAoZGF5cyA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e2RheXN9IG9uQ2xpY2s9eygpID0+IHNldFRpbWVSYW5nZShkYXlzKX0gY2xhc3NOYW1lPXtgcHgtMyBweS0xIHRleHQteHMgcm91bmRlZC1tZCAke3RpbWVSYW5nZSA9PT0gZGF5cyA/ICdiZy1pbmRpZ28tNjAwIHRleHQtd2hpdGUnIDogJ2JnLWdyYXktNjAwJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RheXN915lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGNhbnZhcyByZWY9e2NoYXJ0UmVmfT48L2NhbnZhcz5cbiAgICAgICAgICAgICAgICA8L0luZm9TZWN0aW9uQ2FyZD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBjb25zdCBBaUFuYWx5c2lzID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBjdXJyZW50VHJhZGVJZCB9ID0gdXNlRGF0YSgpO1xuICAgICAgICAgICAgY29uc3QgeyBkYiwgdXNlcklkLCBpc0F1dGhSZWFkeSB9ID0gdXNlRmlyZWJhc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IFthaUFuYWx5c2lzLCBzZXRBaUFuYWx5c2lzXSA9IHVzZVN0YXRlKFwiXCIpO1xuICAgICAgICAgICAgY29uc3QgW2lzQWlMb2FkaW5nLCBzZXRJc0FpTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGdldEFpQW5hbHlzaXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXNBaUxvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgc2V0QWlBbmFseXNpcyhcIlwiKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IGBcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3ZpZGUgYSBjb25jaXNlIHRlY2huaWNhbCBhbmFseXNpcyBmb3IgdGhlIHN0b2NrICR7ZGF0YS5zZWN0aW9uMi50aWNrZXJTeW1ib2x9IGJhc2VkIE9OTFkgb24gdGhlIGZvbGxvd2luZyBkYXRhOlxuICAgICAgICAgICAgICAgICAgICAgICAgLSBDdXJyZW50IFByaWNlOiAke2RhdGEuc2VjdGlvbjMuY3VycmVudFByaWNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgLSBSU0koMTQpOiAke2RhdGEuc2VjdGlvbjQucnNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgLSBNQUNEIExpbmU6ICR7ZGF0YS5zZWN0aW9uNC5tYWNkfSwgU2lnbmFsIExpbmU6ICR7ZGF0YS5zZWN0aW9uNC5tYWNkU2lnbmFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgLSBNb3ZpbmcgQXZlcmFnZXM6IE1BMjA9JHtkYXRhLnNlY3Rpb240Lm1hMjB9LCBNQTUwPSR7ZGF0YS5zZWN0aW9uNC5tYTUwfSwgTUEyMDA9JHtkYXRhLnNlY3Rpb240Lm1hMjAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgLSBLZXkgU3VwcG9ydDogJHtkYXRhLnNlY3Rpb240LnN1cHBvcnRMZXZlbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAtIEtleSBSZXNpc3RhbmNlOiAke2RhdGEuc2VjdGlvbjQucmVzaXN0YW5jZUxldmVsc31cbiAgICAgICAgICAgICAgICAgICAgICAgIC0gUHJpY2UgdnMgUGl2b3Q6ICR7ZGF0YS5zZWN0aW9uNS5wcmljZVZzUGl2b3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAtIFByaWNlIEFjdGlvbiBQYXR0ZXJuOiAke2RhdGEuc2VjdGlvbjUucHJpY2VBY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0cnVjdHVyZSB5b3VyIHJlc3BvbnNlIGluIHRocmVlIHNob3J0IHBhcmFncmFwaHMgaW4gSGVicmV3OlxuICAgICAgICAgICAgICAgICAgICAgICAgMS4gICoq15TXoteo15vXlCDXm9ec15zXmdeqOioqINei157Xk9eUINeY15vXoNeZ16og16DXldeb15fXmdeqICjXnNeT15XXktee15QsINep15XXqNeZ16osINeT15XXkdeZ16osINeg15nXmNeo15zXmdeqKS5cbiAgICAgICAgICAgICAgICAgICAgICAgIDIuICAqKteh15nXkteg15zXmdedINee16jXm9eW15nXmdedOioqINeU15PXktepINeQ16og15TXodeZ157XoNeZ150g15TXqdeV16jXmdeZ150g15XXlNeT15XXkdeZ15nXnSDXlNee16nXntei15XXqteZ15nXnSDXkdeZ15XXqteoLlxuICAgICAgICAgICAgICAgICAgICAgICAgMy4gICoq16rXqNeX15nXqdeZ150g15DXpNep16jXmdeZ150g15XXlNee15zXpteV16og15jXp9eY15nXldeqOioqINeq15DXqCDXqteo15fXmdep15nXnSDXqdeV16jXmdeZ150g15XXk9eV15HXmdeZ150g15DXpNep16jXmdeZ150g15XXodek16cg15TXntec16bXlCDXmNen15jXmdeqINeq157XpteZ16rXmdeqLlxuICAgICAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGF0SGlzdG9yeSA9IFt7IHJvbGU6IFwidXNlclwiLCBwYXJ0czogW3sgdGV4dDogcHJvbXB0IH1dIH1dO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0geyBjb250ZW50czogY2hhdEhpc3RvcnkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBpS2V5ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBpVXJsID0gXCJodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS92MWJldGEvbW9kZWxzL2dlbWluaS0yLjUtZmxhc2gtcHJldmlldy0wNS0yMDpnZW5lcmF0ZUNvbnRlbnQ/a2V5PVwiICsgYXBpS2V5O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9en16jXmdeQ16og15QtQVBJINeg15vXqdec15Qg16LXnSDXodeY15jXldehOiAnICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY2FuZGlkYXRlcyAmJiByZXN1bHQuY2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gcmVzdWx0LmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWlBbmFseXNpcyh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgYW5hbHlzaXMgdG8gRmlyZWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0F1dGhSZWFkeSAmJiBkYiAmJiB1c2VySWQgJiYgY3VycmVudFRyYWRlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcHBJZCA9IHR5cGVvZiBfX2FwcF9pZCAhPT0gJ3VuZGVmaW5lZCcgPyBfX2FwcF9pZCA6ICdkZWZhdWx0LWFwcC1pZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5hbHlzaXNDb2xsZWN0aW9uUmVmID0gZmlyZWJhc2UuY29sbGVjdGlvbihkYiwgYGFydGlmYWN0cy8ke2FwcElkfS91c2Vycy8ke3VzZXJJZH0vYWlfYW5hbHlzZXNgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBmaXJlYmFzZS5hZGREb2MoYW5hbHlzaXNDb2xsZWN0aW9uUmVmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWRlSWQ6IGN1cnJlbnRUcmFkZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXI6IGRhdGEuc2VjdGlvbjIudGlja2VyU3ltYm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuYWx5c2lzOiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dERhdGE6IHsgLi4uZGF0YS5zZWN0aW9uMywgLi4uZGF0YS5zZWN0aW9uNCwgLi4uZGF0YS5zZWN0aW9uNSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWVkYmFjazogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVlZGJhY2tOb3RlczogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWlBbmFseXNpcyhcItec15Ag16DXmdeq158g15TXmdeUINec16fXkdecINeg15nXqteV15cuINeq15LXldeR16og15TXnteV15PXnCDXlNeZ15nXqteUINeo15nXp9eULlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLXqdeS15nXkNeUINeR16fXkdec16og16DXmdeq15XXlyBBSTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBzZXRBaUFuYWx5c2lzKCfXkNeZ16jXoteUINep15LXmdeQ15Qg15HXoteqINen15HXnNeqINeU16DXmdeq15XXlzogJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzQWlMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxTZWN0aW9uIHRpdGxlPVwi8J+kliDXoNeZ16rXldeXINeY15vXoNeZIEFJXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWktYW5hbHlzaXMtc2VjdGlvbiBjb2wtc3Bhbi1mdWxsIHAtNiByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDAgbWItNFwiPten15HXnCDXoNeZ16rXldeXINeY15vXoNeZINeR15bXntefINeQ157XqiDXqdecINeU157XoNeZ15Qg15TXoNeV15vXl9eZ16osINeR15TXqteR16HXoSDXotecINeU16DXqteV16DXmdedINep15TXlteg16ouINeU16DXmdeq15XXlyDXoNeV16bXqCDXotecINeZ15PXmSDXnteV15PXnCBBSSDXnteq16fXk9edINep15DXldee158g16LXnCDXoten16jXldeg15XXqiDXoNeZ16rXldeXINek15nXoNeg16HXmS48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2dldEFpQW5hbHlzaXN9IGRpc2FibGVkPXtpc0FpTG9hZGluZyB8fCAhZGF0YS5zZWN0aW9uMi50aWNrZXJTeW1ib2x9IGNsYXNzTmFtZT1cInctZnVsbCBiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtNCByb3VuZGVkLWxnIHNoYWRvdy1tZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZGlzYWJsZWQ6b3BhY2l0eS01MCBtaW4taC1bNDRweF1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtcm9ib3QgbWwtMlwiPjwvaT4ge2lzQWlMb2FkaW5nID8gJ9ee16DXqteXLi4uJyA6ICfXlNek16cg16DXmdeq15XXlyBBSSd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWktYW5hbHlzaXMtb3V0cHV0IG10LTQgcC00IHJvdW5kZWQtbWQgbWluLWgtWzEwMHB4XSAke2lzQWlMb2FkaW5nID8gJ2xvYWRpbmcnIDogJyd9IHdoaXRlc3BhY2UtcHJlLXdyYXBgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YWlBbmFseXNpc31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L1NlY3Rpb24+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IEFpUmlza0Fkdmlzb3IgPSAoeyByaXNrRGF0YSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbYWR2aWNlLCBzZXRBZHZpY2VdID0gdXNlU3RhdGUoXCJcIik7XG4gICAgICAgICAgICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgICAgICAgICBjb25zdCBnZXRSaXNrQWR2aWNlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICBzZXRBZHZpY2UoXCJcIik7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzZWN0b3JDb25jZW50cmF0aW9uU3RyaW5nID0gT2JqZWN0LmVudHJpZXMocmlza0RhdGEuc2VjdG9yQ29uY2VudHJhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoW3NlY3Rvciwgcmlza10pID0+IGAke3NlY3Rvcn06ICQke3Jpc2sudG9GaXhlZCgyKX1gKVxuICAgICAgICAgICAgICAgICAgICAuam9pbignLCAnKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IGBcbiAgICAgICAgICAgICAgICAgICAgQWN0IGFzIGFuIEFJIFJpc2sgQWR2aXNvciBmb3IgYSB0cmFkaW5nIHBvcnRmb2xpby4gQmFzZWQgb24gdGhlIGZvbGxvd2luZyBkYXRhLCBwcm92aWRlIGEgY29uY2lzZSByaXNrIGFuYWx5c2lzIGFuZCBhY3Rpb25hYmxlIHJlY29tbWVuZGF0aW9ucyBpbiBIZWJyZXcuXG5cbiAgICAgICAgICAgICAgICAgICAgKipQb3J0Zm9saW8gUmlzayBEYXRhOioqXG4gICAgICAgICAgICAgICAgICAgIC0gVG90YWwgRmluYW5jaWFsIFJpc2sgb24gT3BlbiBUcmFkZXM6ICQke3Jpc2tEYXRhLnRvdGFsUmlza0V4cG9zdXJlLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgIC0gTnVtYmVyIG9mIE9wZW4gVHJhZGVzOiAke3Jpc2tEYXRhLm9wZW5UcmFkZXNDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgLSBSaXNrIENvbmNlbnRyYXRpb24gYnkgU2VjdG9yOiAke3NlY3RvckNvbmNlbnRyYXRpb25TdHJpbmcgfHwgJ05vbmUnfVxuXG4gICAgICAgICAgICAgICAgICAgICoqWW91ciBUYXNrOioqXG4gICAgICAgICAgICAgICAgICAgIEdlbmVyYXRlIGEgcmVzcG9uc2UgaW4gdGhyZWUgc2hvcnQsIGNsZWFyIHBhcmFncmFwaHMgaW4gSGVicmV3OlxuICAgICAgICAgICAgICAgICAgICAxLiAgKirXpNeo15XXpNeZ15wg16HXmdeb15XXnyDXm9ec15zXmToqKiDXodek16cg16HXmdeb15XXnSDXp9em16gg16nXnCDXqNee16og15TXodeZ15vXldefINeU16DXldeb15fXmdeqICjXnNeT15XXktee15QsINeg157Xldeb15QsINee16rXldeg15QsINeS15HXldeU15QsINee16jXldeb15bXqiDXnteQ15XXkykuXG4gICAgICAgICAgICAgICAgICAgIDIuICAqKteq16bXpNeZ15XXqiDXldeQ15bXlNeo15XXqiDXntek16rXlzoqKiDXpteZ15nXnyDXkNeqINeS15XXqNee15kg15TXodeZ15vXldefINeU157Xqdee16LXldeq15nXmdedINeR15nXldeq16guINeU15DXnSDXlNeh15nXm9eV158g15TXm9eV15zXnCDXkteR15XXlD8g15TXkNedINeZ16kg16jXmdeb15XXlteZ15XXqiDXnteh15XXm9eg16og15HXoden15jXldeoINeQ15fXkz9cbiAgICAgICAgICAgICAgICAgICAgMy4gICoq15TXntec16bXldeqINec16TXoteV15zXlDoqKiDXodek16cgMS0yINeU157XnNem15XXqiDXkdeo15XXqNeV16og15XXpNep15XXmNeV16og15zXlNek15fXqteqINeU16HXmdeb15XXoNeZ150g16nXlteV15TXlSAo15zXk9eV15LXnteULCBcItep16fXldecINec15TXpNeX15nXqiDXl9ep15nXpNeUINeR16HXp9eY15XXqCBb16nXnSDXlNeh16fXmNeV16hdLFwiINeQ15UgXCLXkdeT15XXpyDXpNeV15bXmdem15nXldeqINek16rXldeX15XXqiDXm9eT15kg15zXldeV15PXkCDXqdeo157XldeqINeU16HXmdeb15XXnyDXnten15XXkdec15XXqi5cIikuXG4gICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXRIaXN0b3J5ID0gW3sgcm9sZTogXCJ1c2VyXCIsIHBhcnRzOiBbeyB0ZXh0OiBwcm9tcHQgfV0gfV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGNvbnRlbnRzOiBjaGF0SGlzdG9yeSB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcGlLZXkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcGlVcmwgPSBcImh0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tL3YxYmV0YS9tb2RlbHMvZ2VtaW5pLTIuNS1mbGFzaC1wcmV2aWV3LTA1LTIwOmdlbmVyYXRlQ29udGVudD9rZXk9XCIgKyBhcGlLZXk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihg16nXkteZ15DXqiBBUEk6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNhbmRpZGF0ZXMgJiYgcmVzdWx0LmNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHJlc3VsdC5jYW5kaWRhdGVzWzBdLmNvbnRlbnQucGFydHNbMF0udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEFkdmljZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEFkdmljZShcItec15Ag16DXmdeq158g15TXmdeUINec16fXkdecINeZ15nXoteV16Ug16HXmdeb15XXoNeZ150g15vXqNeS16IuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcItep15LXmdeQ15Qg15HXp9eR15zXqiDXmdeZ16LXldelINeh15nXm9eV16DXmdedINee15QtQUk6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWR2aWNlKFwi15DXmdeo16LXlCDXqdeS15nXkNeUINeR16LXqiDXp9eR15zXqiDXmdeZ16LXldelINeh15nXm9eV16DXmdedOiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgPFNlY3Rpb24gdGl0bGU9XCLwn5uh77iPINeZ15XXotelINeh15nXm9eV16DXmdedIEFJXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWktYW5hbHlzaXMtc2VjdGlvbiBjb2wtc3Bhbi1mdWxsIHAtNiByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDAgbWItNFwiPteg16rXlyDXkNeqINeX16nXmdek16og15TXodeZ15vXldefINeU15vXldec15zXqiDXqdecINeU16rXmdenINep15zXmiDXotecINeh157XmiDXm9ecINeU16LXoden15DXldeqINeU16TXqteV15fXldeqLiDXlC1BSSDXmdeh16TXpyDXqteV15HXoNeV16og15zXkteR15kg16jXmdeb15XXlteZ15XXqiDXodeZ15vXldeg15nXnSDXldeZ16bXmdeiINek16LXldec15XXqiDXkNek16nXqNeZ15XXqi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2dldFJpc2tBZHZpY2V9IGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgcmlza0RhdGEub3BlblRyYWRlc0NvdW50ID09PSAwfSBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctb3JhbmdlLTYwMCBob3ZlcjpiZy1vcmFuZ2UtNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0yIHB4LTQgcm91bmRlZC1sZyBzaGFkb3ctbWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGRpc2FibGVkOm9wYWNpdHktNTAgbWluLWgtWzQ0cHhdXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXNoaWVsZC1hbHQgbWwtMlwiPjwvaT4ge2lzTG9hZGluZyA/ICfXnteg16rXlyDXodeZ15vXldeg15nXnS4uLicgOiAn15TXpNenINeg15nXqteV15cg16HXmdeb15XXoNeZINeq15nXpyd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWktYW5hbHlzaXMtb3V0cHV0IG10LTQgcC00IHJvdW5kZWQtbWQgbWluLWgtWzEwMHB4XSAke2lzTG9hZGluZyA/ICdsb2FkaW5nJyA6ICcnfSB3aGl0ZXNwYWNlLXByZS13cmFwYH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2FkdmljZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L1NlY3Rpb24+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IEF1dG9jb21wbGV0ZUlucHV0ID0gKHsgbGFiZWwsIHZhbHVlLCBvblZhbHVlQ2hhbmdlLCBmaWx0ZXJLZXksIG9uQmx1ciwgb25JbmZvQ2xpY2ssIHBhcmFtS2V5LCBjaGlsZHJlbiB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHNldERhdGEsIHNldElzRGF0YURpcnR5LCBnaWNzRGF0YWJhc2UgfSA9IHVzZURhdGEoKTtcbiAgICAgICAgICAgIGNvbnN0IFtpbnB1dFZhbHVlLCBzZXRJbnB1dFZhbHVlXSA9IHVzZVN0YXRlKHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IFtzdWdnZXN0aW9ucywgc2V0U3VnZ2VzdGlvbnNdID0gdXNlU3RhdGUoW10pO1xuICAgICAgICAgICAgY29uc3QgW2lzRm9jdXNlZCwgc2V0SXNGb2N1c2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJbnB1dFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIH0sIFt2YWx1ZV0pO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVGb2N1cyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJc0ZvY3VzZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0VmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFN1Z2dlc3Rpb25zKGdpY3NEYXRhYmFzZS5zbGljZSgwLCAxMDApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBvbklucHV0Q2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHNldElucHV0VmFsdWUobmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2UobmV3VmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBnaWNzRGF0YWJhc2UuZmlsdGVyKHN0b2NrID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9ja1tmaWx0ZXJLZXldICYmIFN0cmluZyhzdG9ja1tmaWx0ZXJLZXldKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG5ld1ZhbHVlLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHNldFN1Z2dlc3Rpb25zKGZpbHRlcmVkLnNsaWNlKDAsIDEwMCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFN1Z2dlc3Rpb25zKGdpY3NEYXRhYmFzZS5zbGljZSgwLCAxMDApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBvblN1Z2dlc3Rpb25DbGljayA9IChzdG9jaykgPT4ge1xuICAgICAgICAgICAgICAgIHNldERhdGEocHJldkRhdGEgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJldkRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2RGF0YS5zZWN0aW9uMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrTmFtZTogc3RvY2suTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tlclN5bWJvbDogc3RvY2suVGlja2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdG9yOiBzdG9jay5TZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmR1c3RyeTogc3RvY2suSW5kdXN0cnksXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgc2V0SXNEYXRhRGlydHkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgc2V0U3VnZ2VzdGlvbnMoW10pO1xuICAgICAgICAgICAgICAgIHNldElzRm9jdXNlZChmYWxzZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPXtsYWJlbH0gcGFyYW1LZXk9e3BhcmFtS2V5fSBvbkluZm9DbGljaz17b25JbmZvQ2xpY2t9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBzbTp3LWF1dG8gZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXRWYWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17b25JbnB1dENoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXtoYW5kbGVGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI9eygpID0+IHNldFRpbWVvdXQoKCkgPT4geyBzZXRJc0ZvY3VzZWQoZmFsc2UpOyBpZihvbkJsdXIpIG9uQmx1cigpOyB9LCAyMDApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgICAgICAgICAge2lzRm9jdXNlZCAmJiBzdWdnZXN0aW9ucy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF1dG9jb21wbGV0ZS1kcm9wZG93biBhYnNvbHV0ZSB0b3AtZnVsbCBsZWZ0LTAgcmlnaHQtMCBtYXgtaC00OCBvdmVyZmxvdy15LWF1dG8gbXQtMSByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWdnZXN0aW9ucy5tYXAoKHN0b2NrLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7c3RvY2suVGlja2VyfS0ke3N0b2NrLk5hbWV9LSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhdXRvY29tcGxldGUtaXRlbSBwLTIgY3Vyc29yLXBvaW50ZXIgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZURvd249eygpID0+IG9uU3VnZ2VzdGlvbkNsaWNrKHN0b2NrKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RvY2tbZmlsdGVyS2V5XX0gKHtzdG9jay5UaWNrZXJ9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9JbmZvUm93PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IERhdGFiYXNlTWFuYWdlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZ2ljc0RhdGFiYXNlLCBzZXRHaWNzRGF0YWJhc2UgfSA9IHVzZURhdGEoKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVJbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IFt1cGxvYWRTdGF0dXMsIHNldFVwbG9hZFN0YXR1c10gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUZpbGVVcGxvYWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdO1xuICAgICAgICAgICAgICAgIGlmICghZmlsZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNldFVwbG9hZFN0YXR1cygn157XoteR15Mg16fXldeR16UuLi4nKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NDU1YodGV4dCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRVcGxvYWRTdGF0dXMoJ9ep15LXmdeQ15Qg15HXp9eo15nXkNeqINeU16fXldeR16UuJyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzQ1NWID0gKGNzdlRleHQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IGNzdlRleHQuc3BsaXQoJ1xcbicpLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpICE9PSAnJyk7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VXBsb2FkU3RhdHVzKFwi16nXkteZ15DXlDog16fXldeR16Ug15QtQ1NWINeo15nXpyDXkNeVINec15zXkCDXqdeV16jXldeqINeg16rXldeg15nXnS5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGxpbmVzWzBdLm1hdGNoKC8oXCIuKj9cInxbXlwiLF0rKSg/PVxccyosfFxccyokKS9nKS5tYXAodiA9PiB2LnJlcGxhY2UoL1wiL2csICcnKS50cmltKCkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tlckluZGV4ID0gaGVhZGVycy5pbmRleE9mKCdUaWNrZXInKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lSW5kZXggPSBoZWFkZXJzLmluZGV4T2YoJ1N0b2NrIE5hbWUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWN0b3JJbmRleCA9IGhlYWRlcnMuaW5kZXhPZignU2VjdG9yJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kdXN0cnlJbmRleCA9IGhlYWRlcnMuaW5kZXhPZignSW5kdXN0cnknKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aWNrZXJJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VXBsb2FkU3RhdHVzKFwi16nXkteZ15DXlDog16fXldeR16Ug15QtQ1NWINeX15nXmdeRINec15TXm9eZ15wg16LXnteV15PXqiAnVGlja2VyJy5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RvY2tzID0gbGluZXMuc2xpY2UoMSkubWFwKGxpbmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBsaW5lLm1hdGNoKC8oXCIuKj9cInxbXlwiLF0rKSg/PVxccyosfFxccyokKS9nKS5tYXAodiA9PiB2LnJlcGxhY2UoL1wiL2csICcnKS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgVGlja2VyOiB2YWx1ZXNbdGlja2VySW5kZXhdIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgTmFtZTogbmFtZUluZGV4ICE9PSAtMSA/IHZhbHVlc1tuYW1lSW5kZXhdIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBTZWN0b3I6IHNlY3RvckluZGV4ICE9PSAtMSA/IHZhbHVlc1tzZWN0b3JJbmRleF0gOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIEluZHVzdHJ5OiBpbmR1c3RyeUluZGV4ICE9PSAtMSA/IHZhbHVlc1tpbmR1c3RyeUluZGV4XSA6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pLmZpbHRlcihzdG9jayA9PiBzdG9jay5UaWNrZXIpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdGlja2VyTWFwID0gbmV3IE1hcChnaWNzRGF0YWJhc2UubWFwKHN0b2NrID0+IFtzdG9jay5UaWNrZXIsIHN0b2NrXSkpO1xuICAgICAgICAgICAgICAgIGxldCBhZGRlZENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBuZXdTdG9ja3MuZm9yRWFjaChzdG9jayA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGlja2VyTWFwLmhhcyhzdG9jay5UaWNrZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRlZENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGlja2VyTWFwLnNldChzdG9jay5UaWNrZXIsIHN0b2NrKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWREYXRhYmFzZSA9IEFycmF5LmZyb20odGlja2VyTWFwLnZhbHVlcygpKTtcbiAgICAgICAgICAgICAgICBzZXRHaWNzRGF0YWJhc2UodXBkYXRlZERhdGFiYXNlKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRVcGxvYWRTdGF0dXMoYNee15DXkteoINeU16DXqteV16DXmdedINei15XXk9eb158uICR7YWRkZWRDb3VudH0g157XoNeZ15XXqiDXl9eT16nXldeqINeg15XXodek15UuINeh15og15TXm9ecINee16DXmdeV16o6ICR7dXBkYXRlZERhdGFiYXNlLmxlbmd0aH1gKTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZWREYXRhYmFzZS5mb3JFYWNoKHN0b2NrID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG9jay5OYW1lIHx8ICFzdG9jay5TZWN0b3IgfHwgIXN0b2NrLkluZHVzdHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg16DXk9eo16nXqiDXlNei16nXqNeUINei15HXldeoICR7c3RvY2suVGlja2VyfTog16DXqteV16DXmdedINeX16HXqNeZ150g15nXkNeV15fXlteo15Ug157Xnten15XXqCDXqNep16og15vXkNefLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxTZWN0aW9uIHRpdGxlPVwi16DXmdeU15XXnCDXnteQ15LXqCDXoNeq15XXoNeZ151cIj5cbiAgICAgICAgICAgICAgICAgICAgPEluZm9TZWN0aW9uQ2FyZCBpY29uPVwiZmEtZGF0YWJhc2VcIiB0aXRsZT1cIteU16LXqdeo16og16DXqteV16DXmdedXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiB0ZXh0LWNlbnRlciBiZy1ncmF5LTgwMCByb3VuZGVkLW1kIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnXCI+157XoNeZ15XXqiDXkdee15DXkteoIEdJQ1M6IDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWFjY2VudC1jb2xvci0yXCI+e2dpY3NEYXRhYmFzZS5sZW5ndGh9PC9zcGFuPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDXlNei15zXlCDXp9eV15HXpSBDU1Yg16LXnSDXqNep15nXnteqINee16DXmdeV16og15vXk9eZINec15TXqNeX15nXkSDXkNeqINee15DXkteoINeU16DXqteV16DXmdedLiDXlNee16LXqNeb16og16rXodeZ16gg15vXpNeZ15zXldeZ15XXqiDXldeq16DXodeUINec15TXqdec15nXnSDXnteZ15PXoiDXl9eh16gg15HXkNeV16TXnyDXkNeV15jXldee15jXmS4g15QtQ1NWINeX15nXmdeRINec15TXm9eZ15wg15DXqiDXlNei157XldeT15XXqiDXlNeR15DXldeqOiA8Yj5UaWNrZXIsIFN0b2NrIE5hbWUsIFNlY3RvciwgSW5kdXN0cnk8L2I+LlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtmaWxlSW5wdXRSZWZ9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlVXBsb2FkfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9XCIuY3N2XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudC5jbGljaygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi02MDAgaG92ZXI6YmctZ3JlZW4tNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0yIHB4LTQgcm91bmRlZC1sZyBzaGFkb3ctbWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIG1pbi1oLVs0NHB4XVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1maWxlLWNzdiBtbC0yXCI+PC9pPiDXlNei15zXlCDXnteg15nXldeqIChDU1YpXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt1cGxvYWRTdGF0dXMgJiYgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWNlbnRlciBtdC00IHRleHQtdGVhbC00MDBcIj57dXBsb2FkU3RhdHVzfTwvcD59XG4gICAgICAgICAgICAgICAgICAgIDwvSW5mb1NlY3Rpb25DYXJkPlxuICAgICAgICAgICAgICAgIDwvU2VjdGlvbj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cblxuICAgICAgICBjb25zdCBNb2RhbCA9ICh7IHRpdGxlLCBjb250ZW50LCBvbkNsb3NlLCBtb2RhbFJlZiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgcmVmPXttb2RhbFJlZn0gY2xhc3NOYW1lPVwibW9kYWwtYmFja2Ryb3BcIiBvbkNsaWNrPXtvbkNsb3NlfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCIgb25DbGljaz17ZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC10ZWFsLTQwMCBtYi00XCI+e3RpdGxlfTwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS0zMDAgc3BhY2UteS0zXCI+e2NvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cIm10LTYgYmctaW5kaWdvLTYwMCBob3ZlcjpiZy1pbmRpZ28tNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0yIHB4LTQgcm91bmRlZC1sZ1wiPteh15LXldeoPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IEV4cG9ydE1vZGFsID0gKHsgb25DbG9zZSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGV4cG9ydEFzUG5nLCBleHBvcnRBc1BkZiB9ID0gdXNlRmlyZWJhc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsUmVmID0gdXNlUmVmKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgYWxsU2VjdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgXCLXkden16jXqiDXntei16jXm9eqINeV16fXnNeYL9ek15zXmFwiLCBcIvCfmqgg15HXp9eo16og15LXqNeh15DXldeqINeV16nXl9eW15XXqFwiLCBcIvCfpJYg16DXmdeq15XXlyDXmNeb16DXmSBBSVwiLFxuICAgICAgICAgICAgICAgIFwi8J+TiiDXqtem15XXkteV16og15LXqNek15nXldeqXCIsIFwi4pyFINep15zXkSAxOiDXodeY15jXldehINeX16nXkdeV158g4oCTINeq15nXpyDXlNeU16nXp9ei15XXqiDXqdec15lcIixcbiAgICAgICAgICAgICAgICBcIuKchSDXqdec15EgMjog16DXmdeq15XXlyDXnteg15nXlCDigJMg16TXqNeV16TXmdecINeX15HXqNeUXCIsIFwi16DXmdeU15XXnCDXnteQ15LXqCDXoNeq15XXoNeZ151cIixcbiAgICAgICAgICAgICAgICBcIuKchSDXqdec15EgMzog16rXoNeV16LXqiDXqdeV16cg4oCTINeg16rXldeg15kg16nXldenXCIsIFwi4pyFINep15zXkSA0OiDXkNeZ16DXk9eZ16fXmNeV16jXmdedINeY15vXoNeZ15nXnSDigJMg15DXqNeS15Yg15TXm9ec15nXnSDXqdec15pcIixcbiAgICAgICAgICAgICAgICBcIuKchSDXqdec15EgNTog16jXnteV16og15XXqteR16DXmdeV16og15HXkteo16Mg4oCTINeq15XXkdeg15XXqiDXkNeh15jXqNeY15LXmdeV16pcIiwgXCLinIUg16nXnNeRIDY6INeg15nXqteV15cg16TXldeg15PXnteg15jXnNeZIOKAkyDXkdeo15nXkNeV16og15TXnNeZ15HXlCDXqdecINeU15fXkdeo15RcIixcbiAgICAgICAgICAgICAgICBcIuKchSDXqdec15EgNzog16HXmdeb15XXnyDXldeh16DXmNeZ157XoNeYIOKAkyDXlteo157XmSDXqdeV16cg16rXqi3Xp9eo16fXoteZ15nXnVwiLCBcIuKchSDXqdec15EgODog16rXldeb16DXmdeqINeg15nXlNeV15wg16LXoden15Qg15EtNSDXqdec15HXmdedXCJcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjb25zdCBbc2VsZWN0ZWRTZWN0aW9ucywgc2V0U2VsZWN0ZWRTZWN0aW9uc10gPSB1c2VTdGF0ZShhbGxTZWN0aW9ucyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVRvZ2dsZSA9IChzZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRTZWN0aW9ucyhwcmV2ID0+IFxuICAgICAgICAgICAgICAgICAgICBwcmV2LmluY2x1ZGVzKHNlY3Rpb24pID8gcHJldi5maWx0ZXIocyA9PiBzICE9PSBzZWN0aW9uKSA6IFsuLi5wcmV2LCBzZWN0aW9uXVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVFeHBvcnRQZGYgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhwb3J0QXNQZGYoc2VsZWN0ZWRTZWN0aW9ucywgbW9kYWxSZWYpO1xuICAgICAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUV4cG9ydFBuZyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBleHBvcnRBc1BuZyhzZWxlY3RlZFNlY3Rpb25zLCBtb2RhbFJlZik7XG4gICAgICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8cD7XkdeX16gg15DXqiDXlNeh16LXmdek15nXnSDXqdeR16jXpteV16DXmiDXnNeb15zXldecINeR15nXmdem15XXkC48L3A+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMiBtdC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7YWxsU2VjdGlvbnMubWFwKHNlY3Rpb24gPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBrZXk9e3NlY3Rpb259IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2hlY2tlZD17c2VsZWN0ZWRTZWN0aW9ucy5pbmNsdWRlcyhzZWN0aW9uKX0gb25DaGFuZ2U9eygpID0+IGhhbmRsZVRvZ2dsZShzZWN0aW9uKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3NlY3Rpb259PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtNCBtdC02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUV4cG9ydFBkZn0gY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyZWVuLTYwMCBob3ZlcjpiZy1ncmVlbi03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtNCByb3VuZGVkLWxnXCI+15TXpNenIFBERjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVFeHBvcnRQbmd9IGNsYXNzTmFtZT1cInctZnVsbCBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMiBweC00IHJvdW5kZWQtbGdcIj7XlNek16cgUE5HPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIDxNb2RhbCB0aXRsZT1cIteZ15nXpteV15Ag157Xldeq15DXnSDXkNeZ16nXmdeqXCIgY29udGVudD17Y29udGVudH0gb25DbG9zZT17b25DbG9zZX0gbW9kYWxSZWY9e21vZGFsUmVmfSAvPjtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBCYWNrdXBLaXRNb2RhbCA9ICh7IG9uQ2xvc2UsIHJlc3RvcmVDb2RlLCBpbXBvcnRDb2RlLCBzZXRJbXBvcnRDb2RlLCBnZW5lcmF0ZVJlc3RvcmVDb2RlLCBpbXBvcnRGcm9tQ29kZSwgY29weVRvQ2xpcGJvYXJkIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZXhwb3J0RGF0YUFzSnNvbiwgZXhwb3J0QXNQbmcsIGV4cG9ydFNvdXJjZUNvZGUgfSA9IHVzZUZpcmViYXNlKCk7XG4gICAgICAgICAgICBjb25zdCBtb2RhbFJlZiA9IHVzZVJlZihudWxsKTtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00XCI+15vXkNefINeg157XpteQ15nXnSDXm9ecINeU16DXm9eh15nXnSDXnNeS15nXkdeV15kg157XnNeQINep15wg15TXpNeo15XXmden15gg16nXnNeaLiDXlNep16rXntepINeR15vXpNeq15XXqNeZ150g15vXk9eZINec16nXnteV16gg15vXnCDXoNeb16EuPC9wPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBwLTQgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LWJvbGQgbWItMiB0ZXh0LWxnIHRleHQtdGVhbC00MDBcIj7XkteZ15HXldeZINen15HXpteZ1508L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+16fXldeTINee16fXldeoIChIVE1MKTwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj7XlNen15XXkyDXlNee15zXkCDXqdecINeU15DXpNec15nXp9em15nXlC48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2V4cG9ydFNvdXJjZUNvZGV9IGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0yIHB4LTMgcm91bmRlZC1sZyB0ZXh0LXNtXCI+15TXldeo15MgSFRNTDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+16DXqteV16DXmSDXnNeV15cg157Xl9eV15XXoNeZ150gKEpTT04pPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTQwMFwiPteb15wg16DXqteV16DXmSDXoNeZ16rXldeXINeU16LXoden15DXldeqINeU16DXldeb15fXmdeZ150g16nXnNeaLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17ZXhwb3J0RGF0YUFzSnNvbn0gY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtMyByb3VuZGVkLWxnIHRleHQtc21cIj7XlNeV16jXkyBKU09OPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+16rXnteV16DXqiDXntem15Eg15fXlteV16rXmdeqIChQTkcpPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTQwMFwiPtem15nXnNeV150g157XodeaINep15wg16rXpteV15LXqiDXnNeV15cg15TXnteX15XXldeg15nXnSDXlNeg15XXm9eX15nXqi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGV4cG9ydEFzUG5nKFtdLCBtb2RhbFJlZil9IGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0yIHB4LTMgcm91bmRlZC1sZyB0ZXh0LXNtXCI+15TXldeo15MgUE5HPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBwLTQgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1ib2xkIG1iLTIgdGV4dC1sZyB0ZXh0LXRlYWwtNDAwXCI+15LXmdeR15XXmSDXldep15fXlteV16gg157XkdeV16HXoSDXp9eV15M8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2dlbmVyYXRlUmVzdG9yZUNvZGV9IGNsYXNzTmFtZT1cInctZnVsbCBtYi0yIGJnLWdyZWVuLTYwMCBob3ZlcjpiZy1ncmVlbi03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtNCByb3VuZGVkLWxnXCI+16bXldeoINen15XXkyDXqdeX15bXldeoPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZXN0b3JlQ29kZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj7Xp9eV15Mg15TXqdeX15bXldeoINep15zXmjo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgcmVhZE9ubHkgdmFsdWU9e3Jlc3RvcmVDb2RlfSBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleC1ncm93IGJnLWdyYXktOTAwIGJvcmRlciBib3JkZXItZ3JheS02MDAgcm91bmRlZC1tZCBwLTIgdGV4dC14c1wiIHJvd3M9XCIzXCI+PC90ZXh0YXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBjb3B5VG9DbGlwYm9hcmQocmVzdG9yZUNvZGUpfSBjbGFzc05hbWU9XCJiZy1ncmF5LTYwMCBob3ZlcjpiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMiBweC0zIHJvdW5kZWQtbGcgdGV4dC1zbVwiPteU16LXqtenPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgbXQtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTQwMFwiPteU15PXkdenINeb15DXnyDXp9eV15Mg16nXl9eW15XXqDo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIHZhbHVlPXtpbXBvcnRDb2RlfSBvbkNoYW5nZT17KGUpID0+IHNldEltcG9ydENvZGUoZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JheS05MDAgYm9yZGVyIGJvcmRlci1ncmF5LTYwMCByb3VuZGVkLW1kIHAtMiB0ZXh0LXhzXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtpbXBvcnRGcm9tQ29kZX0gY2xhc3NOYW1lPVwidy1mdWxsIGJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMiBweC00IHJvdW5kZWQtbGdcIj7XqdeX15bXqCDXnten15XXkzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiA8TW9kYWwgdGl0bGU9XCLXoteo15vXqiDXkteZ15HXldeZINee15zXkNeUXCIgY29udGVudD17Y29udGVudH0gb25DbG9zZT17b25DbG9zZX0gbW9kYWxSZWY9e21vZGFsUmVmfSAvPjtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IEFpVHJhaW5pbmdDZW50ZXJNb2RhbCA9ICh7IG9uQ2xvc2UgfSkgPT4ge1xuICAgICAgICAgICAgLy8gTW9jayBkYXRhIGZvciBub3cuIEluIGEgcmVhbCBhcHAsIHRoaXMgd291bGQgY29tZSBmcm9tIEZpcmViYXNlLlxuICAgICAgICAgICAgY29uc3QgbW9ja0FuYWx5c2VzID0gW1xuICAgICAgICAgICAgICAgIHsgaWQ6IDEsIHRpY2tlcjogJ0FBUEwnLCBkYXRlOiAnMjAyNS0wOC0xMCcsIHN1bW1hcnk6ICfXlNei16jXm9eUINeb15zXnNeZ16o6INep15XXqNeZ16ouINeh15nXnteg15nXnSDXnteo15vXlteZ15nXnTog157Xl9eZ16gg157XotecINee157Xldem16Ig16DXoiA1MCDXlS0yMDAuLi4nLCBmZWVkYmFjazogbnVsbCB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IDIsIHRpY2tlcjogJ0dPT0cnLCBkYXRlOiAnMjAyNS0wOC0wOScsIHN1bW1hcnk6ICfXlNei16jXm9eUINeb15zXnNeZ16o6INeg15nXmNeo15zXmdeqLiDXodeZ157XoNeZ150g157XqNeb15bXmdeZ1506IFJTSSDXp9eo15XXkSDXnC01MCwg15TXptec15HXqiBNQUNEINen16jXldeR15QuLi4nLCBmZWVkYmFjazogbnVsbCB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IDMsIHRpY2tlcjogJ1RTTEEnLCBkYXRlOiAnMjAyNS0wOC0wOCcsIHN1bW1hcnk6ICfXlNei16jXm9eUINeb15zXnNeZ16o6INeT15XXkdeZ16ouINeh15nXnteg15nXnSDXnteo15vXlteZ15nXnTog157Xl9eZ16gg16nXkdeoINee16rXl9eqINec16rXnteZ15vXlCDXnteo15vXlteZ16ouLi4nLCBmZWVkYmFjazogbnVsbCB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgW2FuYWx5c2VzLCBzZXRBbmFseXNlc10gPSB1c2VTdGF0ZShtb2NrQW5hbHlzZXMpO1xuICAgICAgICAgICAgY29uc3QgbW9kYWxSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUZlZWRiYWNrID0gKGlkLCBmZWVkYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgd2hlcmUgeW91IHdvdWxkIHVwZGF0ZSB0aGUgc3RhdGUgYW5kIGV2ZW50dWFsbHkgc2VuZCB0byBGaXJlYmFzZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDXntep15XXkSDXoteR15XXqCDXoNeZ16rXldeXICR7aWR9OiAke2ZlZWRiYWNrfWApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00IHRleHQtZ3JheS00MDBcIj7XkdeT15XXpyDXoNeZ16rXldeX15kgQUkg16fXldeT157XmdedINeV16HXpNenINee16nXldeRINeb15PXmSDXnNep16TXqCDXkNeqINeT15nXldenINeU157XldeT15wg15zXkNeV16jXmiDXltee158uINeg16rXldeg15nXnSDXkNec15Ug15nXqdee16nXlSDXnNeb15XXldeg15XXnyDXoteq15nXk9eZLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHthbmFseXNlcy5tYXAoYW5hbHlzaXMgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXthbmFseXNpcy5pZH0gY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC00IHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGcgdGV4dC10ZWFsLTQwMFwiPnthbmFseXNpcy50aWNrZXJ9IC0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW5vcm1hbCB0ZXh0LWdyYXktNDAwXCI+e2FuYWx5c2lzLmRhdGV9PC9zcGFuPjwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktMzAwIG10LTFcIj57YW5hbHlzaXMuc3VtbWFyeX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMiBmbGV4LXNocmluay0wIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGhhbmRsZUZlZWRiYWNrKGFuYWx5c2lzLmlkLCAnQWNjdXJhdGUnKX0gY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMSBweC0zIHJvdW5kZWQtbGcgdGV4dC14c1wiPtee15PXldeZ16c8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGhhbmRsZUZlZWRiYWNrKGFuYWx5c2lzLmlkLCAnSW5hY2N1cmF0ZScpfSBjbGFzc05hbWU9XCJiZy1yZWQtNjAwIGhvdmVyOmJnLXJlZC03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTEgcHgtMyByb3VuZGVkLWxnIHRleHQteHNcIj7XnNeQINee15PXldeZ16c8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgcGxhY2Vob2xkZXI9XCLXlNeV16HXoyDXlNei16jXldeqINee16nXldeRINeQ15XXpNem15nXldeg15zXmdeV16ouLi5cIiBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC14c1wiIHJvd3M9XCIyXCI+PC90ZXh0YXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBtdC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0yIHB4LTQgcm91bmRlZC1sZ1wiPtep15zXlyDXntep15XXkTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiA8TW9kYWwgdGl0bGU9XCLXnteo15vXliDXkNeZ157XldefIEFJXCIgY29udGVudD17Y29udGVudH0gb25DbG9zZT17b25DbG9zZX0gbW9kYWxSZWY9e21vZGFsUmVmfSAvPjtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBLbm93bGVkZ2VCYXNlTW9kYWwgPSAoeyBvbkNsb3NlIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtmaWxlcywgc2V0RmlsZXNdID0gdXNlU3RhdGUoW10pO1xuICAgICAgICAgICAgY29uc3QgeyBkYiwgdXNlcklkLCBpc0F1dGhSZWFkeSB9ID0gdXNlRmlyZWJhc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IFtzZWxlY3RlZEZpbGVJZCwgc2V0U2VsZWN0ZWRGaWxlSWRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgICAgICAgICBjb25zdCBbaXNBbmFseXppbmcsIHNldElzQW5hbHl6aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVJbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZEZpbGUgPSBmaWxlcy5maW5kKGYgPT4gZi5pZCA9PT0gc2VsZWN0ZWRGaWxlSWQpO1xuXG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNBdXRoUmVhZHkgfHwgIWRiIHx8ICF1c2VySWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBhcHBJZCA9IHR5cGVvZiBfX2FwcF9pZCAhPT0gJ3VuZGVmaW5lZCcgPyBfX2FwcF9pZCA6ICdkZWZhdWx0LWFwcC1pZCc7XG4gICAgICAgICAgICAgICAgY29uc3Qga2JDb2xsZWN0aW9uUmVmID0gZmlyZWJhc2UuY29sbGVjdGlvbihkYiwgYGFydGlmYWN0cy8ke2FwcElkfS91c2Vycy8ke3VzZXJJZH0va25vd2xlZGdlX2Jhc2VgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBxID0gZmlyZWJhc2UucXVlcnkoa2JDb2xsZWN0aW9uUmVmLCBmaXJlYmFzZS5vcmRlckJ5KCd1cGxvYWRlZEF0JywgJ2Rlc2MnKSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IGZpcmViYXNlLm9uU25hcHNob3QocSwgKHF1ZXJ5U25hcHNob3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hlZEZpbGVzID0gcXVlcnlTbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEZpbGVzKGZldGNoZWRGaWxlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH0sIFtpc0F1dGhSZWFkeSwgZGIsIHVzZXJJZF0pO1xuXG4gICAgICAgICAgICBjb25zdCBmaWxlVG9HZW5lcmF0aXZlUGFydCA9IGFzeW5jIChmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0RW5jb2RlZERhdGFQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdC5zcGxpdCgnLCcpWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lRGF0YTogeyBkYXRhOiBhd2FpdCBiYXNlNjRFbmNvZGVkRGF0YVByb21pc2UsIG1pbWVUeXBlOiBmaWxlLnR5cGUgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc0ZpbGUgPSBhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNBdXRoUmVhZHkgfHwgIWRiIHx8ICF1c2VySWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBhcHBJZCA9IHR5cGVvZiBfX2FwcF9pZCAhPT0gJ3VuZGVmaW5lZCcgPyBfX2FwcF9pZCA6ICdkZWZhdWx0LWFwcC1pZCc7XG4gICAgICAgICAgICAgICAgY29uc3Qga2JDb2xsZWN0aW9uUmVmID0gZmlyZWJhc2UuY29sbGVjdGlvbihkYiwgYGFydGlmYWN0cy8ke2FwcElkfS91c2Vycy8ke3VzZXJJZH0va25vd2xlZGdlX2Jhc2VgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlRGF0YSA9IHsgXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSwgXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ9ee16LXkdeTJywgXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IGAkeyhmaWxlLnNpemUgLyAxMDI0KS50b0ZpeGVkKDIpfSBLQmAsXG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkQ29udGVudDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYW5hbHlzaXM6IG51bGxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZG9jUmVmID0gYXdhaXQgZmlyZWJhc2UuYWRkRG9jKGtiQ29sbGVjdGlvblJlZiwgZmlsZURhdGEpO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2Nlc3NlZENvbnRlbnQgPSBg16HXldeSINeU16fXldeR16UgKCR7ZmlsZS50eXBlfSkg15DXmdeg15Ug16DXqtee15og15zXl9eZ15zXldelINeq15XXm9efINeZ16nXmdeoLiDXoNei16nXlCDXqdeZ157XldepINeR16nXnSDXlNen15XXkdelINeb16rXldeb158uYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VQYXJ0ID0gYXdhaXQgZmlsZVRvR2VuZXJhdGl2ZVBhcnQoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0geyBjb250ZW50czogW3sgcGFydHM6IFt7IHRleHQ6IFwi16rXkNeoINeq157Xldeg15Qg15bXlSDXkdek15nXqNeV15gg157XoNen15XXk9eqINee15HXmCDXqdecINeg15nXqteV15cg16TXmdeg16DXodeZINeQ15Ug15jXm9eg15kuXCIgfSwgaW1hZ2VQYXJ0XSB9XSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBpS2V5ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwaVVybCA9IGBodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS92MWJldGEvbW9kZWxzL2dlbWluaS0yLjUtZmxhc2gtcHJldmlldy0wNS0yMDpnZW5lcmF0ZUNvbnRlbnQ/a2V5PSR7YXBpS2V5fWA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihg16nXkteZ15DXqiBBUEk6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZENvbnRlbnQgPSByZXN1bHQuY2FuZGlkYXRlc1swXS5jb250ZW50LnBhcnRzWzBdLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGZpcmViYXNlLnVwZGF0ZURvYyhkb2NSZWYsIHsgc3RhdHVzOiAn15TXldep15zXnScsIHByb2Nlc3NlZENvbnRlbnQ6IHByb2Nlc3NlZENvbnRlbnQgfSk7XG5cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi16nXkteZ15DXlCDXkdei15nXkdeV15Mg16fXldeR16U6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZmlyZWJhc2UudXBkYXRlRG9jKGRvY1JlZiwgeyBzdGF0dXM6ICfXqdeS15nXkNeUJyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVGaWxlcyA9IGFzeW5jIChmaWxlc1RvUHJvY2VzcykgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlc1RvUHJvY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwcm9jZXNzRmlsZShmaWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVGaWxlRHJvcCA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRyb3BwZWRGaWxlcyA9IEFycmF5LmZyb20oZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgICAgICAgICAgICAgIGhhbmRsZUZpbGVzKGRyb3BwZWRGaWxlcyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0ID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZEZpbGVzID0gQXJyYXkuZnJvbShlLnRhcmdldC5maWxlcyk7XG4gICAgICAgICAgICAgICAgaGFuZGxlRmlsZXMoc2VsZWN0ZWRGaWxlcyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBbmFseXplRmlsZSA9IGFzeW5jIChmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlLnByb2Nlc3NlZENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLXlNen15XXkdelINei15PXmdeZ158g15zXkCDXoteR16gg16LXmdeR15XXkyDXkNeVINep15zXkCDXoNeZ16rXnyDXlNeZ15Qg15zXl9ec16Ug16rXldeb158uXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldElzQW5hbHl6aW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkRmlsZUlkKGZpbGUuaWQpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbXB0ID0gYFxuICAgICAgICAgICAgICAgICAgICAgICAgQmFzZWQgb24gdGhlIGZvbGxvd2luZyBjb250ZW50IGV4dHJhY3RlZCBmcm9tIGEgdXNlci11cGxvYWRlZCBmaWxlLCBwcm92aWRlIGEgc3RydWN0dXJlZCBhbmFseXNpcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIENvbnRlbnQ6IFwiJHtmaWxlLnByb2Nlc3NlZENvbnRlbnR9XCJcblxuICAgICAgICAgICAgICAgICAgICAgICAgR2VuZXJhdGUgYSByZXNwb25zZSBpbiB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZWQgZm9ybWF0LCBpbiBIZWJyZXc6XG4gICAgICAgICAgICAgICAgICAgICAgICAxLiAgKirXntep157XoteV16ov16HXmdeS16DXnDoqKiDXnteU15kg15TXntep157XoteV16og15TXmNeb16DXmdeqINeU16LXmden16jXmdeqINeQ15Ug15TXodeZ15LXoNecINee15TXqteV15vXnyDXlNeW15Q/XG4gICAgICAgICAgICAgICAgICAgICAgICAyLiAgKirXpNei15XXnNeUINee15XXntec16bXqjoqKiDXkdeU16rXkdeh16Eg16LXnCDXlNeh15nXkteg15wsINee15TXmSDXlNek16LXldec15Qg15DXlSDXlNeq15LXldeR15Qg15TXnteV157XnNem16o/XG4gICAgICAgICAgICAgICAgICAgICAgICAzLiAgKirXk9eV15LXnteQ15XXqi/XlNei16jXldeqINeX16nXldeR15XXqjoqKiDXodek16cg15PXldeS157XkNeV16og15fXmdeV16DXmdeV16og15DXlSDXlNei16jXldeqINeX16nXldeR15XXqiDXlNen16nXldeo15XXqiDXnNeh15nXkteg15wg15bXlC5cbiAgICAgICAgICAgICAgICAgICAgICAgIDQuICAqKtee16bXkSDXkNek16nXqNeZOioqINee15TXnSDXlNeq16jXl9eZ16nXmdedINeQ15Ug15TXntem15HXmdedINeU15DXpNep16jXmdeZ150g16nXmdeb15XXnNeZ150g15zXlNeq16jXl9epINeR15TXntep15o/XG4gICAgICAgICAgICAgICAgICAgICAgICA1LiAgKirXnNee15Qg15zXkdeT15XXpyDXpNeo157XmNeoINeW15Q6Kiog15TXodeR16gg15DXqiDXqteo15XXnteq15Ug16nXnCDXpNeo157XmNeoL9eh15nXkteg15wg15bXlCDXnNeg15nXqteV15cg15TXm9eV15zXnC5cbiAgICAgICAgICAgICAgICAgICAgICAgIDYuICAqKteQ15nXmiDXnNee16bXldeQINeQ16og15TXoNeq15XXoNeZ1506Kiog15vXmdem15Mg16DXmdeq158g15HXk9eo15og15vXnNecINec157XpteV15Ag15DXlSDXnNeQ157XqiDXoNeq15XXoNeZ150g15DXnNeUP1xuICAgICAgICAgICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXRIaXN0b3J5ID0gW3sgcm9sZTogXCJ1c2VyXCIsIHBhcnRzOiBbeyB0ZXh0OiBwcm9tcHQgfV0gfV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGNvbnRlbnRzOiBjaGF0SGlzdG9yeSB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcGlLZXkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcGlVcmwgPSBgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy9nZW1pbmktMi41LWZsYXNoLXByZXZpZXctMDUtMjA6Z2VuZXJhdGVDb250ZW50P2tleT0ke2FwaUtleX1gO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoYNep15LXmdeQ16ogQVBJOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY2FuZGlkYXRlcyAmJiByZXN1bHQuY2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gcmVzdWx0LmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwSWQgPSB0eXBlb2YgX19hcHBfaWQgIT09ICd1bmRlZmluZWQnID8gX19hcHBfaWQgOiAnZGVmYXVsdC1hcHAtaWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZURvY1JlZiA9IGZpcmViYXNlLmRvYyhkYiwgYGFydGlmYWN0cy8ke2FwcElkfS91c2Vycy8ke3VzZXJJZH0va25vd2xlZGdlX2Jhc2VgLCBmaWxlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGZpcmViYXNlLnVwZGF0ZURvYyhmaWxlRG9jUmVmLCB7IGFuYWx5c2lzOiB0ZXh0IH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwi15zXkCDXoNeZ16rXnyDXlNeZ15Qg15zXlNek15nXpyDXoNeZ16rXldeXLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLXqdeS15nXkNeUINeR16DXmdeq15XXlyDXlNen15XXkdelOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwcElkID0gdHlwZW9mIF9fYXBwX2lkICE9PSAndW5kZWZpbmVkJyA/IF9fYXBwX2lkIDogJ2RlZmF1bHQtYXBwLWlkJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZURvY1JlZiA9IGZpcmViYXNlLmRvYyhkYiwgYGFydGlmYWN0cy8ke2FwcElkfS91c2Vycy8ke3VzZXJJZH0va25vd2xlZGdlX2Jhc2VgLCBmaWxlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZmlyZWJhc2UudXBkYXRlRG9jKGZpbGVEb2NSZWYsIHsgYW5hbHlzaXM6IFwi15DXmdeo16LXlCDXqdeS15nXkNeUINeR157XlNec15og15TXoNeZ16rXldeXLlwiIH0pO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzQW5hbHl6aW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEZWxldGVGaWxlID0gYXN5bmMgKGZpbGVJZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb25maXJtKFwi15TXkNedINeQ16rXlCDXkdeY15XXlyDXqdeR16jXpteV16DXmiDXnNee15fXldenINen15XXkdelINeW15Q/XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwcElkID0gdHlwZW9mIF9fYXBwX2lkICE9PSAndW5kZWZpbmVkJyA/IF9fYXBwX2lkIDogJ2RlZmF1bHQtYXBwLWlkJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZURvY1JlZiA9IGZpcmViYXNlLmRvYyhkYiwgYGFydGlmYWN0cy8ke2FwcElkfS91c2Vycy8ke3VzZXJJZH0va25vd2xlZGdlX2Jhc2VgLCBmaWxlSWQpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBmaXJlYmFzZS5kZWxldGVEb2MoZmlsZURvY1JlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00IHRleHQtZ3JheS00MDBcIj7XlNei15zXlCDXnteh157Xm9eZ150sINeS15nXnNeZ15XXoNeV16og15DXnNen15jXqNeV16DXmdeZ150sINee16bXkteV16og15DXlSDXqtee15XXoNeV16og15vXk9eZINec15DXntefINeQ16og15QtQUkuINeU157Xoteo15vXqiDXqteX15zXpSDXnteZ15PXoiDXqNec15XXldeg15jXmSDXm9eT15kg15zXodek16cg16rXldeR16DXldeqINeV16DXmdeq15XXl9eZ150g16LXqdeZ16jXmdedINeZ15XXqteoLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9IFxuICAgICAgICAgICAgICAgICAgICAgICAgb25Ecm9wPXtoYW5kbGVGaWxlRHJvcH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGZpbGVJbnB1dFJlZi5jdXJyZW50LmNsaWNrKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTUwMCByb3VuZGVkLWxnIHAtOCB0ZXh0LWNlbnRlciBjdXJzb3ItcG9pbnRlciBob3Zlcjpib3JkZXItdGVhbC00MDAgdHJhbnNpdGlvbi1hbGxcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtY2xvdWQtdXBsb2FkLWFsdCB0ZXh0LTR4bCB0ZXh0LWdyYXktNDAwIG1iLTJcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD7Xkteo15XXqCDXldep15fXqNeoINen15HXpteZ150g15vXkNefINeQ15Ug15zXl9elINec15HXl9eZ16jXlDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIG11bHRpcGxlIHJlZj17ZmlsZUlucHV0UmVmfSBvbkNoYW5nZT17aGFuZGxlRmlsZVNlbGVjdH0gY2xhc3NOYW1lPVwiaGlkZGVuXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0yXCI+16DXqtee15o6IERPQywgRE9DWCwgWExTWCwgQ1NWLCBQUFQsIFBQUywgSlBHLCBQTkc8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1sZyB0ZXh0LXRlYWwtNDAwIG1iLTJcIj7Xp9eR16bXmdedINep15TXldei15zXlTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBvdmVyZmxvdy14LWF1dG9cIiBzdHlsZT17e21heEhlaWdodDogJzIwMHB4J319PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1yaWdodCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJib3JkZXItYiBib3JkZXItZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+16nXnSDXp9eV15HXpTwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMlwiPteS15XXk9ecPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+16HXmNeY15XXoTwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMiB0ZXh0LWNlbnRlclwiPtek16LXldec15XXqjwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmlsZXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgY29sU3Bhbj1cIjRcIiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBwLTQgdGV4dC1ncmF5LTUwMFwiPtei15PXmdeZ158g15zXkCDXlNeV16LXnNeVINen15HXpteZ150uPC90ZD48L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlcy5tYXAoKGZpbGUpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17ZmlsZS5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyLWIgYm9yZGVyLWdyYXktNzAwIGhvdmVyOmJnLWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yIGZvbnQtbWVkaXVtXCI+e2ZpbGUubmFtZX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMlwiPntmaWxlLnNpemV9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnN0YXR1cyA9PT0gJ9eU15XXqdec150nID8gJ2JnLWdyZWVuLTUwMCB0ZXh0LWdyZWVuLTkwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnN0YXR1cyA9PT0gJ9ee16LXkdeTJyA/ICdiZy15ZWxsb3ctNTAwIHRleHQteWVsbG93LTkwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmctcmVkLTUwMCB0ZXh0LXJlZC05MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgbXItMiBweC0yLjUgcHktMC41IHJvdW5kZWRgfT57ZmlsZS5zdGF0dXN9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFuYWx5emVGaWxlKGZpbGUpfSBkaXNhYmxlZD17ZmlsZS5zdGF0dXMgIT09ICfXlNeV16nXnNedJyB8fCAoaXNBbmFseXppbmcgJiYgc2VsZWN0ZWRGaWxlSWQgPT09IGZpbGUuaWQpfSBjbGFzc05hbWU9XCJ0ZXh0LXRlYWwtNDAwIGhvdmVyOnRleHQtdGVhbC0yMDAgdGV4dC14cyBtbC00IGRpc2FibGVkOm9wYWNpdHktNTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzQW5hbHl6aW5nICYmIHNlbGVjdGVkRmlsZUlkID09PSBmaWxlLmlkID8gJ9ee16DXqteXLi4uJyA6ICfXoNeq15cnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gaGFuZGxlRGVsZXRlRmlsZShmaWxlLmlkKX0gY2xhc3NOYW1lPVwidGV4dC1yZWQtNDAwIGhvdmVyOnRleHQtcmVkLTIwMCB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS10cmFzaC1hbHRcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEZpbGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnIHRleHQtdGVhbC00MDAgbWItMlwiPteg15nXqteV15cg16LXkdeV16g6IHtzZWxlY3RlZEZpbGUubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWktYW5hbHlzaXMtb3V0cHV0IHAtNCByb3VuZGVkLW1kIG1pbi1oLVsxMDBweF0gJHtpc0FuYWx5emluZyA/ICdsb2FkaW5nJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRGaWxlLmFuYWx5c2lzICYmIDxkaXYgY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1wcmUtd3JhcFwiPntzZWxlY3RlZEZpbGUuYW5hbHlzaXN9PC9kaXY+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIDxNb2RhbCB0aXRsZT1cItee15DXkteoINeZ15PXoiDXldeQ15nXnteV158gQUlcIiBjb250ZW50PXtjb250ZW50fSBvbkNsb3NlPXtvbkNsb3NlfSBtb2RhbFJlZj17bW9kYWxSZWZ9IC8+O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyAgNi4gQVBJICYgVVRJTElUWSBGVU5DVElPTlNcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIGNvbnN0IGZpbmRHaWNzQ2xhc3NpZmljYXRpb24gPSAodGlja2VyLCBnaWNzRGF0YWJhc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0b2NrID0gZ2ljc0RhdGFiYXNlLmZpbmQoaXRlbSA9PiBpdGVtLlRpY2tlci50b0xvd2VyQ2FzZSgpID09PSB0aWNrZXIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICBpZiAoc3RvY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzZWN0b3I6IHN0b2NrLlNlY3RvciwgaW5kdXN0cnk6IHN0b2NrLkluZHVzdHJ5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzZWN0b3I6ICcnLCBpbmR1c3RyeTogJycgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBmZXRjaEFwaURhdGEgPSBhc3luYyAodGlja2VyLCBhcGlLZXksIHNldERhdGEsIHNldEFwaVN0YXR1cywgc2V0SXNMaXZlRGF0YVNldCwgZ2ljc0RhdGFiYXNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRpY2tlcikge1xuICAgICAgICAgICAgICAgIHNldEFwaVN0YXR1cyh7IGxvYWRpbmc6IGZhbHNlLCBlcnJvcjogXCLXodeZ157XldecINeU157XoNeZ15Qg16jXmdenLlwiIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYXBpS2V5KSB7XG4gICAgICAgICAgICAgICAgc2V0QXBpU3RhdHVzKHsgbG9hZGluZzogZmFsc2UsIGVycm9yOiBcIteX16HXqCDXntek16rXlyBBUEkg16nXnCBBbHBoYSBWYW50YWdlLlwiIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEFwaVN0YXR1cyh7IGxvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBmdW5jdGlvbnMgPSBbJ0dMT0JBTF9RVU9URScsICdSU0knLCAnU01BJywgJ01BQ0QnLCAnVldBUCcsICdBVFInLCAnT1ZFUlZJRVcnLCAnVElNRV9TRVJJRVNfREFJTFknLCAnQ1VSUkVOQ1lfRVhDSEFOR0VfUkFURSddO1xuICAgICAgICAgICAgY29uc3QgdXJscyA9IGZ1bmN0aW9ucy5tYXAoZnVuYyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZ1bmMgPT09ICdDVVJSRU5DWV9FWENIQU5HRV9SQVRFJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYGh0dHBzOi8vd3d3LmFscGhhdmFudGFnZS5jby9xdWVyeT9mdW5jdGlvbj1DVVJSRU5DWV9FWENIQU5HRV9SQVRFJmZyb21fY3VycmVuY3k9VVNEJnRvX2N1cnJlbmN5PUlMUyZhcGlrZXk9JHthcGlLZXl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBodHRwczovL3d3dy5hbHBoYXZhbnRhZ2UuY28vcXVlcnk/ZnVuY3Rpb249JHtmdW5jfSZzeW1ib2w9JHt0aWNrZXJ9JmludGVydmFsPWRhaWx5JnRpbWVfcGVyaW9kPTE0JnNlcmllc190eXBlPWNsb3NlJmFwaWtleT0ke2FwaUtleX1gXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbCh1cmxzLm1hcCh1cmwgPT4gZmV0Y2godXJsKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChyZXNwb25zZXMubWFwKHJlcyA9PiByZXMuanNvbigpKSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBbcXVvdGUsIHJzaSwgc21hLCBtYWNkLCB2d2FwLCBhdHIsIG92ZXJ2aWV3LCBkYWlseVNlcmllcywgZXhjaGFuZ2VSYXRlXSA9IHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHF1b3RlWydFcnJvciBNZXNzYWdlJ10gfHwgIXF1b3RlWydHbG9iYWwgUXVvdGUnXSB8fCBPYmplY3Qua2V5cyhxdW90ZVsnR2xvYmFsIFF1b3RlJ10pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocXVvdGVbJ05vdGUnXSB8fCAn16HXmdee15XXnCDXnNeQINeq16fXmdefINeQ15Ug15TXktei16og15zXnteS15HXnNeqINeULUFQSS4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxRdW90ZSA9IHF1b3RlWydHbG9iYWwgUXVvdGUnXTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlY3RvciwgaW5kdXN0cnkgfSA9IGZpbmRHaWNzQ2xhc3NpZmljYXRpb24odGlja2VyLCBnaWNzRGF0YWJhc2UpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFJzaSA9IHJzaVsnVGVjaG5pY2FsIEFuYWx5c2lzOiBSU0knXSA/IE9iamVjdC52YWx1ZXMocnNpWydUZWNobmljYWwgQW5hbHlzaXM6IFJTSSddKVswXVsnUlNJJ10gOiAnTi9BJztcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0U21hMjAwID0gc21hWydUZWNobmljYWwgQW5hbHlzaXM6IFNNQSddID8gT2JqZWN0LnZhbHVlcyhzbWFbJ1RlY2huaWNhbCBBbmFseXNpczogU01BJ10pWzBdWydTTUEnXSA6ICdOL0EnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RNYWNkID0gbWFjZFsnVGVjaG5pY2FsIEFuYWx5c2lzOiBNQUNEJ10gPyBPYmplY3QudmFsdWVzKG1hY2RbJ1RlY2huaWNhbCBBbmFseXNpczogTUFDRCddKVswXSA6IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RWd2FwID0gdndhcFsnVGVjaG5pY2FsIEFuYWx5c2lzOiBWV0FQJ10gPyBPYmplY3QudmFsdWVzKHZ3YXBbJ1RlY2huaWNhbCBBbmFseXNpczogVldBUCddKVswXVsnVldBUCddIDogJ04vQSc7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdEF0ciA9IGF0clsnVGVjaG5pY2FsIEFuYWx5c2lzOiBBVFInXSA/IE9iamVjdC52YWx1ZXMoYXRyWydUZWNobmljYWwgQW5hbHlzaXM6IEFUUiddKVswXVsnQVRSJ10gOiAnTi9BJztcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VVNEUmF0ZSA9IGV4Y2hhbmdlUmF0ZVsnUmVhbHRpbWUgQ3VycmVuY3kgRXhjaGFuZ2UgUmF0ZSddID8gcGFyc2VGbG9hdChleGNoYW5nZVJhdGVbJ1JlYWx0aW1lIEN1cnJlbmN5IEV4Y2hhbmdlIFJhdGUnXVsnNS4gRXhjaGFuZ2UgUmF0ZSddKSA6IG51bGw7XG5cblxuICAgICAgICAgICAgICAgIGxldCBkYWlseVBpdm90ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoZGFpbHlTZXJpZXMgJiYgZGFpbHlTZXJpZXNbJ1RpbWUgU2VyaWVzIChEYWlseSknXSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlcyA9IE9iamVjdC5rZXlzKGRhaWx5U2VyaWVzWydUaW1lIFNlcmllcyAoRGFpbHkpJ10pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNEYXlEYXRhID0gZGFpbHlTZXJpZXNbJ1RpbWUgU2VyaWVzIChEYWlseSknXVtkYXRlc1sxXV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2SGlnaCA9IHBhcnNlRmxvYXQocHJldmlvdXNEYXlEYXRhWycyLiBoaWdoJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldkxvdyA9IHBhcnNlRmxvYXQocHJldmlvdXNEYXlEYXRhWyczLiBsb3cnXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2Q2xvc2UgPSBwYXJzZUZsb2F0KHByZXZpb3VzRGF5RGF0YVsnNC4gY2xvc2UnXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYWlseVBpdm90ID0gKHByZXZIaWdoICsgcHJldkxvdyArIHByZXZDbG9zZSkgLyAzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2V0RGF0YShwcmV2RGF0YSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAuLi5wcmV2RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbjE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXZEYXRhLnNlY3Rpb24xLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFVTRFJhdGU6IGN1cnJlbnRVU0RSYXRlIHx8IHByZXZEYXRhLnNlY3Rpb24xLmN1cnJlbnRVU0RSYXRlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uMjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldkRhdGEuc2VjdGlvbjIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9ja05hbWU6IG92ZXJ2aWV3WydOYW1lJ10gfHwgcHJldkRhdGEuc2VjdGlvbjIuc3RvY2tOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdG9yOiBvdmVydmlld1snU2VjdG9yJ10gfHwgc2VjdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kdXN0cnk6IG92ZXJ2aWV3WydJbmR1c3RyeSddIHx8IGluZHVzdHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2V0Q2FwOiBvdmVydmlld1snTWFya2V0Q2FwaXRhbGl6YXRpb24nXSB8fCBwcmV2RGF0YS5zZWN0aW9uMi5tYXJrZXRDYXBcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbjM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXZEYXRhLnNlY3Rpb24zLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaWNlOiBwYXJzZUZsb2F0KGdsb2JhbFF1b3RlWycwNS4gcHJpY2UnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYWlseVJhbmdlOiBgJHtwYXJzZUZsb2F0KGdsb2JhbFF1b3RlWycwNC4gbG93J10pfSAtICR7cGFyc2VGbG9hdChnbG9iYWxRdW90ZVsnMDMuIGhpZ2gnXSl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZEYXlSYW5nZTogYENsb3NlOiAke3BhcnNlRmxvYXQoZ2xvYmFsUXVvdGVbJzA4LiBwcmV2aW91cyBjbG9zZSddKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZvbHVtZTogZ2xvYmFsUXVvdGVbJzA2LiB2b2x1bWUnXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbjQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXZEYXRhLnNlY3Rpb240LFxuICAgICAgICAgICAgICAgICAgICAgICAgcnNpOiBwYXJzZUZsb2F0KGxhc3RSc2kpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWEyMDA6IHBhcnNlRmxvYXQobGFzdFNtYTIwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNkOiBwYXJzZUZsb2F0KGxhc3RNYWNkWydNQUNEJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFjZFNpZ25hbDogcGFyc2VGbG9hdChsYXN0TWFjZFsnTUFDRF9TaWduYWwnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNkSGlzdG9ncmFtOiBwYXJzZUZsb2F0KGxhc3RNYWNkWydNQUNEX0hpc3QnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB2d2FwOiBwYXJzZUZsb2F0KGxhc3RWd2FwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0cjogcGFyc2VGbG9hdChsYXN0QXRyKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbjU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXZEYXRhLnNlY3Rpb241LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGFpbHlQaXZvdDogZGFpbHlQaXZvdC50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uNjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldkRhdGEuc2VjdGlvbjYsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZlbnVlOiBvdmVydmlld1snUmV2ZW51ZVRUTSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBzOiBwYXJzZUZsb2F0KG92ZXJ2aWV3WydFUFMnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBwZVJhdGlvOiBwYXJzZUZsb2F0KG92ZXJ2aWV3WydQRVJhdGlvJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGJSYXRpbzogcGFyc2VGbG9hdChvdmVydmlld1snUHJpY2VUb0Jvb2tSYXRpbyddKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdmlkZW5kOiBvdmVydmlld1snRGl2aWRlbmRZaWVsZCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5hbHlzdEZvcmVjYXN0czogb3ZlcnZpZXdbJ0FuYWx5c3RUYXJnZXRQcmljZSddLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uODoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldkRhdGEuc2VjdGlvbjgsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwMToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXZEYXRhLnNlY3Rpb244LnN0ZXAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZTogcGFyc2VGbG9hdChnbG9iYWxRdW90ZVsnMDUuIHByaWNlJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldElzTGl2ZURhdGFTZXQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgc2V0QXBpU3RhdHVzKHsgbG9hZGluZzogZmFsc2UsIGVycm9yOiBudWxsIH0pO1xuXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLXqdeS15nXkNeUINeR15DXl9eW15XXqCBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICBzZXRBcGlTdGF0dXMoeyBsb2FkaW5nOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cblxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gIDcuIE1BSU4gQVBQIENPTVBPTkVOVFxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IEFwcCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgc2V0RGF0YSwgaGFuZGxlTmVzdGVkQ2hhbmdlLCBhcGlTdGF0dXMsIHNldEFwaVN0YXR1cywgZ2ljc0RhdGFiYXNlLCBpc0xpdmVEYXRhU2V0LCBzZXRJc0xpdmVEYXRhU2V0LCBkYXRhRW50cnlNb2RlLCBzZXREYXRhRW50cnlNb2RlLCB0cmFkZUxvZyB9ID0gdXNlRGF0YSgpO1xuICAgICAgICAgICAgY29uc3QgeyB1c2VySWQsIGRiLCBpc0F1dGhSZWFkeSB9ID0gdXNlRmlyZWJhc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IFttb2RhbEluZm8sIHNldE1vZGFsSW5mb10gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IFt0YWN0aWNhbFJlY29tbWVuZGF0aW9ucywgc2V0VGFjdGljYWxSZWNvbW1lbmRhdGlvbnNdID0gdXNlU3RhdGUoW10pO1xuICAgICAgICAgICAgY29uc3QgW2FscGhhVmFudGFnZUtleSwgc2V0QWxwaGFWYW50YWdlS2V5XSA9IHVzZVN0YXRlKCdVNDQ2NDUyMlc2VjY5UDVHJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbGN1bGF0ZWREYXRhID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgczEgPSBkYXRhLnNlY3Rpb24xO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxVU0QgPSAoczEuaW5pdGlhbFBvcnRmb2xpb1ZhbHVlSUxTID4gMCAmJiBzMS5pbml0aWFsVVNEUmF0ZSA+IDApID8gKHMxLmluaXRpYWxQb3J0Zm9saW9WYWx1ZUlMUyAvIHMxLmluaXRpYWxVU0RSYXRlKSA6IHBhcnNlRmxvYXQoczEuaW5pdGlhbFBvcnRmb2xpb1ZhbHVlVVNEKSB8fCAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRVU0QgPSAoczEuY3VycmVudFBvcnRmb2xpb1ZhbHVlSUxTID4gMCAmJiBzMS5jdXJyZW50VVNEUmF0ZSA+IDApID8gKHMxLmN1cnJlbnRQb3J0Zm9saW9WYWx1ZUlMUyAvIHMxLmN1cnJlbnRVU0RSYXRlKSA6IHBhcnNlRmxvYXQoczEuY3VycmVudFBvcnRmb2xpb1ZhbHVlVVNEKSB8fCAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsUEwgPSAoaW5pdGlhbFVTRCA+IDAgJiYgY3VycmVudFVTRCA+IDApID8gKGN1cnJlbnRVU0QgLSBpbml0aWFsVVNEKSA6IHBhcnNlRmxvYXQoczEudG90YWxQTFVTRCkgfHwgMDtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFBMUGVyY2VudGFnZSA9IChpbml0aWFsVVNEID4gMCkgPyAodG90YWxQTCAvIGluaXRpYWxVU0QgKiAxMDApIDogMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsUG9ydGZvbGlvVmFsdWVVU0Q6IGluaXRpYWxVU0QudG9GaXhlZCgyKSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBvcnRmb2xpb1ZhbHVlVVNEOiBjdXJyZW50VVNELnRvRml4ZWQoMiksXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUExVU0Q6IHRvdGFsUEwudG9GaXhlZCgyKSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQTFBlcmNlbnRhZ2U6IHRvdGFsUExQZXJjZW50YWdlLnRvRml4ZWQoMilcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSwgW2RhdGEuc2VjdGlvbjEuaW5pdGlhbFBvcnRmb2xpb1ZhbHVlSUxTLCBkYXRhLnNlY3Rpb24xLmluaXRpYWxVU0RSYXRlLCBkYXRhLnNlY3Rpb24xLmN1cnJlbnRQb3J0Zm9saW9WYWx1ZUlMUywgZGF0YS5zZWN0aW9uMS5jdXJyZW50VVNEUmF0ZV0pO1xuXG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5RGF0YSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgICAgICAgICBuZXdEYXRhLnNlY3Rpb24xID0geyAuLi5uZXdEYXRhLnNlY3Rpb24xLCAuLi5jYWxjdWxhdGVkRGF0YSB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2VjdGlvbjEsIHNlY3Rpb24zLCBzZWN0aW9uNCwgc2VjdGlvbjUsIHNlY3Rpb244IH0gPSBuZXdEYXRhO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlY3Rpb24zLmN1cnJlbnRQcmljZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb240Lm1hMjAwKSBzZWN0aW9uNC5tYU1lYW5pbmcgPSBzZWN0aW9uMy5jdXJyZW50UHJpY2UgPiBzZWN0aW9uNC5tYTIwMCA/ICfXqdeV16jXmSDXnNeY15XXldeXINeQ16jXldeaJyA6ICfXk9eV15HXmSDXnNeY15XXldeXINeQ16jXldeaJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb240Lm1hNTApIHNlY3Rpb240Lm1hQWN0aW9uID0gc2VjdGlvbjMuY3VycmVudFByaWNlID4gc2VjdGlvbjQubWE1MCA/ICfXqden15XXnCDXp9eg15nXmdeUJyA6ICfXqden15XXnCDXnteb15nXqNeUJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb240LmF0cikgc2VjdGlvbjQuYXRyUGVyY2VudCA9ICgoc2VjdGlvbjQuYXRyIC8gc2VjdGlvbjMuY3VycmVudFByaWNlKSAqIDEwMCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlY3Rpb240Lm1hY2QgJiYgc2VjdGlvbjQubWFjZFNpZ25hbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0Fib3ZlID0gc2VjdGlvbjQubWFjZCA+IHNlY3Rpb240Lm1hY2RTaWduYWw7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb240Lm1hY2RNZWFuaW5nID0gaXNBYm92ZSA/ICfXnteV157XoNeY15XXnSDXqdeV16jXmScgOiAn157Xldee16DXmNeV150g15PXldeR15knO1xuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uNC5tYWNkQWN0aW9uID0gaXNBYm92ZSA/ICfXodeZ15LXoNecINen16DXmdeZ15QnIDogJ9eh15nXkteg15wg157Xm9eZ16jXlCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWN0aW9uNS5kYWlseVBpdm90ID4gMCAmJiBzZWN0aW9uMy5jdXJyZW50UHJpY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQWJvdmUgPSBzZWN0aW9uMy5jdXJyZW50UHJpY2UgPiBzZWN0aW9uNS5kYWlseVBpdm90O1xuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uNS5wcmljZVZzUGl2b3QgPSBpc0Fib3ZlID8gJ9ee16LXnCDXpNeZ15HXldeYJyA6ICfXnteq15fXqiDXnNek15nXkdeV15gnO1xuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uNS5waXZvdEFjdGlvbiA9IGlzQWJvdmUgPyAn15fXldeW16fXlCDXpNeV15jXoNem15nXkNec15nXqicgOiAn15fXldec16nXlCDXpNeV15jXoNem15nXkNec15nXqic7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZW50cnkgPSBwYXJzZUZsb2F0KHNlY3Rpb244LnN0ZXAxLmVudHJ5UHJpY2UpIHx8IDA7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcCA9IHBhcnNlRmxvYXQoc2VjdGlvbjguc3RlcDEuc3RvcExvc3MpIHx8IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5pdHMgPSBwYXJzZUZsb2F0KHNlY3Rpb244LnN0ZXAxLnVuaXRzKSB8fCAwO1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeSA+IDAgJiYgc3RvcCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcmlza1BlclVuaXQgPSBlbnRyeSAtIHN0b3A7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb244LnN0ZXAyLnBvdGVudGlhbFJpc2tVbml0ID0gcmlza1BlclVuaXQudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVuaXRzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYW5jaWFsUmlzayA9IHJpc2tQZXJVbml0ICogdW5pdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOC5zdGVwMi5maW5hbmNpYWxSaXNrID0gZmluYW5jaWFsUmlzay50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxDb3N0ID0gdW5pdHMgKiBlbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb244LnN0ZXAyLnRvdGFsQ29zdCA9IHRvdGFsQ29zdC50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbjguc3RlcDIucmVtYWluaW5nQmFsYW5jZSA9IChzZWN0aW9uMS5idXlpbmdQb3dlclVTRCAtIHRvdGFsQ29zdCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cDEgPSBwYXJzZUZsb2F0KHNlY3Rpb244LnN0ZXAzLnRwMSkgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRwMSA+IGVudHJ5ICYmIHVuaXRzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZml0UG90ZW50aWFsID0gKHRwMSAtIGVudHJ5KSAqIHVuaXRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbjguc3RlcDMucHJvZml0UG90ZW50aWFsMSA9IHByb2ZpdFBvdGVudGlhbC50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJpc2tQZXJVbml0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsUmlzayA9IHJpc2tQZXJVbml0ICogdW5pdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcmlza1Jld2FyZCA9IHByb2ZpdFBvdGVudGlhbCAvIHRvdGFsUmlzaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOC5zdGVwMy5yaXNrUmV3YXJkUmF0aW8gPSBgMToke3Jpc2tSZXdhcmQudG9GaXhlZCgyKX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOC5zdGVwMy5yaXNrUmV3YXJkUmF0aW8gPSAnTi9BJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZVByaWNlID0gcGFyc2VGbG9hdChzZWN0aW9uOC5zdGVwNC5jbG9zZVByaWNlKSB8fCAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZlZXMgPSBwYXJzZUZsb2F0KHNlY3Rpb244LnN0ZXA0LmZlZXMpIHx8IDA7XG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlUHJpY2UgPiAwICYmIGVudHJ5ID4gMCAmJiB1bml0cyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYW5jaWFsUmVzdWx0ID0gKGNsb3NlUHJpY2UgLSBlbnRyeSkgKiB1bml0cyAtIGZlZXM7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb244LnN0ZXA0LmZpbmFuY2lhbFJlc3VsdCA9IGZpbmFuY2lhbFJlc3VsdC50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3N0ID0gZW50cnkgKiB1bml0cztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvc3QgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb2kgPSAoZmluYW5jaWFsUmVzdWx0IC8gY29zdCkgKiAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOC5zdGVwNC5yb2kgPSByb2kudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3RGF0YTtcbiAgICAgICAgICAgIH0sIFtkYXRhLCBjYWxjdWxhdGVkRGF0YV0pO1xuXG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHM0ID0gZGlzcGxheURhdGEuc2VjdGlvbjQ7XG4gICAgICAgICAgICAgICAgaWYgKHM0Lm1hTWVhbmluZz8uaW5jbHVkZXMoJ9ep15XXqNeZJykpIHJlY29tbWVuZGF0aW9ucy5wdXNoKFwi15TXnteX15nXqCDXntei15wg157XnteV16bXoiDXoNeiIDIwMCwg157XpteR15nXoiDXotecINee15LXnteqINei15zXmdeZ15Qg15DXqNeV15vXqiDXmNeV15XXly5cIik7XG4gICAgICAgICAgICAgICAgaWYgKHM0Lm1hTWVhbmluZz8uaW5jbHVkZXMoJ9eT15XXkdeZJykpIHJlY29tbWVuZGF0aW9ucy5wdXNoKFwi15TXnteX15nXqCDXnteq15fXqiDXnNee157Xldem16Ig16DXoiAyMDAsINee16bXkdeZ16Ig16LXnCDXnteS157XqiDXmdeo15nXk9eUINeQ16jXldeb16og15jXldeV15cuXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzNC5tYUFjdGlvbj8uaW5jbHVkZXMoJ9en16DXmdeZ15QnKSkgcmVjb21tZW5kYXRpb25zLnB1c2goXCLXlNee15fXmdeoINee16LXnCDXntee15XXpteiINeg16IgNTAsINep16fXldecINeU15LXk9eo15XXqiDXqdeV16jXmdeV16ouXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzNC5tYUFjdGlvbj8uaW5jbHVkZXMoJ9ee15vXmdeo15QnKSkgcmVjb21tZW5kYXRpb25zLnB1c2goXCLXlNee15fXmdeoINee16rXl9eqINec157XnteV16bXoiDXoNeiIDUwLCDXqden15XXnCDXlNeS15PXqNeV16og15PXldeR15nXldeqLlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoczQucnNpID4gNzApIHJlY29tbWVuZGF0aW9ucy5wdXNoKFwiUlNJINeR16fXoNeZ15nXqiDXmdeq16ggKD43MCksINeU15nXlteU16gg157XqteZ16fXldefINeQ16TXqdeo15kuXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzNC5yc2kgPCAzMCkgcmVjb21tZW5kYXRpb25zLnB1c2goXCJSU0kg15HXnteb15nXqNeqINeZ16rXqCAoPDMwKSwg16bXpNeUINec15TXmdek15XXmiDXkNek16nXqNeZLlwiKTtcbiAgICAgICAgICAgICAgICBzZXRUYWN0aWNhbFJlY29tbWVuZGF0aW9ucyhyZWNvbW1lbmRhdGlvbnMpO1xuICAgICAgICAgICAgfSwgW2Rpc3BsYXlEYXRhLnNlY3Rpb240Lm1hTWVhbmluZywgZGlzcGxheURhdGEuc2VjdGlvbjQubWFBY3Rpb24sIGRpc3BsYXlEYXRhLnNlY3Rpb240LnJzaV0pO1xuXG4gICAgICAgICAgICBjb25zdCByaXNrRGF0YSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wZW5UcmFkZXMgPSB0cmFkZUxvZy5maWx0ZXIodCA9PiB0LnN0YXR1cyA9PT0gJ09wZW4nKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFJpc2tFeHBvc3VyZSA9IG9wZW5UcmFkZXMucmVkdWNlKChhY2MsIHRyYWRlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFuY2lhbFJpc2sgPSBwYXJzZUZsb2F0KHRyYWRlLmRhdGEuc2VjdGlvbjguc3RlcDIuZmluYW5jaWFsUmlzaykgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIGZpbmFuY2lhbFJpc2s7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzZWN0b3JDb25jZW50cmF0aW9uID0gb3BlblRyYWRlcy5yZWR1Y2UoKGFjYywgdHJhZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjdG9yID0gdHJhZGUuZGF0YS5zZWN0aW9uMi5zZWN0b3IgfHwgJ9ec15Ag157XodeV15XXkic7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJpc2sgPSBwYXJzZUZsb2F0KHRyYWRlLmRhdGEuc2VjdGlvbjguc3RlcDIuZmluYW5jaWFsUmlzaykgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhY2Nbc2VjdG9yXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjW3NlY3Rvcl0gPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFjY1tzZWN0b3JdICs9IHJpc2s7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkU2VjdG9ycyA9IE9iamVjdC5lbnRyaWVzKHNlY3RvckNvbmNlbnRyYXRpb24pXG4gICAgICAgICAgICAgICAgICAgIC5zb3J0KChbLCBhXSwgWywgYl0pID0+IGIgLSBhKVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKChyLCBbaywgdl0pID0+ICh7IC4uLnIsIFtrXTogdiB9KSwge30pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxSaXNrRXhwb3N1cmUsXG4gICAgICAgICAgICAgICAgICAgIHNlY3RvckNvbmNlbnRyYXRpb246IHNvcnRlZFNlY3RvcnMsXG4gICAgICAgICAgICAgICAgICAgIG9wZW5UcmFkZXNDb3VudDogb3BlblRyYWRlcy5sZW5ndGhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSwgW3RyYWRlTG9nXSk7XG5cbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hBcGlLZXkgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0F1dGhSZWFkeSAmJiBkYiAmJiB1c2VySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcHBJZCA9IHR5cGVvZiBfX2FwcF9pZCAhPT0gJ3VuZGVmaW5lZCcgPyBfX2FwcF9pZCA6ICdkZWZhdWx0LWFwcC1pZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXR0aW5nc0RvY1JlZiA9IGZpcmViYXNlLmRvYyhkYiwgYGFydGlmYWN0cy8ke2FwcElkfS91c2Vycy8ke3VzZXJJZH0vc2V0dGluZ3MvYWxwaGFWYW50YWdlYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZmlyZWJhc2UuZ2V0RG9jKHNldHRpbmdzRG9jUmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2NTbmFwLmV4aXN0cygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWxwaGFWYW50YWdlS2V5KGRvY1NuYXAuZGF0YSgpLmtleSB8fCAnVTQ0NjQ1MjJXNlY2OVA1RycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmZXRjaEFwaUtleSgpO1xuICAgICAgICAgICAgfSwgW2lzQXV0aFJlYWR5LCBkYiwgdXNlcklkXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVRpY2tlckJsdXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0aWNrZXJTeW1ib2wgfSA9IGRhdGEuc2VjdGlvbjI7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xhc3NpZmljYXRpb24gPSBmaW5kR2ljc0NsYXNzaWZpY2F0aW9uKHRpY2tlclN5bWJvbCwgZ2ljc0RhdGFiYXNlKTtcbiAgICAgICAgICAgICAgICBpZihjbGFzc2lmaWNhdGlvbi5zZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldERhdGEocHJldkRhdGEgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uMjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2RGF0YS5zZWN0aW9uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdG9yOiBjbGFzc2lmaWNhdGlvbi5zZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZHVzdHJ5OiBjbGFzc2lmaWNhdGlvbi5pbmR1c3RyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVJbmZvQ2xpY2sgPSAocGFyYW1LZXkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gcGFyYW1EYXRhW3BhcmFtS2V5XTtcbiAgICAgICAgICAgICAgICBpZihpbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+15TXkteT16jXlDo8L3N0cm9uZz4ge2luZm8uZGVmaW5pdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz7XqdeZ157XldepOjwvc3Ryb25nPiB7aW5mby51c2FnZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz7XkNeZ15og15zXntem15XXkDo8L3N0cm9uZz4ge2luZm8uaG93VG99PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHNldE1vZGFsSW5mbyh7IHRpdGxlOiBpbmZvLmZ1bGxOYW1lLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGdldFJzaUluZGljYXRvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByc2kgPSBkaXNwbGF5RGF0YS5zZWN0aW9uNC5yc2k7XG4gICAgICAgICAgICAgICAgaWYgKCFyc2kpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyc2kgPiA3MCkgcmV0dXJuIDxJbmRpY2F0b3IgdGV4dD1cIten16DXmdeZ16og15nXqteoXCIgY29sb3JDbGFzcz1cImluZGljYXRvci1yZWRcIiBpY29uQ2xhc3M9XCJmYS1hcnJvdy10cmVuZC1kb3duXCIgLz47XG4gICAgICAgICAgICAgICAgaWYgKHJzaSA8IDMwKSByZXR1cm4gPEluZGljYXRvciB0ZXh0PVwi157Xm9eZ16jXqiDXmdeq16hcIiBjb2xvckNsYXNzPVwiaW5kaWNhdG9yLWdyZWVuXCIgaWNvbkNsYXNzPVwiZmEtYXJyb3ctdHJlbmQtdXBcIiAvPjtcbiAgICAgICAgICAgICAgICByZXR1cm4gPEluZGljYXRvciB0ZXh0PVwi16DXmdeY16jXnNeZXCIgY29sb3JDbGFzcz1cImluZGljYXRvci15ZWxsb3dcIiAvPjtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGdldFJpc2tSZXdhcmRJbmRpY2F0b3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF0aW8gPSBkaXNwbGF5RGF0YS5zZWN0aW9uOC5zdGVwMy5yaXNrUmV3YXJkUmF0aW87XG4gICAgICAgICAgICAgICAgaWYgKCFyYXRpbyB8fCByYXRpbyA9PT0gJ04vQScpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdGlvVmFsdWUgPSBwYXJzZUZsb2F0KHJhdGlvLnNwbGl0KCc6JylbMV0pO1xuICAgICAgICAgICAgICAgIGlmIChyYXRpb1ZhbHVlID49IDIpIHJldHVybiA8SW5kaWNhdG9yIHRleHQ9XCLXnteV16LXk9ejXCIgY29sb3JDbGFzcz1cImluZGljYXRvci1ncmVlblwiIC8+O1xuICAgICAgICAgICAgICAgIGlmIChyYXRpb1ZhbHVlIDwgMSkgcmV0dXJuIDxJbmRpY2F0b3IgdGV4dD1cItec15Ag157Xldei15PXo1wiIGNvbG9yQ2xhc3M9XCJpbmRpY2F0b3ItcmVkXCIgLz47XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxJbmRpY2F0b3IgdGV4dD1cIteh15HXmdeoXCIgY29sb3JDbGFzcz1cImluZGljYXRvci15ZWxsb3dcIiAvPjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGdldE1hTWVhbmluZ0luZGljYXRvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWFuaW5nID0gZGlzcGxheURhdGEuc2VjdGlvbjQubWFNZWFuaW5nO1xuICAgICAgICAgICAgICAgIGlmICghbWVhbmluZykgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKG1lYW5pbmcuaW5jbHVkZXMoJ9ep15XXqNeZJykpIHJldHVybiA8SW5kaWNhdG9yIHRleHQ9XCLXqdeV16jXmVwiIGNvbG9yQ2xhc3M9XCJpbmRpY2F0b3ItZ3JlZW5cIiAvPjtcbiAgICAgICAgICAgICAgICBpZiAobWVhbmluZy5pbmNsdWRlcygn15PXldeR15knKSkgcmV0dXJuIDxJbmRpY2F0b3IgdGV4dD1cIteT15XXkdeZXCIgY29sb3JDbGFzcz1cImluZGljYXRvci1yZWRcIiAvPjtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRhc2hib2FyZC1jb250YWluZXIgdy1mdWxsIG1heC13LTd4bCBwLTQgc206cC04IG1kOnAtMTAgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAge21vZGFsSW5mbyAmJiA8TW9kYWwgdGl0bGU9e21vZGFsSW5mby50aXRsZX0gY29udGVudD17bW9kYWxJbmZvLmNvbnRlbnR9IG9uQ2xvc2U9eygpID0+IHNldE1vZGFsSW5mbyhudWxsKX0gLz59XG4gICAgICAgICAgICAgICAgICAgIDxIZWFkZXIgLz5cbiAgICAgICAgICAgICAgICAgICAgPEJyZWFkY3J1bWIgLz5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxUYWJzPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiBsYWJlbD1cItec15XXlyDXnteX15XXldeg15nXnVwiIGljb249XCJmYS10YWNob21ldGVyLWFsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxLcGlTZWN0aW9uIGNhbGN1bGF0ZWREYXRhPXtjYWxjdWxhdGVkRGF0YX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QWR2YW5jZWRSaXNrTW9kdWxlIHJpc2tEYXRhPXtyaXNrRGF0YX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R2xvYmFsRmlsdGVyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYWRlTG9nTWFuYWdlciAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWN0aW9uIHRpdGxlPVwi8J+TiiDXqtem15XXkteV16og15LXqNek15nXldeqXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYWRlRGlzdHJpYnV0aW9uQ2hhcnQgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9ydGZvbGlvSGlzdG9yeUNoYXJ0IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWN0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFiIGxhYmVsPVwi16DXmdeq15XXlyDXoteh16fXlFwiIGljb249XCJmYS1lZGl0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlY3Rpb24gdGl0bGU9XCLinIUg16nXnNeRIDE6INeh15jXmNeV16Eg15fXqdeR15XXnyDigJMg16rXmdenINeU15TXqden16LXldeqINep15zXmVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb25DYXJkIGljb249XCJmYS13YWxsZXRcIiB0aXRsZT1cIteh15jXmNeV16Eg15fXqdeR15XXn1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9J9ei16jXmiDXqteZ16cg15TXqteX15zXqteZICjXqVwi15cpOic+PGlucHV0IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17ZGF0YS5zZWN0aW9uMS5pbml0aWFsUG9ydGZvbGlvVmFsdWVJTFN9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlTmVzdGVkQ2hhbmdlKCdzZWN0aW9uMS5pbml0aWFsUG9ydGZvbGlvVmFsdWVJTFMnLCBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSl9IGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG9cIiAvPjwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPSfXqdei16gg15PXldec16gg15TXqteX15zXqteZOic+PGlucHV0IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17ZGF0YS5zZWN0aW9uMS5pbml0aWFsVVNEUmF0ZX0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVOZXN0ZWRDaGFuZ2UoJ3NlY3Rpb24xLmluaXRpYWxVU0RSYXRlJywgcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD0n16LXqNeaINeq15nXpyDXlNeq15fXnNeq15kgKCQpOic+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e2Rpc3BsYXlEYXRhLnNlY3Rpb24xLmluaXRpYWxQb3J0Zm9saW9WYWx1ZVVTRH0gcmVhZE9ubHkgY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctYXV0b1wiIC8+PC9JbmZvUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItZ3JheS03MDAgbXktNFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9J9ei16jXmiDXqteZ16cg16DXldeb15fXmSAo16lcIteXKTonPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgdmFsdWU9e2RhdGEuc2VjdGlvbjEuY3VycmVudFBvcnRmb2xpb1ZhbHVlSUxTfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZU5lc3RlZENoYW5nZSgnc2VjdGlvbjEuY3VycmVudFBvcnRmb2xpb1ZhbHVlSUxTJywgcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD0n16nXoteoINeT15XXnNeoINeg15XXm9eX15k6Jz48aW5wdXQgdHlwZT1cIm51bWJlclwiIHZhbHVlPXtkYXRhLnNlY3Rpb24xLmN1cnJlbnRVU0RSYXRlfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZU5lc3RlZENoYW5nZSgnc2VjdGlvbjEuY3VycmVudFVTRFJhdGUnLCBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSl9IGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG9cIiAvPjwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPSfXoteo15og16rXmdenINeg15XXm9eX15kgKCQpOic+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e2Rpc3BsYXlEYXRhLnNlY3Rpb24xLmN1cnJlbnRQb3J0Zm9saW9WYWx1ZVVTRH0gcmVhZE9ubHkgY2xhc3NOYW1lPVwidy1mdWxsIHNtLXctYXV0b1wiIC8+PC9JbmZvUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktNzAwIG15LTRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPSfXmdeq16jXlCAoJCk6Jz48aW5wdXQgdHlwZT1cIm51bWJlclwiIHZhbHVlPXtkYXRhLnNlY3Rpb24xLmJhbGFuY2VVU0R9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlTmVzdGVkQ2hhbmdlKCdzZWN0aW9uMS5iYWxhbmNlVVNEJywgcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD0n15nXqteo15QgKNepXCLXlyk6Jz48aW5wdXQgdHlwZT1cIm51bWJlclwiIHZhbHVlPXtkYXRhLnNlY3Rpb24xLmJhbGFuY2VJTFN9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlTmVzdGVkQ2hhbmdlKCdzZWN0aW9uMS5iYWxhbmNlSUxTJywgcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD0n157XodeS16jXqiDXkNep16jXkNeZOic+PGlucHV0IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17ZGF0YS5zZWN0aW9uMS5jcmVkaXRMaW1pdH0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVOZXN0ZWRDaGFuZ2UoJ3NlY3Rpb24xLmNyZWRpdExpbWl0JywgcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD1cIteb15XXlyDXp9eg15nXmdeUICgkKTpcIj48aW5wdXQgdHlwZT1cIm51bWJlclwiIHZhbHVlPXtkYXRhLnNlY3Rpb24xLmJ1eWluZ1Bvd2VyVVNEfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZU5lc3RlZENoYW5nZSgnc2VjdGlvbjEuYnV5aW5nUG93ZXJVU0QnLCBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSl9IGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG9cIiAvPjwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPVwi16jXldeV15cv15TXpNeh15Mg15nXldee15kgKCQpOlwiPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgdmFsdWU9e2RhdGEuc2VjdGlvbjEuZGFpbHlQTFVTRH0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVOZXN0ZWRDaGFuZ2UoJ3NlY3Rpb24xLmRhaWx5UExVU0QnLCBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSl9IGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG9cIiAvPjwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPVwi16jXldeV15cv15TXpNeh15Mg15vXldec15wgKCQpOlwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPXtkaXNwbGF5RGF0YS5zZWN0aW9uMS50b3RhbFBMVVNEfSByZWFkT25seSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD1cIteQ15fXldeWINeo15XXldeXL9eU16TXodeTOlwiIGluZGljYXRvcj17PHNwYW4gY2xhc3NOYW1lPXtwYXJzZUZsb2F0KGRpc3BsYXlEYXRhLnNlY3Rpb24xLnRvdGFsUExQZXJjZW50YWdlKSA+PSAwID8gJ3RleHQtZ3JlZW4tNDAwJyA6ICd0ZXh0LXJlZC00MDAnfT57ZGlzcGxheURhdGEuc2VjdGlvbjEudG90YWxQTFBlcmNlbnRhZ2V9JTwvc3Bhbj59PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPXtkaXNwbGF5RGF0YS5zZWN0aW9uMS50b3RhbFBMUGVyY2VudGFnZX0gcmVhZE9ubHkgY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctYXV0b1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0luZm9Sb3c+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JbmZvU2VjdGlvbkNhcmQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWN0aW9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlY3Rpb24gdGl0bGU9XCLinIUg16nXnNeRIDI6INeg15nXqteV15cg157XoNeZ15Qg4oCTINek16jXldek15nXnCDXl9eR16jXlFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb25DYXJkIGljb249XCJmYS1idWlsZGluZ1wiIHRpdGxlPVwi16TXqNeY15kg15TXnteg15nXlFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXREYXRhRW50cnlNb2RlKCdtYW51YWwnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHB5LTIgdGV4dC1zbSByb3VuZGVkLW1kICR7ZGF0YUVudHJ5TW9kZSA9PT0gJ21hbnVhbCcgPyAnYmctaW5kaWdvLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTYwMCd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINee16bXkSDXmdeT16DXmVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldERhdGFFbnRyeU1vZGUoJ2F1dG8nKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHB5LTIgdGV4dC1zbSByb3VuZGVkLW1kICR7ZGF0YUVudHJ5TW9kZSA9PT0gJ2F1dG8nID8gJ2JnLWluZGlnby02MDAgdGV4dC13aGl0ZScgOiAnYmctZ3JheS02MDAnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDXntem15Eg15DXldeY15XXnteY15kgKEFQSSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF1dG9jb21wbGV0ZUlucHV0IGxhYmVsPVwi16nXnSDXlNee16DXmdeUOlwiIHZhbHVlPXtkYXRhLnNlY3Rpb24yLnN0b2NrTmFtZX0gb25WYWx1ZUNoYW5nZT17KHZhbCkgPT4gaGFuZGxlTmVzdGVkQ2hhbmdlKCdzZWN0aW9uMi5zdG9ja05hbWUnLCB2YWwpfSBmaWx0ZXJLZXk9XCJOYW1lXCIgb25JbmZvQ2xpY2s9e2hhbmRsZUluZm9DbGlja30gcGFyYW1LZXk9XCJTdG9jayBOYW1lXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBdXRvY29tcGxldGVJbnB1dCBsYWJlbD1cIteh15nXnteV15w6XCIgdmFsdWU9e2RhdGEuc2VjdGlvbjIudGlja2VyU3ltYm9sfSBvblZhbHVlQ2hhbmdlPXsodmFsKSA9PiBoYW5kbGVOZXN0ZWRDaGFuZ2UoJ3NlY3Rpb24yLnRpY2tlclN5bWJvbCcsIHZhbCl9IGZpbHRlcktleT1cIlRpY2tlclwiIG9uQmx1cj17aGFuZGxlVGlja2VyQmx1cn0gb25JbmZvQ2xpY2s9e2hhbmRsZUluZm9DbGlja30gcGFyYW1LZXk9XCJUaWNrZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmZXRjaEFwaURhdGEoZGF0YS5zZWN0aW9uMi50aWNrZXJTeW1ib2wsIGFscGhhVmFudGFnZUtleSwgc2V0RGF0YSwgc2V0QXBpU3RhdHVzLCBzZXRJc0xpdmVEYXRhU2V0LCBnaWNzRGF0YWJhc2UpfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFkYXRhLnNlY3Rpb24yLnRpY2tlclN5bWJvbCB8fCBhcGlTdGF0dXMubG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXItMiBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMSBweC0zIHJvdW5kZWQtbGcgc2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBkaXNhYmxlZDpvcGFjaXR5LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthcGlTdGF0dXMubG9hZGluZyA/IDxpIGNsYXNzTmFtZT1cImZhcyBmYS1zcGlubmVyIGZhLXNwaW5cIj48L2k+IDogXCLXkNeX15bXqFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9BdXRvY29tcGxldGVJbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPVwi16HXp9eY15XXqDpcIiBvbkluZm9DbGljaz17aGFuZGxlSW5mb0NsaWNrfSBwYXJhbUtleT1cIlNlY3RvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgdmFsdWU9e2RhdGEuc2VjdGlvbjIuc2VjdG9yfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZU5lc3RlZENoYW5nZSgnc2VjdGlvbjIuc2VjdG9yJywgZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj7XkdeX16gg16HXp9eY15XXqDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Wy4uLm5ldyBTZXQoZ2ljc0RhdGFiYXNlLm1hcChpdGVtID0+IGl0ZW0uU2VjdG9yKSldLm1hcChzID0+IDxvcHRpb24ga2V5PXtzfSB2YWx1ZT17c30+e3N9PC9vcHRpb24+KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD1cIteq16LXqdeZ15nXlDpcIiBvbkluZm9DbGljaz17aGFuZGxlSW5mb0NsaWNrfSBwYXJhbUtleT1cIkluZHVzdHJ5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCB2YWx1ZT17ZGF0YS5zZWN0aW9uMi5pbmR1c3RyeX0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVOZXN0ZWRDaGFuZ2UoJ3NlY3Rpb24yLmluZHVzdHJ5JywgZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj7XkdeX16gg16rXotep15nXmdeUPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtbLi4ubmV3IFNldChnaWNzRGF0YWJhc2UuZmlsdGVyKGl0ZW0gPT4gaXRlbS5TZWN0b3IgPT09IGRhdGEuc2VjdGlvbjIuc2VjdG9yKS5tYXAoaXRlbSA9PiBpdGVtLkluZHVzdHJ5KSldLm1hcCgoaW5kdXN0cnksIGluZGV4KSA9PiA8b3B0aW9uIGtleT17YCR7aW5kdXN0cnl9LSR7aW5kZXh9YH0gdmFsdWU9e2luZHVzdHJ5fT57aW5kdXN0cnl9PC9vcHRpb24+KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JbmZvU2VjdGlvbkNhcmQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWN0aW9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlY3Rpb24gdGl0bGU9XCLinIUg16nXnNeRIDM6INeq16DXldei16og16nXldenIOKAkyDXoNeq15XXoNeZINep15XXp1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb25DYXJkIGljb249XCJmYS1jaGFydC1saW5lXCIgdGl0bGU9XCLXoNeq15XXoNeZINep15XXp1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9XCLXnteX15nXqCDXoNeV15vXl9eZOlwiIG9uSW5mb0NsaWNrPXtoYW5kbGVJbmZvQ2xpY2t9IHBhcmFtS2V5PVwiQ3VycmVudFByaWNlXCI+PGlucHV0IHR5cGU9XCJudW1iZXJcIiByZWFkT25seT17aXNMaXZlRGF0YVNldH0gdmFsdWU9e2RhdGEuc2VjdGlvbjMuY3VycmVudFByaWNlfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZU5lc3RlZENoYW5nZSgnc2VjdGlvbjMuY3VycmVudFByaWNlJywgcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD1cIteY15XXldeXINeZ15XXnteZOlwiIG9uSW5mb0NsaWNrPXtoYW5kbGVJbmZvQ2xpY2t9IHBhcmFtS2V5PVwiRGFpbHlSYW5nZVwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIHJlYWRPbmx5PXtpc0xpdmVEYXRhU2V0fSB2YWx1ZT17ZGF0YS5zZWN0aW9uMy5kYWlseVJhbmdlfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZU5lc3RlZENoYW5nZSgnc2VjdGlvbjMuZGFpbHlSYW5nZScsIGUudGFyZ2V0LnZhbHVlKX0gY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctYXV0b1wiIC8+PC9JbmZvUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9XCLXmNeV15XXlyDXmdeV150g16fXldeT1506XCIgb25JbmZvQ2xpY2s9e2hhbmRsZUluZm9DbGlja30gcGFyYW1LZXk9XCJQcmV2RGF5UmFuZ2VcIj48aW5wdXQgdHlwZT1cInRleHRcIiByZWFkT25seT17aXNMaXZlRGF0YVNldH0gdmFsdWU9e2RhdGEuc2VjdGlvbjMucHJldkRheVJhbmdlfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZU5lc3RlZENoYW5nZSgnc2VjdGlvbjMucHJldkRheVJhbmdlJywgZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSW5mb1NlY3Rpb25DYXJkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VjdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VjdGlvbiB0aXRsZT1cIuKchSDXqdec15EgNDog16rXldeb16DXmdeqINeg15nXlNeV15wg16LXoden15Qg15EtNSDXqdec15HXmdedXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9TZWN0aW9uQ2FyZCBpY29uPVwiZmEtdGFza3NcIiB0aXRsZT1cItep15zXkSAxOiDXlNeS15PXqNeqINek16jXmNeZINeU16LXoden15RcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPVwi16HXmNeY15XXoTpcIj48aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT17ZGF0YS5zZWN0aW9uOC5zdGVwMS5zdGF0dXN9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlTmVzdGVkQ2hhbmdlKCdzZWN0aW9uOC5zdGVwMS5zdGF0dXMnLCBlLnRhcmdldC52YWx1ZSl9IGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG9cIiAvPjwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPVwi16rXkNeo15nXmiDXqNeb15nXqdeUOlwiPjxpbnB1dCB0eXBlPVwiZGF0ZVwiIHZhbHVlPXtkYXRhLnNlY3Rpb244LnN0ZXAxLnB1cmNoYXNlRGF0ZX0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVOZXN0ZWRDaGFuZ2UoJ3NlY3Rpb244LnN0ZXAxLnB1cmNoYXNlRGF0ZScsIGUudGFyZ2V0LnZhbHVlKX0gY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctYXV0b1wiIC8+PC9JbmZvUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9XCLXnteX15nXqCDXm9eg15nXodeUOlwiPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgdmFsdWU9e2RhdGEuc2VjdGlvbjguc3RlcDEuZW50cnlQcmljZX0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVOZXN0ZWRDaGFuZ2UoJ3NlY3Rpb244LnN0ZXAxLmVudHJ5UHJpY2UnLCBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSl9IGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG9cIiAvPjwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPVwi15nXl9eZ15PXldeqOlwiPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgdmFsdWU9e2RhdGEuc2VjdGlvbjguc3RlcDEudW5pdHN9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlTmVzdGVkQ2hhbmdlKCdzZWN0aW9uOC5zdGVwMS51bml0cycsIHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpKX0gY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctYXV0b1wiIC8+PC9JbmZvUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9XCLXodeY15XXpCDXnNeV16E6XCI+PGlucHV0IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17ZGF0YS5zZWN0aW9uOC5zdGVwMS5zdG9wTG9zc30gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVOZXN0ZWRDaGFuZ2UoJ3NlY3Rpb244LnN0ZXAxLnN0b3BMb3NzJywgcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSW5mb1NlY3Rpb25DYXJkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvU2VjdGlvbkNhcmQgaWNvbj1cImZhLXNoaWVsZC1hbHRcIiB0aXRsZT1cItep15zXkSAyOiDXqteV15vXoNeZ16og16DXmdeU15XXnCDXodeZ15vXldeg15nXnVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9XCLXodeZ15vXldefINek15XXmNeg16bXmdeQ15zXmSDXnNeZ15fXmdeT15Q6XCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e2Rpc3BsYXlEYXRhLnNlY3Rpb244LnN0ZXAyLnBvdGVudGlhbFJpc2tVbml0fSByZWFkT25seSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD1cIteh15nXm9eV158g16TXmdeg16DXodeZOlwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPXtkaXNwbGF5RGF0YS5zZWN0aW9uOC5zdGVwMi5maW5hbmNpYWxSaXNrfSByZWFkT25seSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD1cItei15zXldeqINeb15XXnNec16o6XCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e2Rpc3BsYXlEYXRhLnNlY3Rpb244LnN0ZXAyLnRvdGFsQ29zdH0gcmVhZE9ubHkgY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctYXV0b1wiIC8+PC9JbmZvUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9XCLXmdeq16jXlCDXoNeV16rXqNeqOlwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPXtkaXNwbGF5RGF0YS5zZWN0aW9uOC5zdGVwMi5yZW1haW5pbmdCYWxhbmNlfSByZWFkT25seSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSW5mb1NlY3Rpb25DYXJkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvU2VjdGlvbkNhcmQgaWNvbj1cImZhLWJ1bGxzZXllXCIgdGl0bGU9XCLXqdec15EgMzog15TXkteT16jXqiDXmdei15PXmdedINeV16rXl9eW15nXqlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9XCLXmdei15Mg16jXldeV15cgMTpcIj48aW5wdXQgdHlwZT1cIm51bWJlclwiIHZhbHVlPXtkYXRhLnNlY3Rpb244LnN0ZXAzLnRwMX0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVOZXN0ZWRDaGFuZ2UoJ3NlY3Rpb244LnN0ZXAzLnRwMScsIHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpKX0gY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctYXV0b1wiIC8+PC9JbmZvUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9XCLXmdei15Mg16jXldeV15cgMjpcIj48aW5wdXQgdHlwZT1cIm51bWJlclwiIHZhbHVlPXtkYXRhLnNlY3Rpb244LnN0ZXAzLnRwMn0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVOZXN0ZWRDaGFuZ2UoJ3NlY3Rpb244LnN0ZXAzLnRwMicsIHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpKX0gY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctYXV0b1wiIC8+PC9JbmZvUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9XCLXpNeV15jXoNem15nXkNecINeo15XXldeXICjXmdei15MgMSk6XCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e2Rpc3BsYXlEYXRhLnNlY3Rpb244LnN0ZXAzLnByb2ZpdFBvdGVudGlhbDF9IHJlYWRPbmx5IGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG9cIiAvPjwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPVwi15nXl9ehINeh15nXm9eV158v16HXmdeb15XXmTpcIiBvbkluZm9DbGljaz17aGFuZGxlSW5mb0NsaWNrfSBwYXJhbUtleT1cIlJpc2tSZXdhcmRSYXRpb1wiIGluZGljYXRvcj17Z2V0Umlza1Jld2FyZEluZGljYXRvcigpfT48aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT17ZGlzcGxheURhdGEuc2VjdGlvbjguc3RlcDMucmlza1Jld2FyZFJhdGlvfSByZWFkT25seSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSW5mb1NlY3Rpb25DYXJkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvU2VjdGlvbkNhcmQgaWNvbj1cImZhLWNoZWNrLWRvdWJsZVwiIHRpdGxlPVwi16nXnNeRIDQ6INeh15LXmdeo15Qg15XXoNeZ16rXldeXINeR15nXpteV16LXmdedXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD1cIteq15DXqNeZ15og16HXkteZ16jXlDpcIj48aW5wdXQgdHlwZT1cImRhdGVcIiB2YWx1ZT17ZGF0YS5zZWN0aW9uOC5zdGVwNC5jbG9zZURhdGV9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlTmVzdGVkQ2hhbmdlKCdzZWN0aW9uOC5zdGVwNC5jbG9zZURhdGUnLCBlLnRhcmdldC52YWx1ZSl9IGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG9cIiAvPjwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPVwi157Xl9eZ16gg16HXkteZ16jXlDpcIj48aW5wdXQgdHlwZT1cIm51bWJlclwiIHZhbHVlPXtkYXRhLnNlY3Rpb244LnN0ZXA0LmNsb3NlUHJpY2V9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlTmVzdGVkQ2hhbmdlKCdzZWN0aW9uOC5zdGVwNC5jbG9zZVByaWNlJywgcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCIgLz48L0luZm9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1JvdyBsYWJlbD1cItei157XnNeV16o6XCI+PGlucHV0IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17ZGF0YS5zZWN0aW9uOC5zdGVwNC5mZWVzfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZU5lc3RlZENoYW5nZSgnc2VjdGlvbjguc3RlcDQuZmVlcycsIHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpKX0gY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctYXV0b1wiIC8+PC9JbmZvUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9XCLXqteV16bXkNeUINek15nXoNeg16HXmdeqOlwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPXtkaXNwbGF5RGF0YS5zZWN0aW9uOC5zdGVwNC5maW5hbmNpYWxSZXN1bHR9IHJlYWRPbmx5IGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG9cIiAvPjwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvUm93IGxhYmVsPVwi16rXqdeV15DXlCAoJSk6XCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e2Rpc3BsYXlEYXRhLnNlY3Rpb244LnN0ZXA0LnJvaX0gcmVhZE9ubHkgY2xhc3NOYW1lPVwidy1mdWxsIHNtOnctYXV0b1wiIC8+PC9JbmZvUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0luZm9TZWN0aW9uQ2FyZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb25DYXJkIGljb249XCJmYS1ib29rLW9wZW5cIiB0aXRsZT1cItep15zXkSA1OiDXqteZ16LXldeTINeV15zXnteZ15PXlFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9Sb3cgbGFiZWw9XCLXnNen15fXmdedINeV16rXldeR16DXldeqOlwiPjx0ZXh0YXJlYSB2YWx1ZT17ZGF0YS5zZWN0aW9uOC5zdGVwNS5sZXNzb25zTGVhcm5lZH0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVOZXN0ZWRDaGFuZ2UoJ3NlY3Rpb244LnN0ZXA1Lmxlc3NvbnNMZWFybmVkJywgZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJ3LWZ1bGxcIiAvPjwvSW5mb1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JbmZvU2VjdGlvbkNhcmQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWN0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFiIGxhYmVsPVwi157XqNeb15YgQUlcIiBpY29uPVwiZmEtcm9ib3RcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QWlBbmFseXNpcyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBaVJpc2tBZHZpc29yIHJpc2tEYXRhPXtyaXNrRGF0YX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VjdGlvbiB0aXRsZT1cIvCfkqEg15TXntec16bXldeqIEFJINeY16fXmNeZ15XXqlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb25DYXJkIGljb249XCJmYS1saWdodGJ1bGJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthcGlTdGF0dXMubG9hZGluZyAmJiA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+15jXldei158g15TXntec16bXldeqLi4uPC9wPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthcGlTdGF0dXMuZXJyb3IgJiYgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNDAwXCI+e2FwaVN0YXR1cy5lcnJvcn08L3A+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFhcGlTdGF0dXMubG9hZGluZyAmJiAhYXBpU3RhdHVzLmVycm9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWN0aWNhbFJlY29tbWVuZGF0aW9ucy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1kaXNjIHByLTUgc3BhY2UteS0yIHRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0YWN0aWNhbFJlY29tbWVuZGF0aW9ucy5tYXAoKHJlYywgaW5kZXgpID0+IDxsaSBrZXk9e2luZGV4fT57cmVjfTwvbGk+KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+15TXltefINeg16rXldeg15nXnSDXoNeV16HXpNeZ150g15vXk9eZINec15TXpNeZ16cg15TXntec16bXldeqINeY16fXmNeZ15XXqi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JbmZvU2VjdGlvbkNhcmQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWN0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFiIGxhYmVsPVwi157Xoteo15vXqiDXldeU15LXk9eo15XXqlwiIGljb249XCJmYS1jb2dzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbnRyb2xQYW5lbCAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCSVREYXNoYm9hcmQgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VmVyc2lvbk1hbmFnZW1lbnRDZW50ZXIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0YWJhc2VNYW5hZ2VyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1RhYj5cbiAgICAgICAgICAgICAgICAgICAgPC9UYWJzPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJ3LWZ1bGwgbXQtMTAgcHQtNCBib3JkZXItdCBib3JkZXItZ3JheS03MDAgdGV4dC1jZW50ZXIgdGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5QcmF4aXMgQUkgRGFzaGJvYXJkIMKpIDIwMjUuINeb15wg15TXlteb15XXmdeV16og16nXnteV16jXldeqLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTJcIj7Xm9eq15Eg15XXmdeq15XXqDog16rXldeb16DXlCDXlteVINee16HXldek16fXqiBcIteb16TXmSDXqdeU15nXkFwiINec15zXkCDXm9ecINeQ15fXqNeZ15XXqi4g15TXntep16rXntepINeg15XXqdeQINeR15vXnCDXlNeh15nXm9eV16DXmdedINeU16fXqdeV16jXmdedINec16nXmdee15XXqSDXkdeULiDXkdep15XXnSDXnten16jXlCDXlNeZ15XXpteoINec15Ag15nXlNeZ15Qg15DXl9eo15DXmSDXnNeb15wg16DXltenLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9mb290ZXI+XG5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gIDguIFJFTkRFUiBUSEUgQVBQXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBcbiAgICAgICAgY29uc3Qgcm9vdCA9IGNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKSk7XG4gICAgICAgIHJvb3QucmVuZGVyKFxuICAgICAgICAgICAgPERhdGFQcm92aWRlcj5cbiAgICAgICAgICAgICAgICA8RmlyZWJhc2VQcm92aWRlcj5cbiAgICAgICAgICAgICAgICAgICAgPEFwcCAvPlxuICAgICAgICAgICAgICAgIDwvRmlyZWJhc2VQcm92aWRlcj5cbiAgICAgICAgICAgIDwvRGF0YVByb3ZpZGVyPlxuICAgICAgICApOyBcbiAgICAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztFQUNRO0VBQ0EsTUFBTTtJQUFFQSxLQUFLO0lBQUVDLFFBQVE7SUFBRUMsUUFBUTtJQUFFQyxLQUFLO0lBQUVDLFdBQVc7SUFBRUM7RUFBTSxDQUFDLEdBQUdDLE1BQU07RUFDdkUsTUFBTTtJQUFFQyxRQUFRO0lBQUVDLFNBQVM7SUFBRUMsYUFBYTtJQUFFQyxVQUFVO0lBQUVDLFdBQVc7SUFBRUMsTUFBTTtJQUFFQztFQUFRLENBQUMsR0FBR2IsS0FBSztFQUM5RixNQUFNO0lBQUVjO0VBQVcsQ0FBQyxHQUFHYixRQUFROztFQUUvQjtFQUNBO0VBQ0E7RUFDQSxNQUFNYyxXQUFXLEdBQUcsS0FBSztFQUN6QixNQUFNQyxlQUFlLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDQyxRQUFRLENBQUNDLGNBQWMsQ0FB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</script></head>
<body class="min-h-screen p-4 sm:p-6 md:p-8 flex flex-col items-center">
    <div id="root"><div class="dashboard-container w-full max-w-7xl p-4 sm:p-8 md:p-10 relative"><div class="absolute top-4 left-4 text-sm text-gray-400 font-light">02.09.2025, 13:00:20</div><div class="text-center mb-4"><h1 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-teal-400 mb-2 leading-tight">Praxis AI</h1><p class="text-lg sm:text-xl text-gray-300 font-light">מתרגמים כאוס בשוק לבהירות אופרטיבית</p></div><nav class="text-sm text-gray-400 mb-6" aria-label="Breadcrumb"><ol class="list-none p-0 inline-flex"><li class="flex items-center"><a href="#" class="hover:text-teal-400">בית</a><i class="fas fa-chevron-left mx-2"></i></li><li class="flex items-center"><span class="text-white">לוח מחוונים</span></li></ol></nav><div><div class="tabs-container"><button class=" tab-button"><i class="fas fa-tachometer-alt ml-2"></i>לוח מחוונים</button><button class=" tab-button"><i class="fas fa-edit ml-2"></i>ניתוח עסקה</button><button class=" tab-button"><i class="fas fa-robot ml-2"></i>מרכז AI</button><button class="active tab-button"><i class="fas fa-cogs ml-2"></i>מערכת והגדרות</button></div><div class="tab-content-container"><div class="tab-content"><div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"><div class="bg-gray-700 p-4 rounded-lg shadow-md flex flex-col justify-between"><p class="text-gray-400 text-sm font-medium">ערך תיק נוכחי ($)</p><p class="text-2xl font-bold text-white">$3,661.87</p><div class="flex items-center text-sm text-gray-300"><span></span></div></div><div class="bg-gray-700 p-4 rounded-lg shadow-md flex flex-col justify-between"><p class="text-gray-400 text-sm font-medium">רווח/הפסד כולל ($)</p><p class="text-2xl font-bold text-white">$959.16</p><div class="flex items-center text-sm text-green-400"><i class="fas fa-arrow-up ml-1"></i><span>35.49%</span></div></div><div class="bg-gray-700 p-4 rounded-lg shadow-md flex flex-col justify-between"><p class="text-gray-400 text-sm font-medium">רווח/הפסד יומי ($)</p><p class="text-2xl font-bold text-white">$-245</p><div class="flex items-center text-sm text-red-400"><span></span></div></div><div class="bg-gray-700 p-4 rounded-lg shadow-md flex flex-col justify-between"><p class="text-gray-400 text-sm font-medium">כוח קנייה ($)</p><p class="text-2xl font-bold text-white">$49.92</p><div class="flex items-center text-sm text-gray-300"><span></span></div></div></div><div class="section-container" data-section-title="🛡️ ניהול סיכונים מתקדם"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">🛡️ ניהול סיכונים מתקדם</h2><div class="section-grid"><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-shield-alt" title="חשיפת סיכון בתיק ההשקעות"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">חשיפת סיכון בתיק ההשקעות</h3></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><div class="bg-gray-700 p-4 rounded-lg shadow-md flex flex-col justify-between"><p class="text-gray-400 text-sm font-medium">סיכון כולל בעסקאות פתוחות</p><p class="text-2xl font-bold text-white">$0.00</p><div class="flex items-center text-sm text-red-400"><i class="fas fa-arrow-down ml-1"></i><span>0 עסקאות</span></div></div></div><div><h4 class="font-bold text-lg text-teal-400 mb-2">ריכוז סיכונים לפי סקטור</h4><div class="bg-gray-800 p-3 rounded-lg"><p class="text-gray-400 text-sm">אין עסקאות פתוחות לניתוח.</p></div></div></div></div></div></div><div class="bg-gray-800 p-4 rounded-lg mb-8 flex flex-wrap items-center justify-between gap-4"><div class="flex items-center gap-2"><span class="font-semibold">סנן עסקאות:</span><button class="px-3 py-1 text-xs rounded-md bg-indigo-600 text-white">הכל</button><button class="px-3 py-1 text-xs rounded-md bg-gray-600">פתוח</button><button class="px-3 py-1 text-xs rounded-md bg-gray-600">סגור</button></div><div class="relative"><input type="text" placeholder="חפש לפי סימול..." class="w-full sm:w-auto pr-8" value=""><i class="fas fa-search absolute right-2 top-1/2 -translate-y-1/2 text-gray-400"></i></div></div><div class="section-container" data-section-title="יומן עסקאות מתקדם"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">יומן עסקאות מתקדם</h2><div class="section-grid"><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-book" title="נהל ונתח את העסקאות שלך"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">נהל ונתח את העסקאות שלך</h3></div></div><div class="flex flex-wrap gap-4 justify-between items-center mb-4"><div class="flex gap-2 items-center"><label class="text-sm">מתאריך:</label><input type="date" class="bg-gray-800 border border-gray-600 rounded-md p-1 text-sm" value=""><label class="text-sm">עד:</label><input type="date" class="bg-gray-800 border border-gray-600 rounded-md p-1 text-sm" value=""></div><button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md"><i class="fas fa-plus ml-2"></i>עסקה חדשה</button></div><div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 text-center"><div class="bg-gray-700 p-4 rounded-lg shadow-md flex flex-col justify-between"><p class="text-gray-400 text-sm font-medium">רווח/הפסד כולל</p><p class="text-2xl font-bold text-white">$0.00</p><div class="flex items-center text-sm text-green-400"><span></span></div></div><div class="bg-gray-700 p-4 rounded-lg shadow-md flex flex-col justify-between"><p class="text-gray-400 text-sm font-medium">שיעור הצלחה</p><p class="text-2xl font-bold text-white">0.00%</p><div class="flex items-center text-sm text-red-400"><span></span></div></div><div class="bg-gray-700 p-4 rounded-lg shadow-md flex flex-col justify-between"><p class="text-gray-400 text-sm font-medium">עסקאות רווחיות</p><p class="text-2xl font-bold text-white">0</p><div class="flex items-center text-sm text-green-400"><span></span></div></div><div class="bg-gray-700 p-4 rounded-lg shadow-md flex flex-col justify-between"><p class="text-gray-400 text-sm font-medium">עסקאות הפסדיות</p><p class="text-2xl font-bold text-white">0</p><div class="flex items-center text-sm text-red-400"><span></span></div></div></div><div class="w-full overflow-x-auto" style="max-height: 400px;"><table class="w-full text-right text-sm"><thead><tr class="border-b border-gray-600"><th class="p-2 cursor-pointer">סימול <i class="fas fa-sort"></i></th><th class="p-2 cursor-pointer">סטטוס <i class="fas fa-sort"></i></th><th class="p-2 cursor-pointer">עדכון אחרון <i class="fas fa-sort"></i></th><th class="p-2 cursor-pointer">רווח/הפסד ($) <i class="fas fa-sort"></i></th><th class="p-2 cursor-pointer">תשואה (%) <i class="fas fa-sort"></i></th><th class="p-2 text-center">פעולות</th></tr></thead><tbody></tbody></table></div></div></div></div><div class="section-container" data-section-title="📊 תצוגות גרפיות"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">📊 תצוגות גרפיות</h2><div class="section-grid"><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-chart-pie" title="התפלגות תוצאות עסקאות"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">התפלגות תוצאות עסקאות</h3></div></div><p class="text-xs text-gray-400 mb-2 -mt-2">סיכום של כל תוצאות העסקאות שנרשמו.</p><canvas width="184" height="184" style="display: block; box-sizing: border-box; height: 277px; width: 277px;"></canvas></div><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-chart-line" title="ערך התיק לאורך זמן"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">ערך התיק לאורך זמן</h3></div></div><p class="text-xs text-gray-400 mb-2 -mt-2">היסטוריית ביצועי התיק.</p><div class="flex justify-center gap-2 mb-4"><button class="px-3 py-1 text-xs rounded-md bg-gray-600">7י</button><button class="px-3 py-1 text-xs rounded-md bg-gray-600">30י</button><button class="px-3 py-1 text-xs rounded-md bg-indigo-600 text-white">90י</button></div><canvas width="185" height="92" style="display: block; box-sizing: border-box; height: 138px; width: 277px;"></canvas></div></div></div></div><div class="tab-content"><div class="section-container" data-section-title="✅ שלב 1: סטטוס חשבון – תיק ההשקעות שלי"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">✅ שלב 1: סטטוס חשבון – תיק ההשקעות שלי</h2><div class="section-grid"><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-wallet" title="סטטוס חשבון"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">סטטוס חשבון</h3></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">ערך תיק התחלתי (ש"ח):</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="10000"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">שער דולר התחלתי:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="3.7"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">ערך תיק התחלתי ($):</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm:w-auto" value="2702.70"></div></div></div><div class="border-t border-gray-700 my-4"></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">ערך תיק נוכחי (ש"ח):</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="13732"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">שער דולר נוכחי:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="3.75"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">ערך תיק נוכחי ($):</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm-w-auto" value="3661.87"></div></div></div><div class="border-t border-gray-700 my-4"></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">יתרה ($):</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="86.09"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">יתרה (ש"ח):</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="-108.07"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">מסגרת אשראי:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="0"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">כוח קנייה ($):</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="49.92"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">רווח/הפסד יומי ($):</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="-245"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">רווח/הפסד כולל ($):</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm:w-auto" value="959.16"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">אחוז רווח/הפסד:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm:w-auto" value="35.49"></div><div class="mr-4"><span class="text-green-400">35.49%</span></div></div></div></div></div></div><div class="section-container" data-section-title="✅ שלב 2: ניתוח מניה – פרופיל חברה"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">✅ שלב 2: ניתוח מניה – פרופיל חברה</h2><div class="section-grid"><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-building" title="פרטי המניה"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">פרטי המניה</h3></div></div><div class="flex gap-2 mb-4"><button class="w-full py-2 text-sm rounded-md bg-indigo-600 text-white">מצב ידני</button><button class="w-full py-2 text-sm rounded-md bg-gray-600">מצב אוטומטי (API)</button></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">שם המניה:<i class="fas fa-info-circle text-gray-400 mr-2 cursor-pointer" title="למידע נוסף על שם המניה:"></i></span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><div class="relative w-full sm:w-auto flex items-center"><input type="text" class="w-full" value=""></div></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">סימול:<i class="fas fa-info-circle text-gray-400 mr-2 cursor-pointer" title="למידע נוסף על סימול:"></i></span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><div class="relative w-full sm:w-auto flex items-center"><input type="text" class="w-full" value=""><button disabled="" class="mr-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-1 px-3 rounded-lg shadow-md transition-all duration-200 disabled:opacity-50">אחזר</button></div></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">סקטור:<i class="fas fa-info-circle text-gray-400 mr-2 cursor-pointer" title="למידע נוסף על סקטור:"></i></span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><select class="w-full sm:w-auto"><option value="">בחר סקטור</option><option value="Industrials">Industrials</option><option value="Information Technology">Information Technology</option><option value="Health Care">Health Care</option></select></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">תעשייה:<i class="fas fa-info-circle text-gray-400 mr-2 cursor-pointer" title="למידע נוסף על תעשייה:"></i></span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><select class="w-full sm:w-auto"><option value="">בחר תעשייה</option></select></div></div></div></div></div></div><div class="section-container" data-section-title="✅ שלב 3: תנועת שוק – נתוני שוק"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">✅ שלב 3: תנועת שוק – נתוני שוק</h2><div class="section-grid"><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-chart-line" title="נתוני שוק"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">נתוני שוק</h3></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">מחיר נוכחי:<i class="fas fa-info-circle text-gray-400 mr-2 cursor-pointer" title="למידע נוסף על מחיר נוכחי:"></i></span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="0"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">טווח יומי:<i class="fas fa-info-circle text-gray-400 mr-2 cursor-pointer" title="למידע נוסף על טווח יומי:"></i></span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" class="w-full sm:w-auto" value=""></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">טווח יום קודם:<i class="fas fa-info-circle text-gray-400 mr-2 cursor-pointer" title="למידע נוסף על טווח יום קודם:"></i></span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" class="w-full sm:w-auto" value=""></div></div></div></div></div></div><div class="section-container" data-section-title="✅ שלב 4: תוכנית ניהול עסקה ב-5 שלבים"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">✅ שלב 4: תוכנית ניהול עסקה ב-5 שלבים</h2><div class="section-grid"><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-tasks" title="שלב 1: הגדרת פרטי העסקה"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">שלב 1: הגדרת פרטי העסקה</h3></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">סטטוס:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" class="w-full sm:w-auto" value="פתוח"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">תאריך רכישה:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="date" class="w-full sm:w-auto" value=""></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">מחיר כניסה:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="0"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">יחידות:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="0"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">סטופ לוס:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="0"></div></div></div></div><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-shield-alt" title="שלב 2: תוכנית ניהול סיכונים"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">שלב 2: תוכנית ניהול סיכונים</h3></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">סיכון פוטנציאלי ליחידה:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm:w-auto" value="0.00"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">סיכון פיננסי:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm:w-auto" value="0.00"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">עלות כוללת:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm:w-auto" value="0.00"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">יתרה נותרת:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm:w-auto" value="0.00"></div></div></div></div><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-bullseye" title="שלב 3: הגדרת יעדים ותחזית"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">שלב 3: הגדרת יעדים ותחזית</h3></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">יעד רווח 1:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="0"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">יעד רווח 2:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value="0"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">פוטנציאל רווח (יעד 1):</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm:w-auto" value="0.00"></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">יחס סיכון/סיכוי:<i class="fas fa-info-circle text-gray-400 mr-2 cursor-pointer" title="למידע נוסף על יחס סיכון/סיכוי:"></i></span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm:w-auto" value=""></div></div></div></div><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-check-double" title="שלב 4: סגירה וניתוח ביצועים"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">שלב 4: סגירה וניתוח ביצועים</h3></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">תאריך סגירה:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="date" class="w-full sm:w-auto" value=""></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">מחיר סגירה:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value=""></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">עמלות:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="number" class="w-full sm:w-auto" value=""></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">תוצאה פיננסית:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm:w-auto" value=""></div></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">תשואה (%):</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><input type="text" readonly="" class="w-full sm:w-auto" value=""></div></div></div></div><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-book-open" title="שלב 5: תיעוד ולמידה"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">שלב 5: תיעוד ולמידה</h3></div></div><div class="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2"><span class="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">לקחים ותובנות:</span><div class="w-full sm:w-2/3 flex items-center justify-end"><div class="flex-grow"><textarea class="w-full"></textarea></div></div></div></div></div></div></div><div class="tab-content"><div class="section-container" data-section-title="🤖 ניתוח טכני AI"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">🤖 ניתוח טכני AI</h2><div class="section-grid"><div class="ai-analysis-section col-span-full p-6 rounded-lg"><p class="text-sm text-gray-400 mb-4">קבל ניתוח טכני בזמן אמת של המניה הנוכחית, בהתבסס על הנתונים שהזנת. הניתוח נוצר על ידי מודל AI מתקדם שאומן על עקרונות ניתוח פיננסי.</p><button disabled="" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 min-h-[44px]"><i class="fas fa-robot ml-2"></i> הפק ניתוח AI</button><div class="ai-analysis-output mt-4 p-4 rounded-md min-h-[100px]  whitespace-pre-wrap"></div></div></div></div><div class="section-container" data-section-title="🛡️ יועץ סיכונים AI"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">🛡️ יועץ סיכונים AI</h2><div class="section-grid"><div class="ai-analysis-section col-span-full p-6 rounded-lg"><p class="text-sm text-gray-400 mb-4">נתח את חשיפת הסיכון הכוללת של התיק שלך על סמך כל העסקאות הפתוחות. ה-AI יספק תובנות לגבי ריכוזיות סיכונים ויציע פעולות אפשריות.</p><button disabled="" class="w-full bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 min-h-[44px]"><i class="fas fa-shield-alt ml-2"></i> הפק ניתוח סיכוני תיק</button><div class="ai-analysis-output mt-4 p-4 rounded-md min-h-[100px]  whitespace-pre-wrap"></div></div></div></div><div class="section-container" data-section-title="💡 המלצות AI טקטיות"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">💡 המלצות AI טקטיות</h2><div class="section-grid"><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-lightbulb"></i></div><div class="text-content flex-grow"></div></div><ul class="list-disc pr-5 space-y-2 text-gray-300"><li>RSI במכירת יתר (&lt;30), צפה להיפוך אפשרי.</li></ul></div></div></div></div><div class="tab-content active"><div class="modal-backdrop"><div class="modal-content"><h2 class="text-2xl font-bold text-teal-400 mb-4">ערכת גיבוי מלאה</h2><div class="text-gray-300 space-y-3"><div><p class="mb-4">כאן נמצאים כל הנכסים לגיבוי מלא של הפרויקט שלך. השתמש בכפתורים כדי לשמור כל נכס.</p><div class="space-y-4"><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold mb-2 text-lg text-teal-400">גיבוי קבצים</h4><div class="flex justify-between items-center mb-2"><div><h5 class="font-semibold">קוד מקור (HTML)</h5><p class="text-sm text-gray-400">הקוד המלא של האפליקציה.</p></div><button class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 rounded-lg text-sm">הורד HTML</button></div><div class="flex justify-between items-center mb-2"><div><h5 class="font-semibold">נתוני לוח מחוונים (JSON)</h5><p class="text-sm text-gray-400">כל נתוני ניתוח העסקאות הנוכחיים שלך.</p></div><button class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 rounded-lg text-sm">הורד JSON</button></div><div class="flex justify-between items-center"><div><h5 class="font-semibold">תמונת מצב חזותית (PNG)</h5><p class="text-sm text-gray-400">צילום מסך של תצוגת לוח המחוונים הנוכחית.</p></div><button class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 rounded-lg text-sm">הורד PNG</button></div></div><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold mb-2 text-lg text-teal-400">גיבוי ושחזור מבוסס קוד</h4><button class="w-full mb-2 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg">צור קוד שחזור</button><div class="space-y-2 mt-4"><label class="text-sm text-gray-400">הדבק כאן קוד שחזור:</label><textarea class="w-full bg-gray-900 border border-gray-600 rounded-md p-2 text-xs" rows="3"></textarea><button class="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg">שחזר מקוד</button></div></div></div></div></div><button class="mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg">סגור</button></div></div><div class="section-container" data-section-title="בקרת מערכת וקלט/פלט"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">בקרת מערכת וקלט/פלט</h2><div class="section-grid"><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-cogs" title="פעולות וניהול נתונים"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">פעולות וניהול נתונים</h3></div></div><div class="grid grid-cols-2 gap-2 mb-4"><button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 min-h-[44px]" disabled=""><i class="fas fa-save ml-2"></i> שמור עסקה חדשה</button><button class="w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center min-h-[44px]" title="רענן נתוני שוק חיים"><i class="fas fa-sync-alt ml-2"></i> רענן נתונים</button></div><div class="grid grid-cols-2 gap-2"><button class="bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]" title="פתח את ערכת הגיבוי המלאה"><i class="fas fa-archive ml-1"></i> ערכת גיבוי מלאה</button><button class="bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]" title="ייבא נתונים מקובץ גיבוי JSON"><i class="fas fa-file-upload ml-1"></i> ייבוא נתונים (JSON)</button><input type="file" class="hidden" accept=".json"></div><div class="mt-2 grid grid-cols-2 gap-2"><button class="w-full bg-purple-600 hover:bg-purple-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]" title="ייצא דוח PDF מותאם אישית"><i class="fas fa-file-pdf ml-1"></i> ייצוא PDF מותאם</button><button class="w-full bg-orange-500 hover:bg-orange-600 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]" title="פתח את מרכז האימון של ה-AI"><i class="fas fa-brain ml-1"></i> מרכז אימון AI</button></div><div class="mt-2"><button class="w-full bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]" title="פתח את מאגר הידע"><i class="fas fa-book-open ml-1"></i> מאגר ידע</button></div><div class="flex flex-col text-sm mt-4"><label for="changeDescriptionInput" class="text-gray-400 mb-1">תיאור השינוי (למעקב גרסאות):</label><textarea id="changeDescriptionInput" placeholder="לדוגמה, עדכון עסקה על AAPL..." class="w-full bg-gray-800 border border-gray-600 rounded-md p-2 text-white"></textarea></div></div><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-key" title="ניהול מפתחות API"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">ניהול מפתחות API</h3></div></div><div class="space-y-3"><p class="text-xs text-gray-400">הזן כאן את מפתחות ה-API שלך. הם יישמרו בצורה מאובטחת.</p><div><label class="text-sm text-gray-300">מפתח API של Alpha Vantage</label><input type="password" placeholder="הזן את המפתח שלך לנתונים חיים" class="w-full mt-1" value="U4464522W6V69P5G"></div><div><label class="text-sm text-gray-300">טוקן גישה אישי של GitHub</label><input type="password" placeholder="הזן את הטוקן שלך לגיבויים ב-Gist" class="w-full mt-1" value=""></div></div></div><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-cloud-upload-alt" title="גיבוי ענן (GitHub Gist)"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">גיבוי ענן (GitHub Gist)</h3></div></div><div class="space-y-3"><p class="text-xs text-gray-400">גבה את כל נכסי הפרויקט ל-Gist פרטי ומאובטח בחשבון ה-GitHub שלך.</p><button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md disabled:opacity-50">גבה ל-Gist</button></div></div></div></div><div class="bg-gray-900 rounded-lg p-4 shadow-md border border-gray-700 mb-6"><h3 class="text-xl font-semibold text-orange-400 flex items-center mb-4"><i class="fas fa-tachometer-alt ml-3"></i>תקינות מערכת (BIT)</h3><div class="grid grid-cols-2 sm:grid-cols-4 gap-4 text-center"><div><i class="fas fa-cloud text-2xl mb-2" style="color: var(--green-indicator);"></i><p class="text-sm text-gray-400">סנכרון ענן</p><p class="font-semibold" style="color: var(--green-indicator);">מחובר</p></div><div class="flex flex-col"><i class="fas fa-shield-alt text-2xl mb-2" style="color: var(--text-color);"></i><p class="text-sm text-gray-400">גיבוי מלא אחרון</p><p class="font-semibold text-xs" style="color: var(--text-color);">v8.3 (לוקליזציה מלאה לעברית ותיקוני RTL.): 02.09.2025, 13:00:20</p></div><div><i class="fas fa-check-circle text-2xl mb-2" style="color: var(--green-indicator);"></i><p class="text-sm text-gray-400">שלמות נתונים</p><p class="font-semibold" style="color: var(--green-indicator);">תקין</p></div><div><i class="fas fa-brain text-2xl mb-2" style="color: var(--green-indicator);"></i><p class="text-sm text-gray-400">שירותי AI</p><p class="font-semibold" style="color: var(--green-indicator);">פעילים</p></div></div></div><div class="section-container" data-section-title="🚨 בקרת גרסאות ושחזור"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">🚨 בקרת גרסאות ושחזור</h2><div class="section-grid"><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-history" title="יומן שינויים באפליקציה"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">יומן שינויים באפליקציה</h3></div></div><div class="w-full overflow-x-auto" style="max-height: 250px;"><table class="w-full text-right text-sm"><thead><tr class="border-b border-gray-600"><th class="p-2">גרסה</th><th class="p-2">תאריך</th><th class="p-2">תיאור</th></tr></thead><tbody><tr class="border-b border-gray-700 hover:bg-gray-700"><td class="p-2 font-semibold text-teal-400">8.3</td><td class="p-2">2025-09-02</td><td class="p-2">לוקליזציה מלאה לעברית ותיקוני RTL.</td></tr><tr class="border-b border-gray-700 hover:bg-gray-700"><td class="p-2 font-semibold text-teal-400">8.2</td><td class="p-2">2025-08-22</td><td class="p-2">עדכון גרסה.</td></tr><tr class="border-b border-gray-700 hover:bg-gray-700"><td class="p-2 font-semibold text-teal-400">8.1</td><td class="p-2">2025-08-22</td><td class="p-2">Refactored calculation logic to resolve infinite loop and instability. Restored full stock list.</td></tr><tr class="border-b border-gray-700 hover:bg-gray-700"><td class="p-2 font-semibold text-teal-400">8.0</td><td class="p-2">2025-08-22</td><td class="p-2">Fixed infinite loop bug, reverted to English UI, and restored full stock database.</td></tr><tr class="border-b border-gray-700 hover:bg-gray-700"><td class="p-2 font-semibold text-teal-400">7.9</td><td class="p-2">2025-08-21</td><td class="p-2">Fixed infinite loop bug caused by useEffect dependencies.</td></tr></tbody></table></div></div></div></div><div class="section-container" data-section-title="ניהול מאגר נתונים"><h2 class="section-group-title text-right mt-10 mb-5 pb-2">ניהול מאגר נתונים</h2><div class="section-grid"><div class="info-section flex flex-col"><div class="info-section-header flex items-center w-full mb-2"><div class="icon-container ml-3 w-8 text-center"><i class="fas fa-database" title="העשרת נתונים"></i></div><div class="text-content flex-grow"><h3 class="text-right mt-0 mb-2">העשרת נתונים</h3></div></div><div class="p-2 text-center bg-gray-800 rounded-md mb-4"><p class="text-lg">מניות במאגר GICS: <span class="font-bold text-accent-color-2">120</span></p></div><p class="text-sm text-gray-400 mb-4">העלה קובץ CSV עם רשימת מניות כדי להרחיב את מאגר הנתונים. המערכת תסיר כפילויות ותנסה להשלים מידע חסר באופן אוטומטי. ה-CSV חייב להכיל את העמודות הבאות: <b>Ticker, Stock Name, Sector, Industry</b>.</p><input type="file" class="hidden" accept=".csv"><button class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 min-h-[44px]"><i class="fas fa-file-csv ml-2"></i> העלה מניות (CSV)</button></div></div></div></div></div></div><footer class="w-full mt-10 pt-4 border-t border-gray-700 text-center text-xs text-gray-500"><p>Praxis AI Dashboard © 2025. כל הזכויות שמורות.</p><p class="mt-2">כתב ויתור: תוכנה זו מסופקת "כפי שהיא" ללא כל אחריות. המשתמש נושא בכל הסיכונים הקשורים לשימוש בה. בשום מקרה היוצר לא יהיה אחראי לכל נזק.</p></footer></div></div>

    <script type="text/babel" data-presets="react" data-plugins="transform-modules-umd">
        // Access React, ReactDOM and other globals
        const { React, ReactDOM, firebase, Chart, html2canvas, jspdf } = window;
        const { useState, useEffect, createContext, useContext, useCallback, useRef, useMemo } = React;
        const { createRoot } = ReactDOM;

        //======================================================================
        //  1. DATABASE & MOCK DATA
        //======================================================================
        const APP_VERSION = "8.3";
        const initialGicsData = JSON.parse(document.getElementById('gics-data').textContent || '[]');
        
        const paramDataElement = document.getElementById('param-data');
        const paramCSV = paramDataElement.textContent;
        const paramData = paramCSV.split('\n').slice(1)
            .filter(line => line && line.trim() !== '')
            .reduce((acc, line) => {
                const values = line.match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g).map(v => v.replace(/"/g, ''));
                const key = values[1]; 
                if (key) {
                    acc[key.trim()] = {
                        fullName: values[0],
                        definition: values[2],
                        usage: values[5],
                        howTo: values[6]
                    };
                }
                return acc;
            }, {});


        const generateMockPortfolioData = () => {
            const data = [];
            let value = 13732;
            for (let i = 90; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                value += (Math.random() - 0.48) * 250;
                data.push({ time: date.toISOString().split('T')[0], value: value });
            }
            return data;
        };

        //======================================================================
        //  2. CONTEXTS (State Management)
        //======================================================================
        const DataContext = createContext();
        const FirebaseContext = createContext();
        
        const useData = () => useContext(DataContext);
        const useFirebase = () => useContext(FirebaseContext);

        //======================================================================
        //  3. DATA PROVIDER COMPONENT
        //======================================================================
        const DataProvider = ({ children }) => {
            const [currentDateTime, setCurrentDateTime] = useState('');
            const [changeDescription, setChangeDescription] = useState('');
            const [isDataDirty, setIsDataDirty] = useState(false);
            const [apiStatus, setApiStatus] = useState({ loading: false, error: null });
            const [tradeLog, setTradeLog] = useState([]);
            const [currentTradeId, setCurrentTradeId] = useState(null);
            const [globalFilter, setGlobalFilter] = useState('הכל');
            const [globalSearchQuery, setGlobalSearchQuery] = useState('');
            const [gicsDatabase, setGicsDatabase] = useState(initialGicsData);
            const [isLiveDataSet, setIsLiveDataSet] = useState(false);
            const [dataEntryMode, setDataEntryMode] = useState('manual');

            const initialData = {
                section1: {
                    initialPortfolioValueILS: 10000,
                    initialUSDRate: 3.70,
                    initialPortfolioValueUSD: '0.00',
                    currentPortfolioValueILS: 13732,
                    currentUSDRate: 3.75,
                    currentPortfolioValueUSD: '0.00',
                    balanceUSD: 86.09,
                    balanceILS: -108.07,
                    creditLimit: 0,
                    buyingPowerUSD: 49.92,
                    dailyPLUSD: -245,
                    totalPLUSD: '0.00',
                    totalPLPercentage: '0.00'
                },
                section2: {
                    stockName: '', tickerSymbol: '', sector: '', industry: '', exchange: '', securityType: 'Stock', marketCap: '',
                },
                section3: {
                    currentPrice: 0, dailyRange: '', prevDayRange: '', currentVolume: '', avgVolume: '', unusualVolume: '',
                },
                section4: {
                    supportLevels: '', resistanceLevels: '', ma20: 0, ma50: 0, ma100: 0, ma150: 0, ma200: 0, maMeaning: '', maAction: '',
                    macd: 0, macdSignal: 0, macdHistogram: 0, macdMeaning: '', macdAction: '', rsi: 0, dailyRange: 0, atr: 0, atrPercent: 0,
                    volatilityIndicator: '', vwap: 0,
                },
                section5: {
                    dailyPivot: 0, priceVsPivot: '', pivotAction: '', fib236: 0, fib382: 0, fibGoldenPocket: '', fib786: 0, priceAction: '',
                },
                section6: {
                    revenue: '', eps: 0, peRatio: 0, pbRatio: 0, growth: '', debt: '', dividend: '', analystForecasts: '',
                },
                section7: {
                    institutionalSentiment: '', shortInterest: '', materialNews: '', marketRisk: '', externalRisks: '', successChance: '', riskLevel: '',
                },
                section8: {
                    step1: { details: '', status: 'פתוח', purchaseDate: '', targetDate: '', entryPrice: 0, currentPrice: 0, stopLoss: 0, trailingStop: '', units: 0 },
                    step2: { potentialRiskUnit: '0.00', financialRisk: '0.00', sharesToPurchase: 0, totalCost: '0.00', remainingBalance: '0.00' },
                    step3: { tp1: 0, tp2: 0, tp3: 0, tp4: 0, profitPotential1: '0.00', riskRewardRatio: '', forecast: '' },
                    step4: { closeDate: '', closePrice: '', fees: '', financialResult: '', roi: '' },
                    step5: { news: '', sentiment: '', volatility: '', marketRisk: '', notes: '', alerts: '', chartSnapshots: '', followedPlan: '', lessonsLearned: '' }
                },
                portfolioHistory: generateMockPortfolioData(),
            };
            
            const [data, setData] = useState(initialData);

            useEffect(() => {
                const updateDateTime = () => {
                    const now = new Date();
                    const options = { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
                    setCurrentDateTime(now.toLocaleString('he-IL', options));
                };
                updateDateTime();
                const intervalId = setInterval(updateDateTime, 1000);
                return () => clearInterval(intervalId);
            }, []);

            const handleNestedChange = (path, value) => {
                setIsDataDirty(true);
                setData(prevData => {
                    const newData = JSON.parse(JSON.stringify(prevData));
                    let current = newData;
                    const keys = path.split('.');
                    for (let i = 0; i < keys.length - 1; i++) {
                        current = current[keys[i]];
                    }
                    current[keys[keys.length - 1]] = value;
                    return newData;
                });
            };
            
            const populateDashboardData = useCallback((importedData, markAsDirty = false) => {
                if (importedData) {
                    setData(prevData => ({...prevData, ...importedData}));
                    if (markAsDirty) {
                        setIsDataDirty(true);
                    }
                }
            }, []);
            

            const loadTrade = (tradeData) => {
                setData(tradeData.data);
                setCurrentTradeId(tradeData.id);
                setIsDataDirty(false);
                setIsLiveDataSet(!!tradeData.data.section3.currentPrice);
            };

            const newTrade = () => {
                setData(initialData);
                setCurrentTradeId(null);
                setIsDataDirty(false);
                setIsLiveDataSet(false);
                setDataEntryMode('manual');
            };

            const value = {
                currentDateTime, changeDescription, setChangeDescription, isDataDirty, setIsDataDirty,
                data, setData, handleNestedChange, populateDashboardData, 
                apiStatus, setApiStatus,
                tradeLog, setTradeLog,
                currentTradeId, setCurrentTradeId,
                loadTrade, newTrade, initialData,
                globalFilter, setGlobalFilter, globalSearchQuery, setGlobalSearchQuery,
                gicsDatabase, setGicsDatabase,
                isLiveDataSet, setIsLiveDataSet,
                dataEntryMode, setDataEntryMode
            };

            return (
                <DataContext.Provider value={value}>
                    {children}
                </DataContext.Provider>
            );
        };
        
        //======================================================================
        //  4. FIREBASE & UTILS PROVIDER COMPONENT
        //======================================================================
        const FirebaseProvider = ({ children }) => {
            const { data, isDataDirty, setIsDataDirty, setTradeLog, currentTradeId, setCurrentTradeId, changeDescription, setChangeDescription, populateDashboardData, loadTrade } = useData();

            const [db, setDb] = useState(null);
            const [userId, setUserId] = useState('טוען...');
            const [isAuthReady, setIsAuthReady] = useState(false);
            
            useEffect(() => {
                const initFirebase = async () => {
                    try {
                        const firebaseConfig = JSON.parse(typeof window.__firebase_config !== 'undefined' ? window.__firebase_config : '{}');
                        const app = firebase.initializeApp(firebaseConfig);
                        const authInstance = firebase.getAuth(app);
                        const dbInstance = firebase.getFirestore(app);
                        setDb(dbInstance);

                        firebase.onAuthStateChanged(authInstance, async (user) => {
                            if (user) {
                                setUserId(user.uid);
                                setIsAuthReady(true);
                            } else {
                                try {
                                    if (typeof window.__initial_auth_token !== 'undefined' && window.__initial_auth_token) {
                                        await firebase.signInWithCustomToken(authInstance, window.__initial_auth_token);
                                    } else {
                                        await firebase.signInAnonymously(authInstance);
                                    }
                                } catch (error) {
                                    console.error("שגיאת התחברות ל-Firebase:", error);
                                }
                            }
                        });
                    } catch (error) {
                        console.error("שגיאת אתחול Firebase:", error);
                    }
                };
                initFirebase();
            }, []);

            useEffect(() => {
                if (!isAuthReady || !db || !userId || userId === 'טוען...') return;

                const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                const tradesCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/trades`);
                
                const unsubscribeTrades = firebase.onSnapshot(tradesCollectionRef, (querySnapshot) => {
                    const trades = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                    setTradeLog(trades);
                });
                
                return () => {
                    unsubscribeTrades();
                };
            }, [isAuthReady, db, userId]);

            const saveOrUpdateTrade = async () => {
                if (!db || !userId) { alert('שגיאה: Firebase לא אותחל.'); return; }
                if (!data.section2.tickerSymbol) { alert('יש להזין סימול מניה לפני השמירה.'); return; }

                const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                const tradeData = {
                    data,
                    ticker: data.section2.tickerSymbol,
                    status: data.section8.step1.status,
                    lastUpdated: new Date().toISOString(),
                    changeDescription: changeDescription || "עדכון נתונים"
                };

                try {
                    if (currentTradeId) {
                        const tradeDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/trades`, currentTradeId);
                        const currentDoc = await firebase.getDoc(tradeDocRef);
                        
                        if (currentDoc.exists()) {
                            const versionsCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/trades/${currentTradeId}/versions`);
                            await firebase.addDoc(versionsCollectionRef, currentDoc.data());
                        }
                        
                        await firebase.updateDoc(tradeDocRef, tradeData);
                        alert('העסקה עודכנה בהצלחה. הגרסה הקודמת נשמרה בארכיון.');
                    } else {
                        const tradesCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/trades`);
                        const docRef = await firebase.addDoc(tradesCollectionRef, tradeData);
                        setCurrentTradeId(docRef.id);
                        alert('עסקה חדשה נשמרה בהצלחה!');
                    }
                    setIsDataDirty(false);
                    setChangeDescription('');
                } catch (e) {
                    console.error("שגיאה בשמירת מסמך: ", e);
                    alert('שגיאה בשמירת נתונים: ' + e.message);
                }
            };
            
            const restoreVersion = (trade) => {
                if (confirm(`האם אתה בטוח שברצונך לטעון את העסקה עבור ${trade.ticker} מתאריך ${new Date(trade.lastUpdated).toLocaleString()}? פעולה זו תחליף את השינויים הנוכחיים שלא נשמרו.`)) {
                    loadTrade(trade);
                }
            };

            const emergencyRestore = () => {
                if (tradeLog.length > 0) {
                    const sortedTrades = [...tradeLog].sort((a, b) => new Date(b.lastUpdated) - new Date(a.lastUpdated));
                    const latestTrade = sortedTrades[0];
                    if (confirm(`פעולה זו תשחזר את העסקה האחרונה שנשמרה: ${latestTrade.ticker} מתאריך ${new Date(latestTrade.lastUpdated).toLocaleString()}. האם אתה בטוח?`)) {
                        loadTrade(latestTrade);
                    }
                } else {
                    alert("לא נמצאו עסקאות לשחזור.");
                }
            };

            const generateStandardFileName = (description, extension) => {
                const now = new Date();
                const year = now.getFullYear();
                const month = String(now.getMonth() + 1).padStart(2, '0');
                const day = String(now.getDate()).padStart(2, '0');
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                const seconds = String(now.getSeconds()).padStart(2, '0');
                const dateStamp = `${year}${month}${day}_${hours}${minutes}${seconds}`;
                const finalDescription = (changeDescription || description).replace(/[^a-zA-Z0-9]/g, '-');
                return `PraxisAI_v${APP_VERSION}_${finalDescription}_${dateStamp}.${extension}`;
            };

            const exportDataAsJson = () => {
                const dataToExport = {mainData: data };
                const jsonString = JSON.stringify(dataToExport, null, 2); 
                const fileName = generateStandardFileName('DataBackup', 'json');
                const blob = new Blob([jsonString], { type: 'application/json;charset=utf-8' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = fileName; 
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            const importDataFromJson = (event) => {
                const file = event.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const importedData = JSON.parse(e.target.result);
                        populateDashboardData(importedData.mainData, true); 
                        alert('הנתונים נטענו בהצלחה! לחץ על "שמור עסקה חדשה" או "עדכן עסקה" כדי לסנכרן עם הענן.'); 
                    } catch (error) {
                        alert('שגיאה בטעינת קובץ JSON: ' + error.message); 
                    }
                };
                reader.readAsText(file);
            };
            
            const exportSourceCode = () => {
                const htmlContent = document.documentElement.outerHTML;
                const fileName = generateStandardFileName('SourceCode', 'html');
                const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = fileName;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            const exportAsPng = async (sectionsToExport, modalRef) => {
                const dashboardEl = document.querySelector('.dashboard-container');
                if (!dashboardEl) return;
                
                if(modalRef.current) modalRef.current.style.display = 'none';

                try {
                    const canvas = await html2canvas(dashboardEl, { scale: 2, useCORS: true });
                    const fileName = generateStandardFileName('Snapshot', 'png');
                    const link = document.createElement('a');
                    link.href = canvas.toDataURL('image/png');
                    link.download = fileName;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                } catch (error) {
                    console.error("שגיאה בייצוא ל-PNG:", error);
                } finally {
                    if(modalRef.current) modalRef.current.style.display = 'flex';
                }
            };

            const exportAsPdf = async (sectionsToExport, modalRef) => {
                const dashboardEl = document.querySelector('.dashboard-container');
                if (!dashboardEl) return;

                if(modalRef.current) modalRef.current.style.display = 'none';

                const allSections = dashboardEl.querySelectorAll('.section-container');
                allSections.forEach(section => {
                    const title = section.getAttribute('data-section-title');
                    if (sectionsToExport.length > 0 && !sectionsToExport.includes(title)) {
                        section.style.display = 'none';
                    }
                });

                try {
                    const canvas = await html2canvas(dashboardEl, { scale: 2, useCORS: true });
                    const imgData = canvas.toDataURL('image/png');
                    const { jsPDF } = jspdf;
                    const pdf = new jsPDF('p', 'mm', 'a4');
                    const imgProps = pdf.getImageProperties(imgData);
                    const pdfWidth = pdf.internal.pageSize.getWidth();
                    const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;
                    pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
                    pdf.save(generateStandardFileName('Report', 'pdf'));
                } catch (error) {
                    console.error("שגיאה בייצוא ל-PDF:", error);
                } finally {
                        allSections.forEach(section => {
                            section.style.display = '';
                        });
                        if(modalRef.current) modalRef.current.style.display = 'flex';
                }
            };
            
            const value = {
                userId, isAuthReady, db, saveOrUpdateTrade,
                exportDataAsJson, importDataFromJson, exportSourceCode,
                exportAsPng, exportAsPdf, restoreVersion, emergencyRestore
            };

            return (
                <FirebaseContext.Provider value={value}>
                    {children}
                </FirebaseContext.Provider>
            );
        };
        
        //======================================================================
        //  5. UI COMPONENTS (NEW & UPDATED)
        //======================================================================

        const Tabs = ({ children }) => {
            const [activeTab, setActiveTab] = useState(children[0].props.label);

            const handleClick = (e, newActiveTab) => {
                e.preventDefault();
                setActiveTab(newActiveTab);
            };

            return (
                <div>
                    <div className="tabs-container">
                        {children.map(child => (
                            <button
                                key={child.props.label}
                                className={`${activeTab === child.props.label ? 'active' : ''} tab-button`}
                                onClick={e => handleClick(e, child.props.label)}
                            >
                                <i className={`fas ${child.props.icon} ml-2`}></i>
                                {child.props.label}
                            </button>
                        ))}
                    </div>
                    <div className="tab-content-container">
                        {children.map(child => {
                            if (child.props.label === activeTab) {
                                return <div key={child.props.label} className="tab-content active">{child.props.children}</div>;
                            }
                            return <div key={child.props.label} className="tab-content">{child.props.children}</div>;
                        })}
                    </div>
                </div>
            );
        };

        const Tab = ({ label, children }) => {
            return (
                <div label={label} className="hidden">
                    {children}
                </div>
            );
        };

        const Indicator = ({ text, colorClass, iconClass }) => (
            <span className={`flex items-center font-semibold ${colorClass}`}>
                {iconClass && <i className={`fas ${iconClass} ml-2`}></i>}
                {text}
            </span>
        );

        const InfoRow = ({ label, children, paramKey, onInfoClick, indicator }) => (
            <div className="info-row flex flex-wrap sm:flex-nowrap justify-between items-center py-2">
                <span className="label w-full sm:w-1/3 mb-1 sm:mb-0 flex items-center">
                    {label}
                    {paramKey && (
                        <i 
                            className="fas fa-info-circle text-gray-400 mr-2 cursor-pointer"
                            onClick={() => onInfoClick(paramKey)}
                            title={`למידע נוסף על ${label}`}
                        ></i>
                    )}
                </span>
                <div className="w-full sm:w-2/3 flex items-center justify-end">
                     <div className="flex-grow">{children}</div>
                    {indicator && <div className="mr-4">{indicator}</div>}
                </div>
            </div>
        );
        
        const Section = ({ title, children }) => (
            <div className="section-container" data-section-title={title}>
                <h2 className="section-group-title text-right mt-10 mb-5 pb-2">{title}</h2>
                <div className="section-grid">
                    {children}
                </div>
            </div>
        );

        const InfoSectionCard = ({ icon, title, children }) => (
            <div className="info-section flex flex-col">
                <div className="info-section-header flex items-center w-full mb-2">
                    <div className="icon-container ml-3 w-8 text-center"><i className={`fas ${icon}`} title={title}></i></div>
                    <div className="text-content flex-grow">
                        {title && <h3 className="text-right mt-0 mb-2">{title}</h3>}
                    </div>
                </div>
                {children}
            </div>
        );
        
        const Header = () => {
            const { currentDateTime } = useData();
            return (
                <>
                    <div className="absolute top-4 left-4 text-sm text-gray-400 font-light">
                        {currentDateTime}
                    </div>
                    <div className="text-center mb-4">
                        <h1 className="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-teal-400 mb-2 leading-tight">
                            Praxis AI
                        </h1>
                        <p className="text-lg sm:text-xl text-gray-300 font-light">
                            מתרגמים כאוס בשוק לבהירות אופרטיבית
                        </p>
                    </div>
                </>
            );
        };
        
        const Breadcrumb = () => {
            return (
                <nav className="text-sm text-gray-400 mb-6" aria-label="Breadcrumb">
                    <ol className="list-none p-0 inline-flex">
                        <li className="flex items-center">
                            <a href="#" className="hover:text-teal-400">בית</a>
                            <i className="fas fa-chevron-left mx-2"></i>
                        </li>
                        <li className="flex items-center">
                            <span className="text-white">לוח מחוונים</span>
                        </li>
                    </ol>
                </nav>
            );
        };

        const GlobalFilter = () => {
            const { globalFilter, setGlobalFilter, globalSearchQuery, setGlobalSearchQuery } = useData();
            
            return (
                <div className="bg-gray-800 p-4 rounded-lg mb-8 flex flex-wrap items-center justify-between gap-4">
                    <div className="flex items-center gap-2">
                        <span className="font-semibold">סנן עסקאות:</span>
                        {['הכל', 'פתוח', 'סגור'].map(status => (
                            <button 
                                key={status} 
                                onClick={() => setGlobalFilter(status)}
                                className={`px-3 py-1 text-xs rounded-md ${globalFilter === status ? 'bg-indigo-600 text-white' : 'bg-gray-600'}`}>
                                {status}
                            </button>
                        ))}
                    </div>
                    <div className="relative">
                        <input 
                            type="text"
                            placeholder="חפש לפי סימול..."
                            value={globalSearchQuery}
                            onChange={(e) => setGlobalSearchQuery(e.target.value)}
                            className="w-full sm:w-auto pr-8"
                        />
                        <i className="fas fa-search absolute right-2 top-1/2 -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>
            );
        };

        const KpiCard = ({ title, value, change, isPositive }) => {
            const colorClass = isPositive === null ? 'text-gray-300' : (isPositive ? 'text-green-400' : 'text-red-400');
            const icon = isPositive ? 'fa-arrow-up' : 'fa-arrow-down';
            return (
                <div className="bg-gray-700 p-4 rounded-lg shadow-md flex flex-col justify-between">
                    <p className="text-gray-400 text-sm font-medium">{title}</p>
                    <p className="text-2xl font-bold text-white">{value}</p>
                    <div className={`flex items-center text-sm ${colorClass}`}>
                        {change && isPositive !== null && <i className={`fas ${icon} ml-1`}></i>}
                        <span>{change}</span>
                    </div>
                </div>
            );
        };

        const KpiSection = ({ calculatedData }) => {
            const { data } = useData();
            const { dailyPLUSD, buyingPowerUSD } = data.section1;
            const { currentPortfolioValueUSD, totalPLUSD, totalPLPercentage } = calculatedData;
            
            return (
                <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                    <KpiCard title="ערך תיק נוכחי ($)" value={`$${(parseFloat(currentPortfolioValueUSD) || 0).toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}`} change="" isPositive={null} />
                    <KpiCard title="רווח/הפסד כולל ($)" value={`$${(parseFloat(totalPLUSD) || 0).toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}`} change={`${(parseFloat(totalPLPercentage) || 0).toFixed(2)}%`} isPositive={totalPLUSD >= 0} />
                    <KpiCard title="רווח/הפסד יומי ($)" value={`$${(dailyPLUSD || 0).toLocaleString()}`} change="" isPositive={dailyPLUSD >= 0} />
                    <KpiCard title="כוח קנייה ($)" value={`$${(buyingPowerUSD || 0).toLocaleString()}`} change="" isPositive={null} />
                </div>
            );
        };
        
        const ControlPanel = () => {
            const { data, setData, setApiStatus, isDataDirty, currentTradeId, changeDescription, setChangeDescription, populateDashboardData, setIsLiveDataSet } = useData();
            const { saveOrUpdateTrade, importDataFromJson, userId, db, isAuthReady } = useFirebase();
            
            const [isBackupKitOpen, setIsBackupKitOpen] = useState(false);
            const [isExportModalOpen, setIsExportModalOpen] = useState(false);
            const [isTrainingCenterOpen, setIsTrainingCenterOpen] = useState(false);
            const [isKnowledgeBaseOpen, setIsKnowledgeBaseOpen] = useState(false);
            const [restoreCode, setRestoreCode] = useState('');
            const [importCode, setImportCode] = useState('');
            const [githubToken, setGithubToken] = useState('');
            const [alphaVantageKey, setAlphaVantageKey] = useState('U4464522W6V69P5G');
            const [gistUrl, setGistUrl] = useState('');
            const [isGistLoading, setIsGistLoading] = useState(false);
            const importFileRef = useRef(null);

            useEffect(() => {
                const fetchSettings = async () => {
                    if (isAuthReady && db && userId) {
                        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                        const githubDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/settings/github`);
                        const avDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/settings/alphaVantage`);
                        
                        const [githubSnap, avSnap] = await Promise.all([firebase.getDoc(githubDocRef), firebase.getDoc(avDocRef)]);

                        if (githubSnap.exists()) setGithubToken(githubSnap.data().token || '');
                        if (avSnap.exists()) setAlphaVantageKey(avSnap.data().key || 'U4464522W6V69P5G');
                    }
                };
                fetchSettings();
            }, [isAuthReady, db, userId]);

            const handleTokenChange = async (e) => {
                const newToken = e.target.value;
                setGithubToken(newToken);
                if (isAuthReady && db && userId) {
                    try {
                        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                        const settingsDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/settings/github`);
                        await firebase.setDoc(settingsDocRef, { token: newToken }, { merge: true });
                    } catch (error) {
                        console.error("שגיאה בשמירת טוקן GitHub:", error);
                        alert("לא ניתן לשמור את טוקן GitHub.");
                    }
                }
            };

            const handleApiKeyChange = async (e) => {
                const newKey = e.target.value;
                setAlphaVantageKey(newKey);
                    if (isAuthReady && db && userId) {
                        try {
                            const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                            const settingsDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/settings/alphaVantage`);
                            await firebase.setDoc(settingsDocRef, { key: newKey }, { merge: true });
                        } catch (error) {
                            console.error("שגיאה בשמירת מפתח API:", error);
                            alert("לא ניתן לשמור את מפתח ה-API.");
                        }
                    }
            };

            const handleRefreshData = () => {
                const ticker = data.section2.tickerSymbol;
                if (!alphaVantageKey) {
                    alert("יש להזין מפתח API של Alpha Vantage תחילה.");
                    return;
                }
                if (ticker) {
                    fetchApiData(ticker, alphaVantageKey, setData, setApiStatus, setIsLiveDataSet);
                } else {
                    alert("יש להזין סימול מניה תחילה.");
                }
            };

            const generateRestoreCode = () => {
                try {
                    const dataToExport = { mainData: data };
                    const jsonString = JSON.stringify(dataToExport);
                    const base64Code = btoa(jsonString);
                    setRestoreCode(base64Code);
                    alert('קוד השחזור נוצר בהצלחה.');
                } catch (error) {
                    alert('שגיאה ביצירת קוד שחזור: ' + error.message);
                }
            };

            const importFromCode = () => {
                if (!importCode) {
                    alert('יש להדביק קוד שחזור תחילה.');
                    return;
                }
                try {
                    const jsonString = atob(importCode);
                    const importedData = JSON.parse(jsonString);
                    populateDashboardData(importedData.mainData, true);
                    alert('הנתונים נטענו בהצלחה מהקוד! לחץ על "שמור" או "עדכן" כדי לסנכרן עם הענן.');
                    setImportCode('');
                } catch (error) {
                    alert('שגיאה בייבוא מהקוד. ייתכן שהקוד אינו תקין: ' + error.message);
                }
            };
            
            const copyToClipboard = (text) => {
                if (!text) return;
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                alert('הועתק ללוח!');
            };

            const backupToGist = async () => {
                if (!githubToken) {
                    alert('יש להזין טוקן גישה אישי של GitHub תחילה.');
                    return;
                }
                setIsGistLoading(true);
                setGistUrl('');

                try {
                    const dataToExport = { mainData: data };
                    const files = {
                        'PraxisAI_Dashboard.html': {
                            content: document.documentElement.outerHTML
                        },
                        'PraxisAI_Data.json': {
                            content: JSON.stringify(dataToExport, null, 2)
                        }
                    };

                    const response = await fetch('https://api.github.com/gists', {
                        method: 'POST',
                        headers: {
                            'Authorization': `token ${githubToken}`,
                            'Accept': 'application/vnd.github.v3+json',
                        },
                        body: JSON.stringify({
                            description: `Praxis AI Dashboard Backup - ${new Date().toLocaleString()}`,
                            public: false,
                            files: files
                        })
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(`שגיאת GitHub API: ${errorData.message}`);
                    }

                    const gistData = await response.json();
                    setGistUrl(gistData.html_url);
                    alert('הגיבוי ל-Gist הושלם בהצלחה!');

                } catch (error) {
                    alert('שגיאה בגיבוי ל-Gist: ' + error.message);
                } finally {
                    setIsGistLoading(false);
                }
            };

            return(
                <>
                    {isBackupKitOpen && <BackupKitModal 
                        onClose={() => setIsBackupKitOpen(false)}
                        restoreCode={restoreCode}
                        importCode={importCode}
                        setImportCode={setImportCode}
                        generateRestoreCode={generateRestoreCode}
                        importFromCode={importFromCode}
                        copyToClipboard={copyToClipboard}
                        />}
                    {isExportModalOpen && <ExportModal onClose={() => setIsExportModalOpen(false)} />}
                    {isTrainingCenterOpen && <AiTrainingCenterModal onClose={() => setIsTrainingCenterOpen(false)} />}
                    {isKnowledgeBaseOpen && <KnowledgeBaseModal onClose={() => setIsKnowledgeBaseOpen(false)} />}

                    <Section title="בקרת מערכת וקלט/פלט">
                        <InfoSectionCard icon="fa-cogs" title="פעולות וניהול נתונים">
                            <div className="grid grid-cols-2 gap-2 mb-4">
                                <button 
                                    className="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 min-h-[44px]"
                                    onClick={saveOrUpdateTrade} disabled={!isDataDirty}>
                                    <i className="fas fa-save ml-2"></i> {currentTradeId ? 'עדכן עסקה' : 'שמור עסקה חדשה'}
                                </button>
                                <button 
                                    className="w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center min-h-[44px]"
                                    onClick={handleRefreshData} title="רענן נתוני שוק חיים">
                                    <i className="fas fa-sync-alt ml-2"></i> רענן נתונים
                                </button>
                            </div>
                            <div className="grid grid-cols-2 gap-2">
                                <button onClick={() => setIsBackupKitOpen(true)} className="bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]" title="פתח את ערכת הגיבוי המלאה"><i className="fas fa-archive ml-1"></i> ערכת גיבוי מלאה</button>
                                <button onClick={() => importFileRef.current.click()} className="bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]" title="ייבא נתונים מקובץ גיבוי JSON"><i className="fas fa-file-upload ml-1"></i> ייבוא נתונים (JSON)</button>
                                <input type="file" ref={importFileRef} onChange={importDataFromJson} className="hidden" accept=".json" />
                            </div>
                                <div className="mt-2 grid grid-cols-2 gap-2">
                                    <button onClick={() => setIsExportModalOpen(true)} className="w-full bg-purple-600 hover:bg-purple-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]" title="ייצא דוח PDF מותאם אישית"><i className="fas fa-file-pdf ml-1"></i> ייצוא PDF מותאם</button>
                                    <button onClick={() => setIsTrainingCenterOpen(true)} className="w-full bg-orange-500 hover:bg-orange-600 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]" title="פתח את מרכז האימון של ה-AI"><i className="fas fa-brain ml-1"></i> מרכז אימון AI</button>
                                </div>
                                <div className="mt-2">
                                    <button onClick={() => setIsKnowledgeBaseOpen(true)} className="w-full bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-semibold py-2 px-2 rounded-lg shadow-md transition-all min-h-[44px]" title="פתח את מאגר הידע"><i className="fas fa-book-open ml-1"></i> מאגר ידע</button>
                                </div>
                                <div className="flex flex-col text-sm mt-4">
                                    <label htmlFor="changeDescriptionInput" className="text-gray-400 mb-1">תיאור השינוי (למעקב גרסאות):</label>
                                    <textarea id="changeDescriptionInput" placeholder="לדוגמה, עדכון עסקה על AAPL..."
                                        className="w-full bg-gray-800 border border-gray-600 rounded-md p-2 text-white"
                                        value={changeDescription} onChange={(e) => setChangeDescription(e.target.value)} />
                                </div>
                        </InfoSectionCard>
                        <InfoSectionCard icon="fa-key" title="ניהול מפתחות API">
                           <div className="space-y-3">
                                <p className="text-xs text-gray-400">הזן כאן את מפתחות ה-API שלך. הם יישמרו בצורה מאובטחת.</p>
                                <div>
                                    <label className="text-sm text-gray-300">מפתח API של Alpha Vantage</label>
                                    <input 
                                        type="password"
                                        value={alphaVantageKey}
                                        onChange={handleApiKeyChange}
                                        placeholder="הזן את המפתח שלך לנתונים חיים"
                                        className="w-full mt-1"
                                    />
                                </div>
                                <div>
                                    <label className="text-sm text-gray-300">טוקן גישה אישי של GitHub</label>
                                    <input 
                                        type="password"
                                        value={githubToken}
                                        onChange={handleTokenChange}
                                        placeholder="הזן את הטוקן שלך לגיבויים ב-Gist"
                                        className="w-full mt-1"
                                    />
                                </div>
                           </div>
                        </InfoSectionCard>
                        <InfoSectionCard icon="fa-cloud-upload-alt" title="גיבוי ענן (GitHub Gist)">
                           <div className="space-y-3">
                                <p className="text-xs text-gray-400">גבה את כל נכסי הפרויקט ל-Gist פרטי ומאובטח בחשבון ה-GitHub שלך.</p>
                                <button onClick={backupToGist} disabled={isGistLoading} className="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md disabled:opacity-50">
                                    {isGistLoading ? 'מגבה...' : 'גבה ל-Gist'}
                                </button>
                                {gistUrl && (
                                    <div className="text-center text-xs">
                                        <p className="text-green-400">הגיבוי הושלם בהצלחה!</p>
                                        <a href={gistUrl} target="_blank" rel="noopener noreferrer" className="text-teal-400 hover:underline">צפה ב-Gist</a>
                                    </div>
                                )}
                           </div>
                        </InfoSectionCard>
                    </Section>
                </>
            );
        };
        
        const BITDashboard = () => {
            const { currentDateTime } = useData();
            const appChangeLog = [
                { version: "8.3", date: "2025-09-02", description: "לוקליזציה מלאה לעברית ותיקוני RTL." },
                { version: "8.2", date: "2025-08-22", description: "עדכון גרסה." },
                { version: "8.1", date: "2025-08-22", description: "Refactored calculation logic to resolve infinite loop and instability. Restored full stock list." },
                { version: "8.0", date: "2025-08-22", description: "Fixed infinite loop bug, reverted to English UI, and restored full stock database." },
                { version: "7.9", date: "2025-08-21", description: "Fixed infinite loop bug caused by useEffect dependencies." },
                { version: "7.8", date: "2025-08-21", description: "Updated portfolio section to match investment account statements." },
            ];
            const latestVersion = appChangeLog[0];

            return (
                <div className="bg-gray-900 rounded-lg p-4 shadow-md border border-gray-700 mb-6">
                    <h3 className="text-xl font-semibold text-orange-400 flex items-center mb-4"><i className="fas fa-tachometer-alt ml-3"></i>תקינות מערכת (BIT)</h3>
                    <div className="grid grid-cols-2 sm:grid-cols-4 gap-4 text-center">
                        <div><i className="fas fa-cloud text-2xl mb-2" style={{ color: 'var(--green-indicator)' }}></i><p className="text-sm text-gray-400">סנכרון ענן</p><p className="font-semibold" style={{ color: 'var(--green-indicator)' }}>מחובר</p></div>
                        <div className="flex flex-col"><i className="fas fa-shield-alt text-2xl mb-2" style={{ color: 'var(--text-color)' }}></i><p className="text-sm text-gray-400">גיבוי מלא אחרון</p><p className="font-semibold text-xs" style={{ color: 'var(--text-color)' }}>v{latestVersion.version} ({latestVersion.description}): {currentDateTime}</p></div>
                        <div><i className="fas fa-check-circle text-2xl mb-2" style={{ color: 'var(--green-indicator)' }}></i><p className="text-sm text-gray-400">שלמות נתונים</p><p className="font-semibold" style={{ color: 'var(--green-indicator)' }}>תקין</p></div>
                        <div><i className="fas fa-brain text-2xl mb-2" style={{ color: 'var(--green-indicator)' }}></i><p className="text-sm text-gray-400">שירותי AI</p><p className="font-semibold" style={{ color: 'var(--green-indicator)' }}>פעילים</p></div>
                    </div>
                </div>
            );
        };

        const VersionManagementCenter = () => {
            const appChangeLog = [
                 { version: "8.3", date: "2025-09-02", description: "לוקליזציה מלאה לעברית ותיקוני RTL." },
                 { version: "8.2", date: "2025-08-22", description: "עדכון גרסה." },
                 { version: "8.1", date: "2025-08-22", description: "Refactored calculation logic to resolve infinite loop and instability. Restored full stock list." },
                 { version: "8.0", date: "2025-08-22", description: "Fixed infinite loop bug, reverted to English UI, and restored full stock database." },
                 { version: "7.9", date: "2025-08-21", description: "Fixed infinite loop bug caused by useEffect dependencies." },
            ];

            return (
                <Section title="🚨 בקרת גרסאות ושחזור">
                    <InfoSectionCard icon="fa-history" title="יומן שינויים באפליקציה">
                        <div className="w-full overflow-x-auto" style={{maxHeight: '250px'}}>
                            <table className="w-full text-right text-sm">
                                <thead>
                                    <tr className="border-b border-gray-600">
                                        <th className="p-2">גרסה</th>
                                        <th className="p-2">תאריך</th>
                                        <th className="p-2">תיאור</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {appChangeLog.map(log => (
                                        <tr key={log.version} className="border-b border-gray-700 hover:bg-gray-700">
                                            <td className="p-2 font-semibold text-teal-400">{log.version}</td>
                                            <td className="p-2">{log.date}</td>
                                            <td className="p-2">{log.description}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </InfoSectionCard>
                </Section>
            );
        };

        const TradeLogManager = () => {
            const { tradeLog, loadTrade, newTrade, globalFilter, globalSearchQuery } = useData();
            const [sortConfig, setSortConfig] = useState({ key: 'lastUpdated', direction: 'descending' });
            const [dateRange, setDateRange] = useState({ start: '', end: '' });

            const sortedAndFilteredTrades = useMemo(() => {
                let filtered = [...tradeLog];

                // Global Status & Search Filter
                filtered = filtered.filter(trade => {
                    const statusInHebrew = trade.status === 'Open' ? 'פתוח' : (trade.status === 'Closed' ? 'סגור' : trade.status);
                    const statusMatch = globalFilter === 'הכל' || statusInHebrew === globalFilter;
                    const searchMatch = trade.ticker.toLowerCase().includes(globalSearchQuery.toLowerCase());
                    return statusMatch && searchMatch;
                });

                // Date Range Filter
                if (dateRange.start) {
                    filtered = filtered.filter(trade => new Date(trade.lastUpdated) >= new Date(dateRange.start));
                }
                if (dateRange.end) {
                    const endDate = new Date(dateRange.end);
                    endDate.setHours(23, 59, 59, 999); // Include the whole end day
                    filtered = filtered.filter(trade => new Date(trade.lastUpdated) <= endDate);
                }

                // Sorting
                filtered.sort((a, b) => {
                    let aValue, bValue;
                    
                    switch (sortConfig.key) {
                        case 'pnl':
                            aValue = parseFloat(a.data.section8.step4.financialResult) || 0;
                            bValue = parseFloat(b.data.section8.step4.financialResult) || 0;
                            break;
                        case 'roi':
                            aValue = parseFloat(a.data.section8.step4.roi) || 0;
                            bValue = parseFloat(b.data.section8.step4.roi) || 0;
                            break;
                        default:
                            aValue = a[sortConfig.key];
                            bValue = b[sortConfig.key];
                    }
                    
                    if (aValue < bValue) {
                        return sortConfig.direction === 'ascending' ? -1 : 1;
                    }
                    if (aValue > bValue) {
                        return sortConfig.direction === 'ascending' ? 1 : -1;
                    }
                    return 0;
                });

                return filtered;
            }, [tradeLog, globalFilter, globalSearchQuery, sortConfig, dateRange]);

            const requestSort = (key) => {
                let direction = 'ascending';
                if (sortConfig.key === key && sortConfig.direction === 'ascending') {
                    direction = 'descending';
                }
                setSortConfig({ key, direction });
            };
            
            const summary = useMemo(() => {
                const closedTrades = sortedAndFilteredTrades.filter(t => t.status !== 'Open' && t.data.section8.step4.financialResult);
                const totalPnl = closedTrades.reduce((acc, t) => acc + parseFloat(t.data.section8.step4.financialResult), 0);
                const winningTrades = closedTrades.filter(t => parseFloat(t.data.section8.step4.financialResult) > 0);
                const winRate = closedTrades.length > 0 ? (winningTrades.length / closedTrades.length) * 100 : 0;
                
                return {
                    totalTrades: sortedAndFilteredTrades.length,
                    totalPnl: totalPnl.toFixed(2),
                    winRate: winRate.toFixed(2),
                    winningTrades: winningTrades.length,
                    losingTrades: closedTrades.length - winningTrades.length,
                };
            }, [sortedAndFilteredTrades]);

            return (
                <Section title="יומן עסקאות מתקדם">
                    <InfoSectionCard icon="fa-book" title="נהל ונתח את העסקאות שלך">
                        <div className="flex flex-wrap gap-4 justify-between items-center mb-4">
                             <div className="flex gap-2 items-center">
                                <label className="text-sm">מתאריך:</label>
                                <input type="date" value={dateRange.start} onChange={e => setDateRange({...dateRange, start: e.target.value})} className="bg-gray-800 border border-gray-600 rounded-md p-1 text-sm"/>
                                <label className="text-sm">עד:</label>
                                <input type="date" value={dateRange.end} onChange={e => setDateRange({...dateRange, end: e.target.value})} className="bg-gray-800 border border-gray-600 rounded-md p-1 text-sm"/>
                            </div>
                            <button onClick={newTrade} className="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md">
                                <i className="fas fa-plus ml-2"></i>עסקה חדשה
                            </button>
                        </div>

                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 text-center">
                            <KpiCard title="רווח/הפסד כולל" value={`$${summary.totalPnl}`} change="" isPositive={summary.totalPnl >= 0} />
                            <KpiCard title="שיעור הצלחה" value={`${summary.winRate}%`} change="" isPositive={summary.winRate >= 50} />
                            <KpiCard title="עסקאות רווחיות" value={summary.winningTrades} change="" isPositive={true} />
                            <KpiCard title="עסקאות הפסדיות" value={summary.losingTrades} change="" isPositive={false} />
                        </div>

                        <div className="w-full overflow-x-auto" style={{maxHeight: '400px'}}>
                            <table className="w-full text-right text-sm">
                                <thead>
                                    <tr className="border-b border-gray-600">
                                        <th className="p-2 cursor-pointer" onClick={() => requestSort('ticker')}>סימול <i className="fas fa-sort"></i></th>
                                        <th className="p-2 cursor-pointer" onClick={() => requestSort('status')}>סטטוס <i className="fas fa-sort"></i></th>
                                        <th className="p-2 cursor-pointer" onClick={() => requestSort('lastUpdated')}>עדכון אחרון <i className="fas fa-sort"></i></th>
                                        <th className="p-2 cursor-pointer" onClick={() => requestSort('pnl')}>רווח/הפסד ($) <i className="fas fa-sort"></i></th>
                                        <th className="p-2 cursor-pointer" onClick={() => requestSort('roi')}>תשואה (%) <i className="fas fa-sort"></i></th>
                                        <th className="p-2 text-center">פעולות</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {sortedAndFilteredTrades.map(trade => {
                                        const pnl = parseFloat(trade.data.section8.step4.financialResult) || 0;
                                        const roi = parseFloat(trade.data.section8.step4.roi) || 0;
                                        return (
                                        <tr key={trade.id} className="border-b border-gray-700 hover:bg-gray-700">
                                            <td className="p-2 font-bold">{trade.ticker}</td>
                                            <td className="p-2">{trade.status === 'Open' ? 'פתוח' : 'סגור'}</td>
                                            <td className="p-2">{new Date(trade.lastUpdated).toLocaleString()}</td>
                                            <td className={`p-2 font-semibold ${pnl >= 0 ? 'text-green-400' : 'text-red-400'}`}>{pnl.toFixed(2)}</td>
                                            <td className={`p-2 font-semibold ${roi >= 0 ? 'text-green-400' : 'text-red-400'}`}>{roi.toFixed(2)}%</td>
                                            <td className="p-2 text-center">
                                                <button onClick={() => loadTrade(trade)} className="bg-blue-600 hover:bg-blue-700 text-white text-xs py-1 px-2 rounded-md">
                                                    טען
                                                </button>
                                            </td>
                                        </tr>
                                    )})}
                                </tbody>
                            </table>
                        </div>
                    </InfoSectionCard>
                </Section>
            );
        };

        const AdvancedRiskModule = ({ riskData }) => {
            return (
                <Section title="🛡️ ניהול סיכונים מתקדם">
                    <InfoSectionCard icon="fa-shield-alt" title="חשיפת סיכון בתיק ההשקעות">
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <KpiCard 
                                    title="סיכון כולל בעסקאות פתוחות" 
                                    value={`$${riskData.totalRiskExposure.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}`} 
                                    change={`${riskData.openTradesCount} עסקאות`}
                                    isPositive={false}
                                />
                            </div>
                            <div>
                                <h4 className="font-bold text-lg text-teal-400 mb-2">ריכוז סיכונים לפי סקטור</h4>
                                <div className="bg-gray-800 p-3 rounded-lg">
                                    {Object.keys(riskData.sectorConcentration).length > 0 ? (
                                        Object.entries(riskData.sectorConcentration).map(([sector, risk]) => (
                                            <div key={sector} className="flex justify-between items-center text-sm mb-2">
                                                <span className="font-semibold">{sector}</span>
                                                <span className="text-red-400">${risk.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
                                            </div>
                                        ))
                                    ) : (
                                        <p className="text-gray-400 text-sm">אין עסקאות פתוחות לניתוח.</p>
                                    )}
                                </div>
                            </div>
                        </div>
                    </InfoSectionCard>
                </Section>
            );
        };

        const TradeDistributionChart = () => {
            const chartRef = useRef(null);
            const { tradeLog } = useData();

            useEffect(() => {
                if (!tradeLog || !chartRef.current) return;
                const ctx = chartRef.current.getContext('2d');
                
                const closedTrades = tradeLog.filter(t => t.status !== 'Open');
                const profitTrades = closedTrades.filter(t => parseFloat(t.data.section8.step4.financialResult) > 0).length;
                const lossTrades = closedTrades.length - profitTrades;
                const openTrades = tradeLog.filter(t => t.status === 'Open').length;

                if (chartRef.current && chartRef.current.chart) {
                    chartRef.current.chart.destroy();
                }

                chartRef.current.chart = new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['רווח', 'הפסד', 'פתוח'],
                        datasets: [{
                            data: [profitTrades, lossTrades, openTrades],
                            backgroundColor: ['rgba(72, 187, 120, 0.7)', 'rgba(239, 83, 80, 0.7)', 'rgba(66, 153, 225, 0.7)'],
                            borderColor: [ 'rgba(72, 187, 120, 1)', 'rgba(239, 83, 80, 1)', 'rgba(66, 153, 225, 1)'],
                            borderWidth: 1
                        }]
                    },
                    options: { responsive: true, plugins: { legend: { position: 'top', labels: { color: 'white', font: { family: 'Assistant' } } } } }
                });
                
                return () => { if(chartRef.current && chartRef.current.chart) chartRef.current.chart.destroy(); };
            }, [tradeLog]);

            return (
                <InfoSectionCard icon="fa-chart-pie" title="התפלגות תוצאות עסקאות">
                    <p className="text-xs text-gray-400 mb-2 -mt-2">סיכום של כל תוצאות העסקאות שנרשמו.</p>
                    <canvas ref={chartRef}></canvas>
                </InfoSectionCard>
            );
        };

        const PortfolioHistoryChart = () => {
            const chartRef = useRef(null);
            const { data } = useData();
            const [timeRange, setTimeRange] = useState(90);

            useEffect(() => {
                if (!chartRef.current || !data.portfolioHistory) return;
                const ctx = chartRef.current.getContext('2d');
                
                if (chartRef.current && chartRef.current.chart) {
                    chartRef.current.chart.destroy();
                }
                
                const filteredData = data.portfolioHistory.slice(-timeRange);

                chartRef.current.chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        datasets: [{
                            label: 'ערך התיק',
                            data: filteredData,
                            parsing: {
                                xAxisKey: 'time',
                                yAxisKey: 'value'
                            },
                            borderColor: 'var(--accent-color-2)',
                            backgroundColor: 'rgba(0, 188, 212, 0.2)',
                            fill: true,
                            tension: 0.3,
                            pointRadius: 0,
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            x: {
                                type: 'time',
                                time: { unit: 'day' },
                                ticks: { color: 'white' },
                                grid: { color: 'rgba(255,255,255,0.1)' }
                            },
                            y: {
                                ticks: { color: 'white', callback: (value) => `$${(value/1000)}k` },
                                grid: { color: 'rgba(255,255,255,0.1)' }
                            }
                        },
                        plugins: { 
                            legend: { display: false },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                                callbacks: {
                                    label: (context) => `ערך: $${context.parsed.y.toFixed(2)}`
                                }
                            }
                        }
                    }
                });
                return () => { if(chartRef.current && chartRef.current.chart) chartRef.current.chart.destroy(); };
            }, [data.portfolioHistory, timeRange]);

            return (
                <InfoSectionCard icon="fa-chart-line" title="ערך התיק לאורך זמן">
                    <p className="text-xs text-gray-400 mb-2 -mt-2">היסטוריית ביצועי התיק.</p>
                    <div className="flex justify-center gap-2 mb-4">
                        {[7, 30, 90].map(days => (
                            <button key={days} onClick={() => setTimeRange(days)} className={`px-3 py-1 text-xs rounded-md ${timeRange === days ? 'bg-indigo-600 text-white' : 'bg-gray-600'}`}>
                                {days}י
                            </button>
                        ))}
                    </div>
                    <canvas ref={chartRef}></canvas>
                </InfoSectionCard>
            );
        };
        
        const AiAnalysis = () => {
            const { data, currentTradeId } = useData();
            const { db, userId, isAuthReady } = useFirebase();
            const [aiAnalysis, setAiAnalysis] = useState("");
            const [isAiLoading, setIsAiLoading] = useState(false);

            const getAiAnalysis = async () => {
                setIsAiLoading(true);
                setAiAnalysis("");

                const prompt = `
                        Provide a concise technical analysis for the stock ${data.section2.tickerSymbol} based ONLY on the following data:
                        - Current Price: ${data.section3.currentPrice}
                        - RSI(14): ${data.section4.rsi}
                        - MACD Line: ${data.section4.macd}, Signal Line: ${data.section4.macdSignal}
                        - Moving Averages: MA20=${data.section4.ma20}, MA50=${data.section4.ma50}, MA200=${data.section4.ma200}
                        - Key Support: ${data.section4.supportLevels}
                        - Key Resistance: ${data.section4.resistanceLevels}
                        - Price vs Pivot: ${data.section5.priceVsPivot}
                        - Price Action Pattern: ${data.section5.priceAction}
                        
                        Structure your response in three short paragraphs in Hebrew:
                        1.  **הערכה כללית:** עמדה טכנית נוכחית (לדוגמה, שורית, דובית, ניטרלית).
                        2.  **סיגנלים מרכזיים:** הדגש את הסימנים השוריים והדוביים המשמעותיים ביותר.
                        3.  **תרחישים אפשריים והמלצות טקטיות:** תאר תרחישים שוריים ודוביים אפשריים וספק המלצה טקטית תמציתית.
                    `;
                
                try {
                    let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=" + apiKey;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error('קריאת ה-API נכשלה עם סטטוס: ' + response.status);
                    }

                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        setAiAnalysis(text);
                        // Save analysis to Firebase
                        if (isAuthReady && db && userId && currentTradeId) {
                            const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                            const analysisCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/ai_analyses`);
                            await firebase.addDoc(analysisCollectionRef, {
                                tradeId: currentTradeId,
                                ticker: data.section2.tickerSymbol,
                                date: new Date().toISOString(),
                                analysis: text,
                                inputData: { ...data.section3, ...data.section4, ...data.section5 },
                                feedback: null,
                                feedbackNotes: ""
                            });
                        }
                    } else {
                        setAiAnalysis("לא ניתן היה לקבל ניתוח. תגובת המודל הייתה ריקה.");
                    }
                } catch (error) {
                    console.error("שגיאה בקבלת ניתוח AI:", error);
                    setAiAnalysis('אירעה שגיאה בעת קבלת הניתוח: ' + error.message);
                } finally {
                    setIsAiLoading(false);
                }
            };

            return (
                <Section title="🤖 ניתוח טכני AI">
                    <div className="ai-analysis-section col-span-full p-6 rounded-lg">
                        <p className="text-sm text-gray-400 mb-4">קבל ניתוח טכני בזמן אמת של המניה הנוכחית, בהתבסס על הנתונים שהזנת. הניתוח נוצר על ידי מודל AI מתקדם שאומן על עקרונות ניתוח פיננסי.</p>
                        <button onClick={getAiAnalysis} disabled={isAiLoading || !data.section2.tickerSymbol} className="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 min-h-[44px]">
                            <i className="fas fa-robot ml-2"></i> {isAiLoading ? 'מנתח...' : 'הפק ניתוח AI'}
                        </button>
                        <div className={`ai-analysis-output mt-4 p-4 rounded-md min-h-[100px] ${isAiLoading ? 'loading' : ''} whitespace-pre-wrap`}>
                            {aiAnalysis}
                        </div>
                    </div>
                </Section>
            );
        };

        const AiRiskAdvisor = ({ riskData }) => {
            const [advice, setAdvice] = useState("");
            const [isLoading, setIsLoading] = useState(false);

            const getRiskAdvice = async () => {
                setIsLoading(true);
                setAdvice("");

                const sectorConcentrationString = Object.entries(riskData.sectorConcentration)
                    .map(([sector, risk]) => `${sector}: $${risk.toFixed(2)}`)
                    .join(', ');

                const prompt = `
                    Act as an AI Risk Advisor for a trading portfolio. Based on the following data, provide a concise risk analysis and actionable recommendations in Hebrew.

                    **Portfolio Risk Data:**
                    - Total Financial Risk on Open Trades: $${riskData.totalRiskExposure.toFixed(2)}
                    - Number of Open Trades: ${riskData.openTradesCount}
                    - Risk Concentration by Sector: ${sectorConcentrationString || 'None'}

                    **Your Task:**
                    Generate a response in three short, clear paragraphs in Hebrew:
                    1.  **פרופיל סיכון כללי:** ספק סיכום קצר של רמת הסיכון הנוכחית (לדוגמה, נמוכה, מתונה, גבוהה, מרוכזת מאוד).
                    2.  **תצפיות ואזהרות מפתח:** ציין את גורמי הסיכון המשמעותיים ביותר. האם הסיכון הכולל גבוה? האם יש ריכוזיות מסוכנת בסקטור אחד?
                    3.  **המלצות לפעולה:** ספק 1-2 המלצות ברורות ופשוטות להפחתת הסיכונים שזוהו (לדוגמה, "שקול להפחית חשיפה בסקטור [שם הסקטור]," או "בדוק פוזיציות פתוחות כדי לוודא שרמות הסיכון מקובלות.").
                `;
                
                try {
                     let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=" + apiKey;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) throw new Error(`שגיאת API: ${response.status}`);
                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        setAdvice(text);
                    } else {
                        setAdvice("לא ניתן היה לקבל ייעוץ סיכונים כרגע.");
                    }
                } catch (error) {
                    console.error("שגיאה בקבלת ייעוץ סיכונים מה-AI:", error);
                    setAdvice("אירעה שגיאה בעת קבלת ייעוץ סיכונים: " + error.message);
                } finally {
                    setIsLoading(false);
                }
            };

            return (
                 <Section title="🛡️ יועץ סיכונים AI">
                    <div className="ai-analysis-section col-span-full p-6 rounded-lg">
                        <p className="text-sm text-gray-400 mb-4">נתח את חשיפת הסיכון הכוללת של התיק שלך על סמך כל העסקאות הפתוחות. ה-AI יספק תובנות לגבי ריכוזיות סיכונים ויציע פעולות אפשריות.</p>
                        <button onClick={getRiskAdvice} disabled={isLoading || riskData.openTradesCount === 0} className="w-full bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 min-h-[44px]">
                            <i className="fas fa-shield-alt ml-2"></i> {isLoading ? 'מנתח סיכונים...' : 'הפק ניתוח סיכוני תיק'}
                        </button>
                        <div className={`ai-analysis-output mt-4 p-4 rounded-md min-h-[100px] ${isLoading ? 'loading' : ''} whitespace-pre-wrap`}>
                            {advice}
                        </div>
                    </div>
                </Section>
            );
        };

        const AutocompleteInput = ({ label, value, onValueChange, filterKey, onBlur, onInfoClick, paramKey, children }) => {
            const { setData, setIsDataDirty, gicsDatabase } = useData();
            const [inputValue, setInputValue] = useState(value);
            const [suggestions, setSuggestions] = useState([]);
            const [isFocused, setIsFocused] = useState(false);

            useEffect(() => {
                setInputValue(value);
            }, [value]);

            const handleFocus = () => {
                setIsFocused(true);
                if (inputValue === '') {
                    setSuggestions(gicsDatabase.slice(0, 100));
                }
            };

            const onInputChange = (e) => {
                const newValue = e.target.value;
                setInputValue(newValue);
                onValueChange(newValue);

                if (newValue.length > 0) {
                    const filtered = gicsDatabase.filter(stock =>
                        stock[filterKey] && String(stock[filterKey]).toLowerCase().includes(newValue.toLowerCase())
                    );
                    setSuggestions(filtered.slice(0, 100));
                } else {
                    setSuggestions(gicsDatabase.slice(0, 100));
                }
            };

            const onSuggestionClick = (stock) => {
                setData(prevData => ({
                    ...prevData,
                    section2: {
                        ...prevData.section2,
                        stockName: stock.Name,
                        tickerSymbol: stock.Ticker,
                        sector: stock.Sector,
                        industry: stock.Industry,
                    }
                }));
                setIsDataDirty(true);
                setSuggestions([]);
                setIsFocused(false);
            };

            return (
                <InfoRow label={label} paramKey={paramKey} onInfoClick={onInfoClick}>
                    <div className="relative w-full sm:w-auto flex items-center">
                        <input
                            type="text"
                            value={inputValue}
                            onChange={onInputChange}
                            onFocus={handleFocus}
                            onBlur={() => setTimeout(() => { setIsFocused(false); if(onBlur) onBlur(); }, 200)}
                            className="w-full"
                        />
                        {children}
                        {isFocused && suggestions.length > 0 && (
                            <div className="autocomplete-dropdown absolute top-full left-0 right-0 max-h-48 overflow-y-auto mt-1 rounded-md">
                                {suggestions.map((stock, index) => (
                                    <div
                                        key={`${stock.Ticker}-${stock.Name}-${index}`}
                                        className="autocomplete-item p-2 cursor-pointer text-sm"
                                        onMouseDown={() => onSuggestionClick(stock)}
                                    >
                                        {stock[filterKey]} ({stock.Ticker})
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                </InfoRow>
            );
        };
        
        const DatabaseManager = () => {
            const { gicsDatabase, setGicsDatabase } = useData();
            const fileInputRef = useRef(null);
            const [uploadStatus, setUploadStatus] = useState('');

            const handleFileUpload = (event) => {
                const file = event.target.files[0];
                if (!file) return;
                setUploadStatus('מעבד קובץ...');

                const reader = new FileReader();
                reader.onload = (e) => {
                    const text = e.target.result;
                    processCSV(text);
                };
                    reader.onerror = () => {
                        setUploadStatus('שגיאה בקריאת הקובץ.');
                    };
                reader.readAsText(file);
            };

            const processCSV = (csvText) => {
                const lines = csvText.split('\n').filter(line => line.trim() !== '');
                if (lines.length < 2) {
                    setUploadStatus("שגיאה: קובץ ה-CSV ריק או ללא שורות נתונים.");
                    return;
                }
                
                const headers = lines[0].match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g).map(v => v.replace(/"/g, '').trim());
                
                const tickerIndex = headers.indexOf('Ticker');
                const nameIndex = headers.indexOf('Stock Name');
                const sectorIndex = headers.indexOf('Sector');
                const industryIndex = headers.indexOf('Industry');

                if (tickerIndex === -1) {
                    setUploadStatus("שגיאה: קובץ ה-CSV חייב להכיל עמודת 'Ticker'.");
                    return;
                }
                
                const newStocks = lines.slice(1).map(line => {
                    const values = line.match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g).map(v => v.replace(/"/g, '').trim());
                    return {
                        Ticker: values[tickerIndex] || '',
                        Name: nameIndex !== -1 ? values[nameIndex] : '',
                        Sector: sectorIndex !== -1 ? values[sectorIndex] : '',
                        Industry: industryIndex !== -1 ? values[industryIndex] : '',
                    };
                }).filter(stock => stock.Ticker);

                const tickerMap = new Map(gicsDatabase.map(stock => [stock.Ticker, stock]));
                let addedCount = 0;
                newStocks.forEach(stock => {
                    if (!tickerMap.has(stock.Ticker)) {
                        addedCount++;
                    }
                    tickerMap.set(stock.Ticker, stock);
                });

                const updatedDatabase = Array.from(tickerMap.values());
                setGicsDatabase(updatedDatabase);
                
                setUploadStatus(`מאגר הנתונים עודכן. ${addedCount} מניות חדשות נוספו. סך הכל מניות: ${updatedDatabase.length}`);

                updatedDatabase.forEach(stock => {
                    if (!stock.Name || !stock.Sector || !stock.Industry) {
                        console.log(`נדרשת העשרה עבור ${stock.Ticker}: נתונים חסרים יאוחזרו ממקור רשת כאן.`);
                    }
                });
            };

            return (
                <Section title="ניהול מאגר נתונים">
                    <InfoSectionCard icon="fa-database" title="העשרת נתונים">
                        <div className="p-2 text-center bg-gray-800 rounded-md mb-4">
                            <p className="text-lg">מניות במאגר GICS: <span className="font-bold text-accent-color-2">{gicsDatabase.length}</span></p>
                        </div>
                        <p className="text-sm text-gray-400 mb-4">
                            העלה קובץ CSV עם רשימת מניות כדי להרחיב את מאגר הנתונים. המערכת תסיר כפילויות ותנסה להשלים מידע חסר באופן אוטומטי. ה-CSV חייב להכיל את העמודות הבאות: <b>Ticker, Stock Name, Sector, Industry</b>.
                        </p>
                        <input 
                            type="file" 
                            ref={fileInputRef} 
                            onChange={handleFileUpload} 
                            className="hidden" 
                            accept=".csv" 
                        />
                        <button 
                            onClick={() => fileInputRef.current.click()}
                            className="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 min-h-[44px]">
                            <i className="fas fa-file-csv ml-2"></i> העלה מניות (CSV)
                        </button>
                        {uploadStatus && <p className="text-sm text-center mt-4 text-teal-400">{uploadStatus}</p>}
                    </InfoSectionCard>
                </Section>
            );
        };


        const Modal = ({ title, content, onClose, modalRef }) => {
            return (
                <div ref={modalRef} className="modal-backdrop" onClick={onClose}>
                    <div className="modal-content" onClick={e => e.stopPropagation()}>
                        <h2 className="text-2xl font-bold text-teal-400 mb-4">{title}</h2>
                        <div className="text-gray-300 space-y-3">{content}</div>
                        <button onClick={onClose} className="mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg">סגור</button>
                    </div>
                </div>
            );
        };
        
        const ExportModal = ({ onClose }) => {
            const { exportAsPng, exportAsPdf } = useFirebase();
            const modalRef = useRef(null);
            const allSections = [
                "בקרת מערכת וקלט/פלט", "🚨 בקרת גרסאות ושחזור", "🤖 ניתוח טכני AI",
                "📊 תצוגות גרפיות", "✅ שלב 1: סטטוס חשבון – תיק ההשקעות שלי",
                "✅ שלב 2: ניתוח מניה – פרופיל חברה", "ניהול מאגר נתונים",
                "✅ שלב 3: תנועת שוק – נתוני שוק", "✅ שלב 4: אינדיקטורים טכניים – ארגז הכלים שלך",
                "✅ שלב 5: רמות ותבניות בגרף – תובנות אסטרטגיות", "✅ שלב 6: ניתוח פונדמנטלי – בריאות הליבה של החברה",
                "✅ שלב 7: סיכון וסנטימנט – זרמי שוק תת-קרקעיים", "✅ שלב 8: תוכנית ניהול עסקה ב-5 שלבים"
            ];
            const [selectedSections, setSelectedSections] = useState(allSections);

            const handleToggle = (section) => {
                setSelectedSections(prev => 
                    prev.includes(section) ? prev.filter(s => s !== section) : [...prev, section]
                );
            };
            
            const handleExportPdf = () => {
                exportAsPdf(selectedSections, modalRef);
                onClose();
            };

            const handleExportPng = () => {
                exportAsPng(selectedSections, modalRef);
                onClose();
            };

            const content = (
                <>
                    <p>בחר את הסעיפים שברצונך לכלול בייצוא.</p>
                    <div className="grid grid-cols-2 gap-2 mt-4">
                        {allSections.map(section => (
                            <label key={section} className="flex items-center space-x-2">
                                <input type="checkbox" checked={selectedSections.includes(section)} onChange={() => handleToggle(section)} />
                                <span>{section}</span>
                            </label>
                        ))}
                    </div>
                    <div className="flex gap-4 mt-6">
                        <button onClick={handleExportPdf} className="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg">הפק PDF</button>
                        <button onClick={handleExportPng} className="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg">הפק PNG</button>
                    </div>
                </>
            );

            return <Modal title="ייצוא מותאם אישית" content={content} onClose={onClose} modalRef={modalRef} />;
        };

        const BackupKitModal = ({ onClose, restoreCode, importCode, setImportCode, generateRestoreCode, importFromCode, copyToClipboard }) => {
            const { exportDataAsJson, exportAsPng, exportSourceCode } = useFirebase();
            const modalRef = useRef(null);

            const content = (
                <div>
                    <p className="mb-4">כאן נמצאים כל הנכסים לגיבוי מלא של הפרויקט שלך. השתמש בכפתורים כדי לשמור כל נכס.</p>
                    <div className="space-y-4">
                        <div className="bg-gray-800 p-4 rounded-lg">
                            <h4 className="font-bold mb-2 text-lg text-teal-400">גיבוי קבצים</h4>
                            <div className="flex justify-between items-center mb-2">
                                <div>
                                    <h5 className="font-semibold">קוד מקור (HTML)</h5>
                                    <p className="text-sm text-gray-400">הקוד המלא של האפליקציה.</p>
                                </div>
                                <button onClick={exportSourceCode} className="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 rounded-lg text-sm">הורד HTML</button>
                            </div>
                            <div className="flex justify-between items-center mb-2">
                                <div>
                                    <h5 className="font-semibold">נתוני לוח מחוונים (JSON)</h5>
                                    <p className="text-sm text-gray-400">כל נתוני ניתוח העסקאות הנוכחיים שלך.</p>
                                </div>
                                <button onClick={exportDataAsJson} className="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 rounded-lg text-sm">הורד JSON</button>
                            </div>
                            <div className="flex justify-between items-center">
                                <div>
                                    <h5 className="font-semibold">תמונת מצב חזותית (PNG)</h5>
                                    <p className="text-sm text-gray-400">צילום מסך של תצוגת לוח המחוונים הנוכחית.</p>
                                </div>
                                <button onClick={() => exportAsPng([], modalRef)} className="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 rounded-lg text-sm">הורד PNG</button>
                            </div>
                        </div>
                        
                        <div className="bg-gray-800 p-4 rounded-lg">
                                <h4 className="font-bold mb-2 text-lg text-teal-400">גיבוי ושחזור מבוסס קוד</h4>
                                <button onClick={generateRestoreCode} className="w-full mb-2 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg">צור קוד שחזור</button>
                                {restoreCode && (
                                    <div className="space-y-2">
                                        <label className="text-sm text-gray-400">קוד השחזור שלך:</label>
                                        <div className="flex gap-2">
                                            <textarea readOnly value={restoreCode} className="w-full flex-grow bg-gray-900 border border-gray-600 rounded-md p-2 text-xs" rows="3"></textarea>
                                            <button onClick={() => copyToClipboard(restoreCode)} className="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-3 rounded-lg text-sm">העתק</button>
                                        </div>
                                    </div>
                                )}
                                <div className="space-y-2 mt-4">
                                    <label className="text-sm text-gray-400">הדבק כאן קוד שחזור:</label>
                                    <textarea value={importCode} onChange={(e) => setImportCode(e.target.value)} className="w-full bg-gray-900 border border-gray-600 rounded-md p-2 text-xs" rows="3"></textarea>
                                    <button onClick={importFromCode} className="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg">שחזר מקוד</button>
                                </div>
                        </div>
                    </div>
                </div>
            );

            return <Modal title="ערכת גיבוי מלאה" content={content} onClose={onClose} modalRef={modalRef} />;
        };
        
        const AiTrainingCenterModal = ({ onClose }) => {
            // Mock data for now. In a real app, this would come from Firebase.
            const mockAnalyses = [
                { id: 1, ticker: 'AAPL', date: '2025-08-10', summary: 'הערכה כללית: שורית. סימנים מרכזיים: מחיר מעל ממוצע נע 50 ו-200...', feedback: null },
                { id: 2, ticker: 'GOOG', date: '2025-08-09', summary: 'הערכה כללית: ניטרלית. סימנים מרכזיים: RSI קרוב ל-50, הצלבת MACD קרובה...', feedback: null },
                { id: 3, ticker: 'TSLA', date: '2025-08-08', summary: 'הערכה כללית: דובית. סימנים מרכזיים: מחיר שבר מתחת לתמיכה מרכזית...', feedback: null },
            ];
            
            const [analyses, setAnalyses] = useState(mockAnalyses);
            const modalRef = useRef(null);

            const handleFeedback = (id, feedback) => {
                // This is where you would update the state and eventually send to Firebase
                console.log(`משוב עבור ניתוח ${id}: ${feedback}`);
            };

            const content = (
                <div>
                    <p className="mb-4 text-gray-400">בדוק ניתוחי AI קודמים וספק משוב כדי לשפר את דיוק המודל לאורך זמן. נתונים אלו ישמשו לכוונון עתידי.</p>
                    <div className="space-y-4">
                        {analyses.map(analysis => (
                            <div key={analysis.id} className="bg-gray-800 p-4 rounded-lg">
                                <div className="flex justify-between items-start">
                                    <div>
                                        <h4 className="font-bold text-lg text-teal-400">{analysis.ticker} - <span className="text-sm font-normal text-gray-400">{analysis.date}</span></h4>
                                        <p className="text-sm text-gray-300 mt-1">{analysis.summary}</p>
                                    </div>
                                    <div className="flex gap-2 flex-shrink-0 mr-4">
                                        <button onClick={() => handleFeedback(analysis.id, 'Accurate')} className="bg-green-600 hover:bg-green-700 text-white font-semibold py-1 px-3 rounded-lg text-xs">מדויק</button>
                                        <button onClick={() => handleFeedback(analysis.id, 'Inaccurate')} className="bg-red-600 hover:bg-red-700 text-white font-semibold py-1 px-3 rounded-lg text-xs">לא מדויק</button>
                                    </div>
                                </div>
                                <div className="mt-3">
                                    <textarea placeholder="הוסף הערות משוב אופציונליות..." className="w-full text-xs" rows="2"></textarea>
                                </div>
                            </div>
                        ))}
                    </div>
                    <div className="flex justify-end mt-4">
                        <button className="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg">שלח משוב</button>
                    </div>
                </div>
            );

            return <Modal title="מרכז אימון AI" content={content} onClose={onClose} modalRef={modalRef} />;
        };

        const KnowledgeBaseModal = ({ onClose }) => {
            const [files, setFiles] = useState([]);
            const { db, userId, isAuthReady } = useFirebase();
            const [selectedFileId, setSelectedFileId] = useState(null);
            const [isAnalyzing, setIsAnalyzing] = useState(false);
            const fileInputRef = useRef(null);
            const modalRef = useRef(null);

            const selectedFile = files.find(f => f.id === selectedFileId);

            useEffect(() => {
                if (!isAuthReady || !db || !userId) return;
                const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                const kbCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/knowledge_base`);
                const q = firebase.query(kbCollectionRef, firebase.orderBy('uploadedAt', 'desc'));

                const unsubscribe = firebase.onSnapshot(q, (querySnapshot) => {
                    const fetchedFiles = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                    setFiles(fetchedFiles);
                });

                return () => unsubscribe();
            }, [isAuthReady, db, userId]);

            const fileToGenerativePart = async (file) => {
                const base64EncodedDataPromise = new Promise((resolve) => {
                    const reader = new FileReader();
                    reader.onloadend = () => resolve(reader.result.split(',')[1]);
                    reader.readAsDataURL(file);
                });
                return {
                    inlineData: { data: await base64EncodedDataPromise, mimeType: file.type },
                };
            };
            
            const processFile = async (file) => {
                if (!isAuthReady || !db || !userId) return;
                const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                const kbCollectionRef = firebase.collection(db, `artifacts/${appId}/users/${userId}/knowledge_base`);
                
                const fileData = { 
                    name: file.name, 
                    status: 'מעבד', 
                    size: `${(file.size / 1024).toFixed(2)} KB`,
                    uploadedAt: new Date().toISOString(),
                    processedContent: null,
                    analysis: null
                };

                const docRef = await firebase.addDoc(kbCollectionRef, fileData);

                try {
                    let processedContent = `סוג הקובץ (${file.type}) אינו נתמך לחילוץ תוכן ישיר. נעשה שימוש בשם הקובץ כתוכן.`;
                    if (file.type.startsWith('image/')) {
                        const imagePart = await fileToGenerativePart(file);
                        const payload = { contents: [{ parts: [{ text: "תאר תמונה זו בפירוט מנקודת מבט של ניתוח פיננסי או טכני." }, imagePart] }] };
                        const apiKey = "";
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });
                        if (!response.ok) throw new Error(`שגיאת API: ${response.statusText}`);
                        const result = await response.json();
                        processedContent = result.candidates[0].content.parts[0].text;
                    }
                    
                    await firebase.updateDoc(docRef, { status: 'הושלם', processedContent: processedContent });

                } catch (error) {
                    console.error("שגיאה בעיבוד קובץ:", error);
                    await firebase.updateDoc(docRef, { status: 'שגיאה' });
                }
            };
            
            const handleFiles = async (filesToProcess) => {
                for (const file of filesToProcess) {
                    await processFile(file);
                }
            };

            const handleFileDrop = (e) => {
                e.preventDefault();
                const droppedFiles = Array.from(e.dataTransfer.files);
                handleFiles(droppedFiles);
            };

            const handleFileSelect = (e) => {
                const selectedFiles = Array.from(e.target.files);
                handleFiles(selectedFiles);
            };

            const handleAnalyzeFile = async (file) => {
                if (!file.processedContent) {
                    alert("הקובץ עדיין לא עבר עיבוד או שלא ניתן היה לחלץ תוכן.");
                    return;
                }
                setIsAnalyzing(true);
                setSelectedFileId(file.id);

                const prompt = `
                        Based on the following content extracted from a user-uploaded file, provide a structured analysis.
                        Content: "${file.processedContent}"

                        Generate a response in the following structured format, in Hebrew:
                        1.  **משמעות/סיגנל:** מהי המשמעות הטכנית העיקרית או הסיגנל מהתוכן הזה?
                        2.  **פעולה מומלצת:** בהתבסס על הסיגנל, מהי הפעולה או התגובה המומלצת?
                        3.  **דוגמאות/הערות חשובות:** ספק דוגמאות חיוניות או הערות חשובות הקשורות לסיגנל זה.
                        4.  **מצב אפשרי:** מהם התרחישים או המצבים האפשריים שיכולים להתרחש בהמשך?
                        5.  **למה לבדוק פרמטר זה:** הסבר את תרומתו של פרמטר/סיגנל זה לניתוח הכולל.
                        6.  **איך למצוא את הנתונים:** כיצד ניתן בדרך כלל למצוא או לאמת נתונים אלה?
                    `;

                try {
                    let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) throw new Error(`שגיאת API: ${response.statusText}`);
                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                        const fileDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/knowledge_base`, file.id);
                        await firebase.updateDoc(fileDocRef, { analysis: text });
                    } else {
                        throw new Error("לא ניתן היה להפיק ניתוח.");
                    }
                } catch (error) {
                    console.error("שגיאה בניתוח הקובץ:", error);
                    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                    const fileDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/knowledge_base`, file.id);
                    await firebase.updateDoc(fileDocRef, { analysis: "אירעה שגיאה במהלך הניתוח." });
                } finally {
                    setIsAnalyzing(false);
                }
            };
            
            const handleDeleteFile = async (fileId) => {
                if (confirm("האם אתה בטוח שברצונך למחוק קובץ זה?")) {
                    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                    const fileDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/knowledge_base`, fileId);
                    await firebase.deleteDoc(fileDocRef);
                }
            };

            const content = (
                <div>
                    <p className="mb-4 text-gray-400">העלה מסמכים, גיליונות אלקטרוניים, מצגות או תמונות כדי לאמן את ה-AI. המערכת תחלץ מידע רלוונטי כדי לספק תובנות וניתוחים עשירים יותר.</p>
                    <div 
                        onDragOver={(e) => e.preventDefault()} 
                        onDrop={handleFileDrop}
                        onClick={() => fileInputRef.current.click()}
                        className="border-2 border-dashed border-gray-500 rounded-lg p-8 text-center cursor-pointer hover:border-teal-400 transition-all"
                    >
                        <i className="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-2"></i>
                        <p>גרור ושחרר קבצים כאן או לחץ לבחירה</p>
                        <input type="file" multiple ref={fileInputRef} onChange={handleFileSelect} className="hidden" />
                        <p className="text-xs text-gray-500 mt-2">נתמך: DOC, DOCX, XLSX, CSV, PPT, PPS, JPG, PNG</p>
                    </div>
                    <div className="mt-6">
                        <h4 className="font-bold text-lg text-teal-400 mb-2">קבצים שהועלו</h4>
                        <div className="w-full overflow-x-auto" style={{maxHeight: '200px'}}>
                            <table className="w-full text-right text-sm">
                                <thead>
                                    <tr className="border-b border-gray-600">
                                        <th className="p-2">שם קובץ</th>
                                        <th className="p-2">גודל</th>
                                        <th className="p-2">סטטוס</th>
                                        <th className="p-2 text-center">פעולות</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {files.length === 0 ? (
                                        <tr><td colSpan="4" className="text-center p-4 text-gray-500">עדיין לא הועלו קבצים.</td></tr>
                                    ) : (
                                        files.map((file) => (
                                            <tr key={file.id} className="border-b border-gray-700 hover:bg-gray-700">
                                                <td className="p-2 font-medium">{file.name}</td>
                                                <td className="p-2">{file.size}</td>
                                                <td className="p-2">
                                                    <span className={`${
                                                        file.status === 'הושלם' ? 'bg-green-500 text-green-900' :
                                                        file.status === 'מעבד' ? 'bg-yellow-500 text-yellow-900' :
                                                        'bg-red-500 text-red-900'
                                                    } text-xs font-semibold mr-2 px-2.5 py-0.5 rounded`}>{file.status}</span>
                                                </td>
                                                <td className="p-2 text-center">
                                                    <button onClick={() => handleAnalyzeFile(file)} disabled={file.status !== 'הושלם' || (isAnalyzing && selectedFileId === file.id)} className="text-teal-400 hover:text-teal-200 text-xs ml-4 disabled:opacity-50">
                                                        {isAnalyzing && selectedFileId === file.id ? 'מנתח...' : 'נתח'}
                                                    </button>
                                                    <button onClick={() => handleDeleteFile(file.id)} className="text-red-400 hover:text-red-200 text-xs">
                                                        <i className="fas fa-trash-alt"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        ))
                                    )}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    {selectedFile && (
                        <div className="mt-6">
                            <h4 className="font-bold text-lg text-teal-400 mb-2">ניתוח עבור: {selectedFile.name}</h4>
                            <div className={`ai-analysis-output p-4 rounded-md min-h-[100px] ${isAnalyzing ? 'loading' : ''}`}>
                                {selectedFile.analysis && <div className="whitespace-pre-wrap">{selectedFile.analysis}</div>}
                            </div>
                        </div>
                    )}
                </div>
            );
            return <Modal title="מאגר ידע ואימון AI" content={content} onClose={onClose} modalRef={modalRef} />;
        };

        //======================================================================
        //  6. API & UTILITY FUNCTIONS
        //======================================================================
        const findGicsClassification = (ticker, gicsDatabase) => {
            const stock = gicsDatabase.find(item => item.Ticker.toLowerCase() === ticker.toLowerCase());
            if (stock) {
                return { sector: stock.Sector, industry: stock.Industry };
            }
            return { sector: '', industry: '' };
        };

        const fetchApiData = async (ticker, apiKey, setData, setApiStatus, setIsLiveDataSet, gicsDatabase) => {
            if (!ticker) {
                setApiStatus({ loading: false, error: "סימול המניה ריק." });
                return;
            }
            if (!apiKey) {
                setApiStatus({ loading: false, error: "חסר מפתח API של Alpha Vantage." });
                return;
            }
            setApiStatus({ loading: true, error: null });

            const functions = ['GLOBAL_QUOTE', 'RSI', 'SMA', 'MACD', 'VWAP', 'ATR', 'OVERVIEW', 'TIME_SERIES_DAILY', 'CURRENCY_EXCHANGE_RATE'];
            const urls = functions.map(func => {
                if (func === 'CURRENCY_EXCHANGE_RATE') {
                    return `https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=USD&to_currency=ILS&apikey=${apiKey}`;
                }
                return `https://www.alphavantage.co/query?function=${func}&symbol=${ticker}&interval=daily&time_period=14&series_type=close&apikey=${apiKey}`
            });

            try {
                const responses = await Promise.all(urls.map(url => fetch(url)));
                const results = await Promise.all(responses.map(res => res.json()));

                const [quote, rsi, sma, macd, vwap, atr, overview, dailySeries, exchangeRate] = results;
                
                if (quote['Error Message'] || !quote['Global Quote'] || Object.keys(quote['Global Quote']).length === 0) {
                    throw new Error(quote['Note'] || 'סימול לא תקין או הגעת למגבלת ה-API.');
                }

                const globalQuote = quote['Global Quote'];
                const { sector, industry } = findGicsClassification(ticker, gicsDatabase);

                const lastRsi = rsi['Technical Analysis: RSI'] ? Object.values(rsi['Technical Analysis: RSI'])[0]['RSI'] : 'N/A';
                const lastSma200 = sma['Technical Analysis: SMA'] ? Object.values(sma['Technical Analysis: SMA'])[0]['SMA'] : 'N/A';
                const lastMacd = macd['Technical Analysis: MACD'] ? Object.values(macd['Technical Analysis: MACD'])[0] : {};
                const lastVwap = vwap['Technical Analysis: VWAP'] ? Object.values(vwap['Technical Analysis: VWAP'])[0]['VWAP'] : 'N/A';
                const lastAtr = atr['Technical Analysis: ATR'] ? Object.values(atr['Technical Analysis: ATR'])[0]['ATR'] : 'N/A';
                const currentUSDRate = exchangeRate['Realtime Currency Exchange Rate'] ? parseFloat(exchangeRate['Realtime Currency Exchange Rate']['5. Exchange Rate']) : null;


                let dailyPivot = 0;
                if (dailySeries && dailySeries['Time Series (Daily)']) {
                    const dates = Object.keys(dailySeries['Time Series (Daily)']);
                    if (dates.length > 1) {
                        const previousDayData = dailySeries['Time Series (Daily)'][dates[1]];
                        const prevHigh = parseFloat(previousDayData['2. high']);
                        const prevLow = parseFloat(previousDayData['3. low']);
                        const prevClose = parseFloat(previousDayData['4. close']);
                        dailyPivot = (prevHigh + prevLow + prevClose) / 3;
                    }
                }

                setData(prevData => ({
                    ...prevData,
                    section1: {
                        ...prevData.section1,
                        currentUSDRate: currentUSDRate || prevData.section1.currentUSDRate,
                    },
                    section2: {
                        ...prevData.section2,
                        stockName: overview['Name'] || prevData.section2.stockName,
                        sector: overview['Sector'] || sector,
                        industry: overview['Industry'] || industry,
                        marketCap: overview['MarketCapitalization'] || prevData.section2.marketCap
                    },
                    section3: {
                        ...prevData.section3,
                        currentPrice: parseFloat(globalQuote['05. price']),
                        dailyRange: `${parseFloat(globalQuote['04. low'])} - ${parseFloat(globalQuote['03. high'])}`,
                        prevDayRange: `Close: ${parseFloat(globalQuote['08. previous close'])}`,
                        currentVolume: globalQuote['06. volume'],
                    },
                    section4: {
                        ...prevData.section4,
                        rsi: parseFloat(lastRsi),
                        ma200: parseFloat(lastSma200),
                        macd: parseFloat(lastMacd['MACD']),
                        macdSignal: parseFloat(lastMacd['MACD_Signal']),
                        macdHistogram: parseFloat(lastMacd['MACD_Hist']),
                        vwap: parseFloat(lastVwap),
                        atr: parseFloat(lastAtr),
                    },
                    section5: {
                        ...prevData.section5,
                        dailyPivot: dailyPivot.toFixed(2),
                    },
                    section6: {
                        ...prevData.section6,
                        revenue: overview['RevenueTTM'],
                        eps: parseFloat(overview['EPS']),
                        peRatio: parseFloat(overview['PERatio']),
                        pbRatio: parseFloat(overview['PriceToBookRatio']),
                        dividend: overview['DividendYield'],
                        analystForecasts: overview['AnalystTargetPrice'],
                    },
                    section8: {
                        ...prevData.section8,
                        step1: {
                            ...prevData.section8.step1,
                            currentPrice: parseFloat(globalQuote['05. price']),
                        }
                    }
                }));
                
                setIsLiveDataSet(true);
                setApiStatus({ loading: false, error: null });

            } catch (error) {
                console.error("שגיאה באחזור API:", error);
                setApiStatus({ loading: false, error: error.message });
            }
        };


        //======================================================================
        //  7. MAIN APP COMPONENT
        //======================================================================
        
        const App = () => {
            const { data, setData, handleNestedChange, apiStatus, setApiStatus, gicsDatabase, isLiveDataSet, setIsLiveDataSet, dataEntryMode, setDataEntryMode, tradeLog } = useData();
            const { userId, db, isAuthReady } = useFirebase();
            const [modalInfo, setModalInfo] = useState(null);
            const [tacticalRecommendations, setTacticalRecommendations] = useState([]);
            const [alphaVantageKey, setAlphaVantageKey] = useState('U4464522W6V69P5G');

            const calculatedData = useMemo(() => {
                const s1 = data.section1;
                const initialUSD = (s1.initialPortfolioValueILS > 0 && s1.initialUSDRate > 0) ? (s1.initialPortfolioValueILS / s1.initialUSDRate) : parseFloat(s1.initialPortfolioValueUSD) || 0;
                const currentUSD = (s1.currentPortfolioValueILS > 0 && s1.currentUSDRate > 0) ? (s1.currentPortfolioValueILS / s1.currentUSDRate) : parseFloat(s1.currentPortfolioValueUSD) || 0;
                const totalPL = (initialUSD > 0 && currentUSD > 0) ? (currentUSD - initialUSD) : parseFloat(s1.totalPLUSD) || 0;
                const totalPLPercentage = (initialUSD > 0) ? (totalPL / initialUSD * 100) : 0;
                
                return {
                    initialPortfolioValueUSD: initialUSD.toFixed(2),
                    currentPortfolioValueUSD: currentUSD.toFixed(2),
                    totalPLUSD: totalPL.toFixed(2),
                    totalPLPercentage: totalPLPercentage.toFixed(2)
                };
            }, [data.section1.initialPortfolioValueILS, data.section1.initialUSDRate, data.section1.currentPortfolioValueILS, data.section1.currentUSDRate]);

            const displayData = useMemo(() => {
                const newData = JSON.parse(JSON.stringify(data));
                newData.section1 = { ...newData.section1, ...calculatedData };
                
                const { section1, section3, section4, section5, section8 } = newData;

                if (section3.currentPrice > 0) {
                    if (section4.ma200) section4.maMeaning = section3.currentPrice > section4.ma200 ? 'שורי לטווח ארוך' : 'דובי לטווח ארוך';
                    if (section4.ma50) section4.maAction = section3.currentPrice > section4.ma50 ? 'שקול קנייה' : 'שקול מכירה';
                    if (section4.atr) section4.atrPercent = ((section4.atr / section3.currentPrice) * 100).toFixed(2);
                }
                if (section4.macd && section4.macdSignal) {
                    const isAbove = section4.macd > section4.macdSignal;
                    section4.macdMeaning = isAbove ? 'מומנטום שורי' : 'מומנטום דובי';
                    section4.macdAction = isAbove ? 'סיגנל קנייה' : 'סיגנל מכירה';
                }
                if (section5.dailyPivot > 0 && section3.currentPrice > 0) {
                    const isAbove = section3.currentPrice > section5.dailyPivot;
                    section5.priceVsPivot = isAbove ? 'מעל פיבוט' : 'מתחת לפיבוט';
                    section5.pivotAction = isAbove ? 'חוזקה פוטנציאלית' : 'חולשה פוטנציאלית';
                }

                const entry = parseFloat(section8.step1.entryPrice) || 0;
                const stop = parseFloat(section8.step1.stopLoss) || 0;
                const units = parseFloat(section8.step1.units) || 0;
                if (entry > 0 && stop > 0) {
                    const riskPerUnit = entry - stop;
                    section8.step2.potentialRiskUnit = riskPerUnit.toFixed(2);
                    if (units > 0) {
                        const financialRisk = riskPerUnit * units;
                        section8.step2.financialRisk = financialRisk.toFixed(2);
                        const totalCost = units * entry;
                        section8.step2.totalCost = totalCost.toFixed(2);
                        section8.step2.remainingBalance = (section1.buyingPowerUSD - totalCost).toFixed(2);
                    }
                    const tp1 = parseFloat(section8.step3.tp1) || 0;
                    if (tp1 > entry && units > 0) {
                        const profitPotential = (tp1 - entry) * units;
                        section8.step3.profitPotential1 = profitPotential.toFixed(2);
                        if (riskPerUnit > 0) {
                            const totalRisk = riskPerUnit * units;
                            const riskReward = profitPotential / totalRisk;
                            section8.step3.riskRewardRatio = `1:${riskReward.toFixed(2)}`;
                        } else {
                            section8.step3.riskRewardRatio = 'N/A';
                        }
                    }
                }
                const closePrice = parseFloat(section8.step4.closePrice) || 0;
                const fees = parseFloat(section8.step4.fees) || 0;
                if (closePrice > 0 && entry > 0 && units > 0) {
                    const financialResult = (closePrice - entry) * units - fees;
                    section8.step4.financialResult = financialResult.toFixed(2);
                    const cost = entry * units;
                    if (cost > 0) {
                        const roi = (financialResult / cost) * 100;
                        section8.step4.roi = roi.toFixed(2);
                    }
                }
                
                return newData;
            }, [data, calculatedData]);

            useEffect(() => {
                const recommendations = [];
                const s4 = displayData.section4;
                if (s4.maMeaning?.includes('שורי')) recommendations.push("המחיר מעל ממוצע נע 200, מצביע על מגמת עלייה ארוכת טווח.");
                if (s4.maMeaning?.includes('דובי')) recommendations.push("המחיר מתחת לממוצע נע 200, מצביע על מגמת ירידה ארוכת טווח.");
                if (s4.maAction?.includes('קנייה')) recommendations.push("המחיר מעל ממוצע נע 50, שקול הגדרות שוריות.");
                if (s4.maAction?.includes('מכירה')) recommendations.push("המחיר מתחת לממוצע נע 50, שקול הגדרות דוביות.");
                if (s4.rsi > 70) recommendations.push("RSI בקניית יתר (>70), היזהר מתיקון אפשרי.");
                if (s4.rsi < 30) recommendations.push("RSI במכירת יתר (<30), צפה להיפוך אפשרי.");
                setTacticalRecommendations(recommendations);
            }, [displayData.section4.maMeaning, displayData.section4.maAction, displayData.section4.rsi]);

            const riskData = useMemo(() => {
                const openTrades = tradeLog.filter(t => t.status === 'Open');
                
                const totalRiskExposure = openTrades.reduce((acc, trade) => {
                    const financialRisk = parseFloat(trade.data.section8.step2.financialRisk) || 0;
                    return acc + financialRisk;
                }, 0);

                const sectorConcentration = openTrades.reduce((acc, trade) => {
                    const sector = trade.data.section2.sector || 'לא מסווג';
                    const risk = parseFloat(trade.data.section8.step2.financialRisk) || 0;
                    if (!acc[sector]) {
                        acc[sector] = 0;
                    }
                    acc[sector] += risk;
                    return acc;
                }, {});

                const sortedSectors = Object.entries(sectorConcentration)
                    .sort(([, a], [, b]) => b - a)
                    .reduce((r, [k, v]) => ({ ...r, [k]: v }), {});

                return {
                    totalRiskExposure,
                    sectorConcentration: sortedSectors,
                    openTradesCount: openTrades.length
                };
            }, [tradeLog]);

            useEffect(() => {
                const fetchApiKey = async () => {
                    if (isAuthReady && db && userId) {
                         const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                        const settingsDocRef = firebase.doc(db, `artifacts/${appId}/users/${userId}/settings/alphaVantage`);
                        const docSnap = await firebase.getDoc(settingsDocRef);
                        if (docSnap.exists()) {
                            setAlphaVantageKey(docSnap.data().key || 'U4464522W6V69P5G');
                        }
                    }
                };
                fetchApiKey();
            }, [isAuthReady, db, userId]);

            const handleTickerBlur = () => {
                const { tickerSymbol } = data.section2;
                const classification = findGicsClassification(tickerSymbol, gicsDatabase);
                if(classification.sector) {
                        setData(prevData => ({
                            ...prevData,
                            section2: {
                                ...prevData.section2,
                                sector: classification.sector,
                                industry: classification.industry,
                            }
                    }));
                }
            };
            
            const handleInfoClick = (paramKey) => {
                const info = paramData[paramKey];
                if(info) {
                    const content = (
                        <div>
                            <p><strong>הגדרה:</strong> {info.definition}</p>
                            <p><strong>שימוש:</strong> {info.usage}</p>
                            <p><strong>איך למצוא:</strong> {info.howTo}</p>
                        </div>
                    );
                    setModalInfo({ title: info.fullName, content });
                }
            };

            const getRsiIndicator = () => {
                const rsi = displayData.section4.rsi;
                if (!rsi) return null;
                if (rsi > 70) return <Indicator text="קניית יתר" colorClass="indicator-red" iconClass="fa-arrow-trend-down" />;
                if (rsi < 30) return <Indicator text="מכירת יתר" colorClass="indicator-green" iconClass="fa-arrow-trend-up" />;
                return <Indicator text="ניטרלי" colorClass="indicator-yellow" />;
            };

            const getRiskRewardIndicator = () => {
                const ratio = displayData.section8.step3.riskRewardRatio;
                if (!ratio || ratio === 'N/A') return null;
                const ratioValue = parseFloat(ratio.split(':')[1]);
                if (ratioValue >= 2) return <Indicator text="מועדף" colorClass="indicator-green" />;
                if (ratioValue < 1) return <Indicator text="לא מועדף" colorClass="indicator-red" />;
                return <Indicator text="סביר" colorClass="indicator-yellow" />;
            };
            
            const getMaMeaningIndicator = () => {
                const meaning = displayData.section4.maMeaning;
                if (!meaning) return null;
                if (meaning.includes('שורי')) return <Indicator text="שורי" colorClass="indicator-green" />;
                if (meaning.includes('דובי')) return <Indicator text="דובי" colorClass="indicator-red" />;
                return null;
            }

            return (
                <div className="dashboard-container w-full max-w-7xl p-4 sm:p-8 md:p-10 relative">
                    {modalInfo && <Modal title={modalInfo.title} content={modalInfo.content} onClose={() => setModalInfo(null)} />}
                    <Header />
                    <Breadcrumb />
                    
                    <Tabs>
                        <Tab label="לוח מחוונים" icon="fa-tachometer-alt">
                            <KpiSection calculatedData={calculatedData} />
                            <AdvancedRiskModule riskData={riskData} />
                            <GlobalFilter />
                            <TradeLogManager />
                            <Section title="📊 תצוגות גרפיות">
                               <TradeDistributionChart />
                               <PortfolioHistoryChart />
                            </Section>
                        </Tab>
                        <Tab label="ניתוח עסקה" icon="fa-edit">
                            <Section title="✅ שלב 1: סטטוס חשבון – תיק ההשקעות שלי">
                                <InfoSectionCard icon="fa-wallet" title="סטטוס חשבון">
                                    <InfoRow label='ערך תיק התחלתי (ש"ח):'><input type="number" value={data.section1.initialPortfolioValueILS} onChange={(e) => handleNestedChange('section1.initialPortfolioValueILS', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label='שער דולר התחלתי:'><input type="number" value={data.section1.initialUSDRate} onChange={(e) => handleNestedChange('section1.initialUSDRate', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label='ערך תיק התחלתי ($):'><input type="text" value={displayData.section1.initialPortfolioValueUSD} readOnly className="w-full sm:w-auto" /></InfoRow>
                                    <div className="border-t border-gray-700 my-4"></div>
                                    <InfoRow label='ערך תיק נוכחי (ש"ח):'><input type="number" value={data.section1.currentPortfolioValueILS} onChange={(e) => handleNestedChange('section1.currentPortfolioValueILS', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label='שער דולר נוכחי:'><input type="number" value={data.section1.currentUSDRate} onChange={(e) => handleNestedChange('section1.currentUSDRate', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label='ערך תיק נוכחי ($):'><input type="text" value={displayData.section1.currentPortfolioValueUSD} readOnly className="w-full sm-w-auto" /></InfoRow>
                                     <div className="border-t border-gray-700 my-4"></div>
                                    <InfoRow label='יתרה ($):'><input type="number" value={data.section1.balanceUSD} onChange={(e) => handleNestedChange('section1.balanceUSD', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label='יתרה (ש"ח):'><input type="number" value={data.section1.balanceILS} onChange={(e) => handleNestedChange('section1.balanceILS', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label='מסגרת אשראי:'><input type="number" value={data.section1.creditLimit} onChange={(e) => handleNestedChange('section1.creditLimit', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="כוח קנייה ($):"><input type="number" value={data.section1.buyingPowerUSD} onChange={(e) => handleNestedChange('section1.buyingPowerUSD', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="רווח/הפסד יומי ($):"><input type="number" value={data.section1.dailyPLUSD} onChange={(e) => handleNestedChange('section1.dailyPLUSD', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="רווח/הפסד כולל ($):"><input type="text" value={displayData.section1.totalPLUSD} readOnly className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="אחוז רווח/הפסד:" indicator={<span className={parseFloat(displayData.section1.totalPLPercentage) >= 0 ? 'text-green-400' : 'text-red-400'}>{displayData.section1.totalPLPercentage}%</span>}>
                                        <input type="text" value={displayData.section1.totalPLPercentage} readOnly className="w-full sm:w-auto" />
                                    </InfoRow>

                                </InfoSectionCard>
                            </Section>

                            <Section title="✅ שלב 2: ניתוח מניה – פרופיל חברה">
                                <InfoSectionCard icon="fa-building" title="פרטי המניה">
                                    <div className="flex gap-2 mb-4">
                                        <button 
                                            onClick={() => setDataEntryMode('manual')}
                                            className={`w-full py-2 text-sm rounded-md ${dataEntryMode === 'manual' ? 'bg-indigo-600 text-white' : 'bg-gray-600'}`}>
                                            מצב ידני
                                        </button>
                                        <button 
                                            onClick={() => setDataEntryMode('auto')}
                                            className={`w-full py-2 text-sm rounded-md ${dataEntryMode === 'auto' ? 'bg-indigo-600 text-white' : 'bg-gray-600'}`}>
                                            מצב אוטומטי (API)
                                        </button>
                                    </div>
                                    <AutocompleteInput label="שם המניה:" value={data.section2.stockName} onValueChange={(val) => handleNestedChange('section2.stockName', val)} filterKey="Name" onInfoClick={handleInfoClick} paramKey="Stock Name" />
                                    <AutocompleteInput label="סימול:" value={data.section2.tickerSymbol} onValueChange={(val) => handleNestedChange('section2.tickerSymbol', val)} filterKey="Ticker" onBlur={handleTickerBlur} onInfoClick={handleInfoClick} paramKey="Ticker">
                                        <button 
                                            onClick={() => fetchApiData(data.section2.tickerSymbol, alphaVantageKey, setData, setApiStatus, setIsLiveDataSet, gicsDatabase)} 
                                            disabled={!data.section2.tickerSymbol || apiStatus.loading}
                                            className="mr-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-1 px-3 rounded-lg shadow-md transition-all duration-200 disabled:opacity-50">
                                            {apiStatus.loading ? <i className="fas fa-spinner fa-spin"></i> : "אחזר"}
                                        </button>
                                    </AutocompleteInput>
                                    <InfoRow label="סקטור:" onInfoClick={handleInfoClick} paramKey="Sector">
                                        <select value={data.section2.sector} onChange={(e) => handleNestedChange('section2.sector', e.target.value)} className="w-full sm:w-auto">
                                            <option value="">בחר סקטור</option>
                                            {[...new Set(gicsDatabase.map(item => item.Sector))].map(s => <option key={s} value={s}>{s}</option>)}
                                        </select>
                                    </InfoRow>
                                        <InfoRow label="תעשייה:" onInfoClick={handleInfoClick} paramKey="Industry">
                                        <select value={data.section2.industry} onChange={(e) => handleNestedChange('section2.industry', e.target.value)} className="w-full sm:w-auto">
                                            <option value="">בחר תעשייה</option>
                                            {[...new Set(gicsDatabase.filter(item => item.Sector === data.section2.sector).map(item => item.Industry))].map((industry, index) => <option key={`${industry}-${index}`} value={industry}>{industry}</option>)}
                                        </select>
                                    </InfoRow>
                                </InfoSectionCard>
                            </Section>

                            <Section title="✅ שלב 3: תנועת שוק – נתוני שוק">
                                <InfoSectionCard icon="fa-chart-line" title="נתוני שוק">
                                    <InfoRow label="מחיר נוכחי:" onInfoClick={handleInfoClick} paramKey="CurrentPrice"><input type="number" readOnly={isLiveDataSet} value={data.section3.currentPrice} onChange={(e) => handleNestedChange('section3.currentPrice', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="טווח יומי:" onInfoClick={handleInfoClick} paramKey="DailyRange"><input type="text" readOnly={isLiveDataSet} value={data.section3.dailyRange} onChange={(e) => handleNestedChange('section3.dailyRange', e.target.value)} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="טווח יום קודם:" onInfoClick={handleInfoClick} paramKey="PrevDayRange"><input type="text" readOnly={isLiveDataSet} value={data.section3.prevDayRange} onChange={(e) => handleNestedChange('section3.prevDayRange', e.target.value)} className="w-full sm:w-auto" /></InfoRow>
                                </InfoSectionCard>
                            </Section>
                            
                            <Section title="✅ שלב 4: תוכנית ניהול עסקה ב-5 שלבים">
                               <InfoSectionCard icon="fa-tasks" title="שלב 1: הגדרת פרטי העסקה">
                                    <InfoRow label="סטטוס:"><input type="text" value={data.section8.step1.status} onChange={(e) => handleNestedChange('section8.step1.status', e.target.value)} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="תאריך רכישה:"><input type="date" value={data.section8.step1.purchaseDate} onChange={(e) => handleNestedChange('section8.step1.purchaseDate', e.target.value)} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="מחיר כניסה:"><input type="number" value={data.section8.step1.entryPrice} onChange={(e) => handleNestedChange('section8.step1.entryPrice', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="יחידות:"><input type="number" value={data.section8.step1.units} onChange={(e) => handleNestedChange('section8.step1.units', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="סטופ לוס:"><input type="number" value={data.section8.step1.stopLoss} onChange={(e) => handleNestedChange('section8.step1.stopLoss', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                </InfoSectionCard>
                               <InfoSectionCard icon="fa-shield-alt" title="שלב 2: תוכנית ניהול סיכונים">
                                    <InfoRow label="סיכון פוטנציאלי ליחידה:"><input type="text" value={displayData.section8.step2.potentialRiskUnit} readOnly className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="סיכון פיננסי:"><input type="text" value={displayData.section8.step2.financialRisk} readOnly className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="עלות כוללת:"><input type="text" value={displayData.section8.step2.totalCost} readOnly className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="יתרה נותרת:"><input type="text" value={displayData.section8.step2.remainingBalance} readOnly className="w-full sm:w-auto" /></InfoRow>
                                </InfoSectionCard>
                               <InfoSectionCard icon="fa-bullseye" title="שלב 3: הגדרת יעדים ותחזית">
                                    <InfoRow label="יעד רווח 1:"><input type="number" value={data.section8.step3.tp1} onChange={(e) => handleNestedChange('section8.step3.tp1', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="יעד רווח 2:"><input type="number" value={data.section8.step3.tp2} onChange={(e) => handleNestedChange('section8.step3.tp2', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="פוטנציאל רווח (יעד 1):"><input type="text" value={displayData.section8.step3.profitPotential1} readOnly className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="יחס סיכון/סיכוי:" onInfoClick={handleInfoClick} paramKey="RiskRewardRatio" indicator={getRiskRewardIndicator()}><input type="text" value={displayData.section8.step3.riskRewardRatio} readOnly className="w-full sm:w-auto" /></InfoRow>
                                </InfoSectionCard>
                               <InfoSectionCard icon="fa-check-double" title="שלב 4: סגירה וניתוח ביצועים">
                                    <InfoRow label="תאריך סגירה:"><input type="date" value={data.section8.step4.closeDate} onChange={(e) => handleNestedChange('section8.step4.closeDate', e.target.value)} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="מחיר סגירה:"><input type="number" value={data.section8.step4.closePrice} onChange={(e) => handleNestedChange('section8.step4.closePrice', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="עמלות:"><input type="number" value={data.section8.step4.fees} onChange={(e) => handleNestedChange('section8.step4.fees', parseFloat(e.target.value))} className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="תוצאה פיננסית:"><input type="text" value={displayData.section8.step4.financialResult} readOnly className="w-full sm:w-auto" /></InfoRow>
                                    <InfoRow label="תשואה (%):"><input type="text" value={displayData.section8.step4.roi} readOnly className="w-full sm:w-auto" /></InfoRow>
                                </InfoSectionCard>
                               <InfoSectionCard icon="fa-book-open" title="שלב 5: תיעוד ולמידה">
                                    <InfoRow label="לקחים ותובנות:"><textarea value={data.section8.step5.lessonsLearned} onChange={(e) => handleNestedChange('section8.step5.lessonsLearned', e.target.value)} className="w-full" /></InfoRow>
                                </InfoSectionCard>
                            </Section>
                        </Tab>
                        <Tab label="מרכז AI" icon="fa-robot">
                            <AiAnalysis />
                            <AiRiskAdvisor riskData={riskData} />
                            <Section title="💡 המלצות AI טקטיות">
                                <InfoSectionCard icon="fa-lightbulb">
                                    {apiStatus.loading && <p className="text-gray-400">טוען המלצות...</p>}
                                    {apiStatus.error && <p className="text-red-400">{apiStatus.error}</p>}
                                    {!apiStatus.loading && !apiStatus.error && (
                                        tacticalRecommendations.length > 0 ? (
                                            <ul className="list-disc pr-5 space-y-2 text-gray-300">
                                                {tacticalRecommendations.map((rec, index) => <li key={index}>{rec}</li>)}
                                            </ul>
                                        ) : (
                                            <p className="text-gray-400">הזן נתונים נוספים כדי להפיק המלצות טקטיות.</p>
                                        )
                                    )}
                                </InfoSectionCard>
                            </Section>
                        </Tab>
                        <Tab label="מערכת והגדרות" icon="fa-cogs">
                            <ControlPanel />
                            <BITDashboard />
                            <VersionManagementCenter />
                            <DatabaseManager />
                        </Tab>
                    </Tabs>
                    
                    <footer className="w-full mt-10 pt-4 border-t border-gray-700 text-center text-xs text-gray-500">
                        <p>Praxis AI Dashboard © 2025. כל הזכויות שמורות.</p>
                        <p className="mt-2">כתב ויתור: תוכנה זו מסופקת "כפי שהיא" ללא כל אחריות. המשתמש נושא בכל הסיכונים הקשורים לשימוש בה. בשום מקרה היוצר לא יהיה אחראי לכל נזק.</p>
                    </footer>

                </div>
            );
        };
        
        //======================================================================
        //  8. RENDER THE APP
        //======================================================================
        
        const root = createRoot(document.getElementById('root'));
        root.render(
            <DataProvider>
                <FirebaseProvider>
                    <App />
                </FirebaseProvider>
            </DataProvider>
        ); 
    </script>






</body></html>